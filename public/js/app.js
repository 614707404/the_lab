/*! For license information please see app.js.LICENSE.txt */
(()=>{var t,e={509:(t,e,n)=>{"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pointer=null,this.vertexShaderSource=e,this.fragmentShaderSource=n}var e,n,i;return e=t,(n=[{key:"initialize",value:function(t,e){}},{key:"beforeRender",value:function(t,e){}},{key:"afterRender",value:function(t,e){}},{key:"getPointer",value:function(){return this.pointer}},{key:"setPointer",value:function(t){this.pointer=t}},{key:"getVertexShaderSource",value:function(){return this.vertexShaderSource}},{key:"getFragmentShaderSource",value:function(){return this.fragmentShaderSource}}])&&r(e.prototype,n),i&&r(e,i),t}();function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){var e="function"==typeof Map?new Map:void 0;return(l=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return c(t,arguments,p(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,t)})(t)}function c(t,e,n){return(c=h()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&f(i,n.prototype),i}).apply(null,arguments)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){return t%1==0?"".concat(t,".0"):"".concat(t)},v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(i,t);var e,n,r=(e=i,n=h(),function(){var t,r=p(e);if(n){var i=p(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return u(this,t)});function i(t,e,n){return s(this,i),t="WebGL error: ".concat(t),r.call(this,t,e,n)}return i}(l(Error)),g=function(){function t(e){s(this,t),this.canvas_=e.canvas,this.gl_=this.getWebglContext_(this.canvas_,{preserveDrawingBuffer:!0,premultipliedAlpha:!1}),this.dataset_={width:void 0===e.width?0:e.width,height:void 0===e.height?0:e.height,depth:void 0===e.depth?0:e.depth,precision:void 0===e.precision?0:e.precision},this.props_=this.getProps_(this.gl_,this.dataset_,e),this.tilesToStore_={};for(var n=0;n<this.props_.tiles;n++)this.tilesToStore_[n]=null;this.initializedTextures_=Array(this.props_.requiredUnits).fill(!1),this.programs_=[],this.assets_={buffers:{},framebuffers:{},textures:{}},this.renderPromises_={},this.prepareWebgl_(this.gl_,this.assets_)}var e,n,r;return e=t,(n=[{key:"handleContextLost_",value:function(t){throw t.preventDefault(),new v("The rendering context was lost.")}},{key:"getWebglContext_",value:function(t,e){if(!(t instanceof HTMLCanvasElement))throw new v("The canvas must be a HTMLCanvasElement.");if(!window.WebGLRenderingContext)throw new v("Your browser does not support WebGL.");var n=t.getContext("webgl2",e);if(!n)throw new v("Your browser does not support WebGL 2.");if(!n.getExtension("EXT_color_buffer_float"))throw new v("Your browser does not support the WebGL 2 color buffer float extension.");return t.addEventListener("webglcontextlost",this.handleContextLost_),n}},{key:"getProps_",value:function(t,e,n){var r={reservedUnits:void 0===n.reservedUnits?0:n.reservedUnits,tiles:Math.ceil(e.depth/4),depthLastTile:e.depth%4},i=t.getParameter(t.MAX_TEXTURE_SIZE),o=Math.floor(i/e.width)*Math.floor(i/e.height);r.requiredUnits=Math.ceil(r.tiles/o);var a=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)-r.reservedUnits;if(r.requiredUnits>a)throw new v("Not enough memory available for this dataset. Required: ".concat(r.requiredUnits," texture image units. Available: ").concat(a," texture image units."));return r.tilesPerTexture=Math.ceil(r.tiles/r.requiredUnits),0===e.width||0===e.height||0===r.tilesPerTexture?(r.colsPerTexture=0,r.rowsPerTexture=0):(r.colsPerTexture=Math.ceil(Math.sqrt(e.width*e.height*r.tilesPerTexture)/e.width),r.rowsPerTexture=Math.ceil(r.tilesPerTexture/r.colsPerTexture)),r}},{key:"prepareWebgl_",value:function(t,e){var n=this.getBuffer("textureCoordinateBuffer"),r=new Float32Array([0,0,1,0,0,1,1,1]);t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW),n=this.getBuffer("vertexCoordinateBuffer"),r=new Float32Array([-1,-1,1,-1,-1,1,1,1]),t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW)}},{key:"forTextureWithNumber_",value:function(t,e){var n=t+this.props_.reservedUnits;e("".concat("texture_").concat(n),n,t)}},{key:"forEachTexture_",value:function(t){for(var e=this.props_.requiredUnits;e-- >0;)this.forTextureWithNumber_(e,t)}},{key:"compileConvertUvecFunction_",value:function(){var t=255;return 16===this.dataset_.precision?t=65535:32===this.dataset_.precision&&(t=4294967295),"\n            vec4 convertUvec(uvec4 inputUvec) {\n                return vec4(inputUvec) / ".concat(d(t),";\n            }\n        ")}},{key:"compileSamplerDefinition_",value:function(){var t="";return this.forEachTexture_((function(e){t+="uniform usampler2D ".concat(e,";\n")})),t}},{key:"compileSamplerQueries_",value:function(){var t="";return this.forEachTexture_((function(e,n,r){t+="if (sampler_index == ".concat(d(r),") {\n                return convertUvec(texture(").concat(e,", coords_2d));\n            }\n            ")})),t}},{key:"compileDynamicSamplerQueries_",value:function(t){if(!t)return"";var e="";return this.forEachTexture_((function(n,r,i){e+="if (sampler_index == ".concat(d(i),") {\n                ").concat(t.replace(/<%=SAMPLER=%>/g,n),"\n            }\n            ")})),e}},{key:"compileTexture3dFunction_",value:function(t){var e="\n",n=d(t.colsPerTexture),r=d(t.tilesPerTexture),i=d(1/t.colsPerTexture),o=d(1/t.rowsPerTexture);return e+=this.compileSamplerDefinition_(),e+=this.compileConvertUvecFunction_(),e+="\n        vec4 texture3D(vec2 position, float tileIdx) {\n            float index_on_sampler = mod(tileIdx, ".concat(r,");\n            float column = mod(index_on_sampler, ").concat(n,");\n            float row = floor(index_on_sampler / ").concat(n,");\n            vec2 coords_2d = vec2(\n                ").concat(i," * (column + position.x),\n                ").concat(o," * (row + position.y)\n            );\n\n            float sampler_index = floor(tileIdx / ").concat(r,");\n        "),e+=this.compileSamplerQueries_(),e+="\n            return vec4(0);\n        }\n        "}},{key:"compileFragmentShader_",value:function(t,e){t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/\r\n/g,"\n")).replace(/<%=TILES=%>/g,e.tiles)).replace(/<%=CHANNELS_LAST_TILE=%>/g,e.depthLastTile)).replace(/<%=TILE_COLUMNS=%>/g,d(e.colsPerTexture))).replace(/<%=TILES_PER_TEXTURE=%>/g,d(e.tilesPerTexture))).replace(/<%=TILE_WIDTH=%>/g,d(1/e.colsPerTexture))).replace(/<%=TILE_HEIGHT=%>/g,d(1/e.rowsPerTexture))).replace(/<%=TEXTURE_3D=%>/,this.compileTexture3dFunction_(e))).replace(/<%=CONVERT_UVEC=%>/,this.compileConvertUvecFunction_())).replace(/<%=SAMPLER_DEFINITION=%>/,this.compileSamplerDefinition_())).replace(/<%=SAMPLER_QUERIES=%>/,this.compileSamplerQueries_());var n=/<%=DYNAMIC_SAMPLER_QUERIES([\s\S]*)\n\s*=%>\n/,r=n.exec(t);return r&&r.length>1&&(t=t.replace(n,this.compileDynamicSamplerQueries_(r[1]))),t}},{key:"compileShader_",value:function(t,e,n){if(t.shaderSource(e,n),t.compileShader(e),!t.getShaderParameter(e,t.COMPILE_STATUS)||t.isContextLost())throw new v(t.getShaderInfoLog(e));return e}},{key:"createVertexShader_",value:function(t,e){return this.compileShader_(t,t.createShader(t.VERTEX_SHADER),e)}},{key:"createFragmentShader_",value:function(t,e,n){return e=this.compileFragmentShader_(e,n),this.compileShader_(t,t.createShader(t.FRAGMENT_SHADER),e)}},{key:"createShaderProgram_",value:function(t,e,n){var r=t.createProgram();if(t.attachShader(r,e),t.attachShader(r,n),t.linkProgram(r),!t.getProgramParameter(r,t.LINK_STATUS)||t.isContextLost())throw new v(t.getProgramInfoLog(r));return r}},{key:"addTexture_",value:function(t,e){var n=t.createTexture();return t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),n}},{key:"useTextures_",value:function(t,e){if(!(e instanceof WebGLProgram))throw new v("The program must be a WebGLProgram");this.forEachTexture_((function(n,r){var i=t.getUniformLocation(e,n);t.uniform1i(i,r)}))}},{key:"usePositions_",value:function(t,e,n,r){if(!(e instanceof WebGLProgram))throw new v("The program must be a WebGLProgram");var i=t.getAttribLocation(e,n);t.enableVertexAttribArray(i),t.bindBuffer(t.ARRAY_BUFFER,r),t.vertexAttribPointer(i,2,t.FLOAT,!1,0,0)}},{key:"bindTextures_",value:function(t){var e=this;this.forEachTexture_((function(n,r){t.activeTexture(t.TEXTURE0+r),t.bindTexture(t.TEXTURE_2D,e.getTexture(n))}))}},{key:"renderSync_",value:function(t,e){var n=this;e.forEach((function(e){t.useProgram(e.getPointer()),e.beforeRender(t,n),t.drawArrays(t.TRIANGLE_STRIP,0,4),e.afterRender(t,n)}))}},{key:"initializeTexture_",value:function(t,e,n,r){t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,e);var i,o,a,s=r.colsPerTexture*n.width,u=r.rowsPerTexture*n.height;8===n.precision?(i=t.RGBA8UI,o=t.UNSIGNED_BYTE,a=new Uint8Array(s*u*4)):16===n.precision?(i=t.RGBA16UI,o=t.UNSIGNED_SHORT,a=new Uint16Array(s*u*4)):(i=t.RGBA32UI,o=t.UNSIGNED_INT,a=new Uint32Array(s*u*4)),t.texImage2D(t.TEXTURE_2D,0,i,s,u,0,t.RGBA_INTEGER,o,a)}},{key:"storeTileSubImage_",value:function(t,e,n,r,i,o,a){var s;s=8===e.precision?t.UNSIGNED_BYTE:16===e.precision?t.UNSIGNED_SHORT:t.UNSIGNED_INT,t.texSubImage2D(t.TEXTURE_2D,0,n,r,i,o,t.RGBA_INTEGER,s,a)}},{key:"storeTile_",value:function(t,e,n,r,i){var o=this;if(!(8!==r.precision||e instanceof Uint8Array))throw new v("Each tile image must be a Uint8Array.");if(!(16!==r.precision||e instanceof Uint16Array))throw new v("Each tile image must be a Uint16Array.");if(32===r.precision&&!(e instanceof Uint32Array))throw new v("Each tile image must be a Uint32Array.");var a=Math.floor(n/i.tilesPerTexture);if(a>i.requiredUnits)throw new v("Invalid tile index.");var s=n%i.tilesPerTexture;this.forTextureWithNumber_(a,(function(n){var u=o.getTexture(n);t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,u),o.initializedTextures_[a]||(o.initializeTexture_(t,u,r,i),o.initializedTextures_[a]=!0),o.storeTileSubImage_(t,r,s%i.colsPerTexture*r.width,Math.floor(s/i.colsPerTexture)*r.height,r.width,r.height,e)}))}},{key:"destruct_",value:function(t,e,n,r){Object.keys(e.buffers).forEach((function(n){t.deleteBuffer(e.buffers[n])})),Object.keys(e.framebuffers).forEach((function(n){t.deleteFramebuffer(e.framebuffers[n])})),Object.keys(e.textures).forEach((function(n){t.deleteTexture(e.textures[n])})),n.forEach((function(e){t.getAttachedShaders(e.getPointer()).forEach((function(e){t.deleteShader(e)})),t.deleteProgram(e.getPointer())})),r.removeEventListener("webglcontextlost",this.handleContextLost)}},{key:"createFramebuffer_",value:function(t){return t.createFramebuffer()}},{key:"getFramebuffer",value:function(t){return this.assets_.framebuffers[t]||(this.assets_.framebuffers[t]=this.createFramebuffer_(this.gl_)),this.assets_.framebuffers[t]}},{key:"createBuffer_",value:function(t){return t.createBuffer()}},{key:"getBuffer",value:function(t){return this.assets_.buffers[t]||(this.assets_.buffers[t]=this.createBuffer_(this.gl_)),this.assets_.buffers[t]}},{key:"getTexture",value:function(t){return t="".concat(t),this.assets_.textures[t]||(this.assets_.textures[t]=this.addTexture_(this.gl_,t)),this.assets_.textures[t]}},{key:"useTextures",value:function(t){this.useTextures_(this.gl_,t.getPointer())}},{key:"useVertexPositions",value:function(t){this.usePositions_(this.gl_,t.getPointer(),"a_vertex_position",this.getBuffer("vertexCoordinateBuffer"))}},{key:"useTexturePositions",value:function(t){this.usePositions_(this.gl_,t.getPointer(),"a_texture_position",this.getBuffer("textureCoordinateBuffer"))}},{key:"bindTextures",value:function(){this.bindTextures_(this.gl_)}},{key:"addProgram_",value:function(t,e){if(!(e instanceof i))throw new v("A program must be a Program");try{var n=this.createVertexShader_(t,e.getVertexShaderSource()),r=this.createFragmentShader_(t,e.getFragmentShaderSource(),this.props_),o=this.createShaderProgram_(t,n,r)}catch(t){throw new v("Error compiling program ".concat(e.constructor.name,". ").concat(t))}return t.useProgram(o),e.setPointer(o),e.initialize(t,this),t.useProgram(null),e}},{key:"addProgram",value:function(t){this.programs_.push(this.addProgram_(this.gl_,t))}},{key:"storeTile",value:function(t,e){if(void 0===this.tilesToStore_[e])throw new v("Unexpected tile index ".concat(e,"."));this.storeTile_(this.gl_,t,e,this.dataset_,this.props_),delete this.tilesToStore_[e]}},{key:"renderSync",value:function(t){var e=Object.keys(this.tilesToStore_).length;if(e>0)throw new v("The tiles must be stored first (".concat(e," remaining)."));this.renderSync_(this.gl_,t||[])}},{key:"render",value:function(t){var e=this,n=(t||[]).map((function(t){return t.constructor.name})).join("-");return this.renderPromises_[n]||(this.renderPromises_[n]=new Promise((function(r,i){window.requestAnimationFrame((function(){e.renderSync(t),e.renderPromises_[n]=null,r()}))}))),this.renderPromises_[n]}},{key:"destruct",value:function(){this.destruct_(this.gl_,this.assets_,this.programs_,this.canvas_)}},{key:"getCanvas",value:function(){return this.canvas_}},{key:"getGl",value:function(){return this.gl_}}])&&a(e.prototype,n),r&&a(e,r),t}();const _=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();function y(t,e){return t>e?1:t<e?-1:0}function m(t,e,n){var r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;var i=void 0;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1}function x(t,e,n){for(;e<n;){var r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function b(t,e){for(var n=Array.isArray(e)?e:[e],r=n.length,i=0;i<r;i++)t[t.length]=n[i]}function w(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function S(){return!0}function E(){return!1}function C(){}function O(){return function(){throw new Error("Unimplemented abstract method.")}()}var T=0;function P(t){return t.ol_uid||(t.ol_uid=String(++T))}var R,I="6.5.0",A=(R=function(t,e){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}R(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const k=function(t){function e(e){var n=this,r="Assertion failed. See https://openlayers.org/en/"+("v"+I.split("-")[0])+"/doc/errors/#"+e+" for details.";return(n=t.call(this,r)||this).code=e,n.name="AssertionError",n.message=r,n}return A(e,t),e}(Error);function M(t,e){if(!t)throw new k(e)}new Array(6);function L(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t}function F(t,e){var n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function D(t,e,n,r,i,o,a,s){var u=Math.sin(o),l=Math.cos(o);return t[0]=r*l,t[1]=i*u,t[2]=-r*u,t[3]=i*l,t[4]=a*r*l-s*r*u+e,t[5]=a*i*u+s*i*l+n,t}function j(t,e){var n,r=(n=e)[0]*n[3]-n[1]*n[2];M(0!==r,32);var i=e[0],o=e[1],a=e[2],s=e[3],u=e[4],l=e[5];return t[0]=s/r,t[1]=-o/r,t[2]=-a/r,t[3]=i/r,t[4]=(a*l-s*u)/r,t[5]=-(i*l-o*u)/r,t}function N(t){return"matrix("+t.join(", ")+")"}const $=0,z=1,B=2,U=4,G=8,W=16;function V(t){for(var e=Q(),n=0,r=t.length;n<r;++n)rt(e,t[n]);return e}function X(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function H(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function K(t,e,n){var r,i;return(r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*r+(i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*i}function Y(t,e){return q(t,e[0],e[1])}function Z(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function q(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function J(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],s=e[1],u=$;return a<n?u|=W:a>i&&(u|=U),s<r?u|=G:s>o&&(u|=B),u===$&&(u=z),u}function Q(){return[1/0,1/0,-1/0,-1/0]}function tt(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function et(t){return tt(1/0,1/0,-1/0,-1/0,t)}function nt(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function rt(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function it(t,e){for(var n=0,r=e.length;n<r;++n)rt(t,e[n]);return t}function ot(t,e,n,r,i){for(;n<r;n+=i)at(t,e[n],e[n+1]);return t}function at(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function st(t){var e=0;return yt(t)||(e=gt(t)*ft(t)),e}function ut(t){return[t[0],t[1]]}function lt(t){return[t[2],t[1]]}function ct(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function ht(t,e,n,r,i){var o=e*r[0]/2,a=e*r[1]/2,s=Math.cos(n),u=Math.sin(n),l=o*s,c=o*u,h=a*s,f=a*u,p=t[0],d=t[1],v=p-l+f,g=p-l-f,_=p+l-f,y=p+l+f,m=d-c-h,x=d-c+h,b=d+c+h,w=d+c-h;return tt(Math.min(v,g,_,y),Math.min(m,x,b,w),Math.max(v,g,_,y),Math.max(m,x,b,w),i)}function ft(t){return t[3]-t[1]}function pt(t,e,n){var r=n||[1/0,1/0,-1/0,-1/0];return _t(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):et(r),r}function dt(t){return[t[0],t[3]]}function vt(t){return[t[2],t[3]]}function gt(t){return t[2]-t[0]}function _t(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function yt(t){return t[2]<t[0]||t[3]<t[1]}function mt(t,e,n,r){var i=[];if(r>1)for(var o=t[2]-t[0],a=t[3]-t[1],s=0;s<r;++s)i.push(t[0]+o*s/r,t[1],t[2],t[1]+a*s/r,t[2]-o*s/r,t[3],t[0],t[3]-a*s/r);else i=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(i,i,2);for(var u=[],l=[],c=(s=0,i.length);s<c;s+=2)u.push(i[s]),l.push(i[s+1]);return function(t,e,n){return tt(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(u,l,n)}function xt(t,e,n){return Math.min(Math.max(t,e),n)}var bt="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},wt="log2"in Math?Math.log2:function(t){return Math.log(t)*Math.LOG2E};function St(t,e,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var u=((t-n)*a+(e-r)*s)/(a*a+s*s);u>1?(n=i,r=o):u>0&&(n+=a*u,r+=s*u)}return Et(t,e,n,r)}function Et(t,e,n,r){var i=n-t,o=r-e;return i*i+o*o}function Ct(t){return t*Math.PI/180}function Ot(t,e){var n=t%e;return n*e<0?n+e:n}function Tt(t,e,n){return t+n*(e-t)}var Pt=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,Rt=/^([a-z]*)$|^hsla?\(.*\)$/i;function It(t){return"string"==typeof t?t:Ft(t)}function At(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}var kt=function(){var t={},e=0;return function(n){var r;if(t.hasOwnProperty(n))r=t[n];else{if(e>=1024){var i=0;for(var o in t)0==(3&i++)&&(delete t[o],--e)}r=function(t){var e,n,r,i,o;Rt.exec(t)&&(t=At(t));if(Pt.exec(t)){var a=t.length-1,s=void 0;s=a<=4?1:2;var u=4===a||8===a;e=parseInt(t.substr(1+0*s,s),16),n=parseInt(t.substr(1+1*s,s),16),r=parseInt(t.substr(1+2*s,s),16),i=u?parseInt(t.substr(1+3*s,s),16):255,1==s&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,u&&(i=(i<<4)+i)),o=[e,n,r,i/255]}else 0==t.indexOf("rgba(")?Lt(o=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((o=t.slice(4,-1).split(",").map(Number)).push(1),Lt(o)):M(!1,14);return o}(n),t[n]=r,++e}return r}}();function Mt(t){return Array.isArray(t)?t:kt(t)}function Lt(t){return t[0]=xt(t[0]+.5|0,0,255),t[1]=xt(t[1]+.5|0,0,255),t[2]=xt(t[2]+.5|0,0,255),t[3]=xt(t[3],0,1),t}function Ft(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:t[3])+")"}var Dt=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,n){var r=jt(t,e,n);return r in this.cache_?this.cache_[r]:null},t.prototype.set=function(t,e,n,r){var i=jt(t,e,n);this.cache_[i]=r,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}();function jt(t,e,n){return e+":"+t+":"+(n?It(n):"null")}var Nt=new Dt;function $t(t){t.stopPropagation()}const zt=function(){function t(t){this.propagationStopped,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}(),Bt="propertychange";var Ut="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n};function Gt(t){for(var e in t)delete t[e]}var Wt="function"==typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function Vt(t){var e;for(e in t)return!1;return!e}var Xt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Ht=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return Xt(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_||(this.listeners_={}),r=n[t]||(n[t]=[]);-1===r.indexOf(e)&&r.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new zt(t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);var r,i=this.listeners_&&this.listeners_[n];if(i){var o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});n in o||(o[n]=0,a[n]=0),++o[n];for(var s=0,u=i.length;s<u;++s)if(!1===(r="handleEvent"in i[s]?i[s].handleEvent(e):i[s].call(this,e))||e.propagationStopped){r=!1;break}if(--o[n],0===o[n]){var l=a[n];for(delete a[n];l--;)this.removeEventListener(n,C);delete o[n]}return r}},e.prototype.disposeInternal=function(){this.listeners_&&Gt(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)},e.prototype.removeEventListener=function(t,e){var n=this.listeners_&&this.listeners_[t];if(n){var r=n.indexOf(e);-1!==r&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[r]=C,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t]))}},e}(_),Kt="change",Yt="error",Zt="contextmenu",qt="click",Jt="dblclick",Qt="keydown",te="keypress",ee="load",ne="resize",re="touchmove",ie="wheel";function oe(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){var o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}var a={target:t,type:e,listener:n};return t.addEventListener(e,n),a}function ae(t,e,n,r){return oe(t,e,n,r,!0)}function se(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Gt(t))}var ue=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const le=function(t){function e(){var e=t.call(this)||this;return e.revision_=0,e}return ue(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(Kt)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=oe(this,t[i],e);return r}return oe(this,t,e)},e.prototype.once=function(t,e){var n;if(Array.isArray(t)){var r=t.length;n=new Array(r);for(var i=0;i<r;++i)n[i]=ae(this,t[i],e)}else n=ae(this,t,e);return e.ol_key=n,n},e.prototype.un=function(t,e){var n=e.ol_key;if(n)!function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)se(t[e]);else se(t)}(n);else if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)this.removeEventListener(t[r],e);else this.removeEventListener(t,e)},e}(Ht);var ce=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),he=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.key=n,i.oldValue=r,i}return ce(e,t),e}(zt),fe=function(t){function e(e){var n=t.call(this)||this;return P(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return ce(e,t),e.prototype.get=function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&Ut({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,e){var n;n=de(t),this.dispatchEvent(new he(n,t,e)),n=Bt,this.dispatchEvent(new he(n,t,e))},e.prototype.set=function(t,e,n){var r=this.values_||(this.values_={});if(n)r[t]=e;else{var i=r[t];r[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.applyProperties=function(t){t.values_&&Ut(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,e){if(this.values_&&t in this.values_){var n=this.values_[t];delete this.values_[t],Vt(this.values_)&&(this.values_=null),e||this.notify(t,n)}},e}(le),pe={};function de(t){return pe.hasOwnProperty(t)?pe[t]:pe[t]="change:"+t}const ve=fe,ge="opacity",_e="visible",ye="extent",me="zIndex",xe="maxResolution",be="minResolution",we="maxZoom",Se="minZoom",Ee="source";var Ce=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Oe=function(t){function e(e){var n=t.call(this)||this,r=Ut({},e);return r[ge]=void 0!==e.opacity?e.opacity:1,M("number"==typeof r[ge],64),r[_e]=void 0===e.visible||e.visible,r[me]=e.zIndex,r[xe]=void 0!==e.maxResolution?e.maxResolution:1/0,r[be]=void 0!==e.minResolution?e.minResolution:0,r[Se]=void 0!==e.minZoom?e.minZoom:-1/0,r[we]=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==r.className?e.className:"ol-layer",delete r.className,n.setProperties(r),n.state_=null,n}return Ce(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=xt(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n?n:!1===e.managed?1/0:0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return O()},e.prototype.getLayerStatesArray=function(t){return O()},e.prototype.getExtent=function(){return this.get(ye)},e.prototype.getMaxResolution=function(){return this.get(xe)},e.prototype.getMinResolution=function(){return this.get(be)},e.prototype.getMinZoom=function(){return this.get(Se)},e.prototype.getMaxZoom=function(){return this.get(we)},e.prototype.getOpacity=function(){return this.get(ge)},e.prototype.getSourceState=function(){return O()},e.prototype.getVisible=function(){return this.get(_e)},e.prototype.getZIndex=function(){return this.get(me)},e.prototype.setExtent=function(t){this.set(ye,t)},e.prototype.setMaxResolution=function(t){this.set(xe,t)},e.prototype.setMinResolution=function(t){this.set(be,t)},e.prototype.setMaxZoom=function(t){this.set(we,t)},e.prototype.setMinZoom=function(t){this.set(Se,t)},e.prototype.setOpacity=function(t){M("number"==typeof t,64),this.set(ge,t)},e.prototype.setVisible=function(t){this.set(_e,t)},e.prototype.setZIndex=function(t){this.set(me,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(ve),Te="prerender",Pe="postrender",Re="precompose",Ie="postcompose",Ae="rendercomplete",ke="undefined",Me="ready";var Le=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Fe(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}const De=function(t){function e(e){var n=this,r=Ut({},e);delete r.source,(n=t.call(this,r)||this).mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addEventListener(de(Ee),n.handleSourcePropertyChange_);var i=e.source?e.source:null;return n.setSource(i),n}return Le(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(Ee)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():ke},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(se(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=oe(t,Kt,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_.getFeatures(t)},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(se(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(se(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=oe(t,Re,(function(t){var e=t.frameState.layerStatesArray,n=this.getLayerState(!1);M(!e.some((function(t){return t.layer===n.layer})),67),e.push(n)}),this),this.mapRenderKey_=oe(this,Kt,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(Ee,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},e}(Oe);function je(t,e){for(var n=!0,r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function Ne(t,e){var n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,o=t[1]*n+t[0]*r;return t[0]=i,t[1]=o,t}function $e(t,e){if(e.canWrapX()){var n=gt(e.getExtent()),r=function(t,e,n){var r=e.getExtent(),i=0;if(e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])){var o=n||gt(r);i=Math.floor((t[0]-r[0])/o)}return i}(t,e,n);r&&(t[0]-=r*n)}return t}var ze=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Be(t,e){Nt.expire()}const Ue=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n}return ze(e,t),e.prototype.dispatchRenderEvent=function(t,e){O()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;D(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),j(r,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,a,s){var u,l=e.viewState;function c(t,e,n,r){return i.call(o,e,t?n:null,r)}var h=l.projection,f=$e(t.slice(),h),p=[[0,0]];if(h.canWrapX()&&r){var d=gt(h.getExtent());p.push([-d,0],[d,0])}for(var v=e.layerStatesArray,g=v.length,_=[],y=[],m=0;m<p.length;m++)for(var x=g-1;x>=0;--x){var b=v[x],w=b.layer;if(w.hasRenderer()&&Fe(b,l)&&a.call(s,w)){var S=w.getRenderer(),E=w.getSource();if(S&&E){var C=E.getWrapX()?f:t,O=c.bind(null,b.managed);y[0]=C[0]+p[m][0],y[1]=C[1]+p[m][1],u=S.forEachFeatureAtCoordinate(y,e,n,O,_)}if(u)return u}}if(0!==_.length){var T=1/_.length;return _.forEach((function(t,e){return t.distanceSq+=e*T})),_.sort((function(t,e){return t.distanceSq-e.distanceSq})),_.some((function(t){return u=t.callback(t.feature,t.layer,t.geometry)})),u}},e.prototype.forEachLayerAtPixel=function(t,e,n,r,i){return O()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,r,i,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,r,S,this,i,o)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){O()},e.prototype.scheduleExpireIconCache=function(t){Nt.canExpireCache()&&t.postRenderFunctions.push(Be)},e}(_);var Ge=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const We=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.inversePixelTransform=n,o.frameState=r,o.context=i,o}return Ge(e,t),e}(zt);var Ve="ol-hidden",Xe="ol-unselectable",He="ol-control",Ke="ol-collapsed",Ye=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),Ze=["style","variant","weight","size","lineHeight","family"],qe=function(t){var e=t.match(Ye);if(!e)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,i=Ze.length;r<i;++r){var o=e[r+1];void 0!==o&&(n[Ze[r]]=o)}return n.families=n.family.split(/,\s?/),n},Je="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",Qe=-1!==Je.indexOf("firefox"),tn=(-1!==Je.indexOf("safari")&&Je.indexOf("chrom"),-1!==Je.indexOf("webkit")&&-1==Je.indexOf("edge")),en=-1!==Je.indexOf("macintosh"),nn="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,rn="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,on="undefined"!=typeof Image&&Image.prototype.decode,an=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}return t}();function sn(t,e,n){var r=n&&n.length?n.shift():rn?new OffscreenCanvas(t||300,e||300):document.createElement("canvas");return t&&(r.width=t),e&&(r.height=e),r.getContext("2d")}function un(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function ln(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}var cn="10px sans-serif",hn="#000",fn="round",pn=[],dn="round",vn="#000",gn="center",_n="middle",yn=[0,0,0,0],mn=new ve;(new Ht).setSize=function(){console.warn("labelCache is deprecated.")};var xn,bn,wn=null,Sn={},En=function(){var t,e,n="32px ",r=["monospace","serif"],i=r.length,o="wmytzilWMYTZIL@#/&?$%10";function a(t,a,s){for(var u=!0,l=0;l<i;++l){var c=r[l];if(e=Tn(t+" "+a+" "+n+c,o),s!=c){var h=Tn(t+" "+a+" "+n+s+","+c,o);u=u&&h!=e}}return!!u}function s(){for(var e=!0,n=mn.getKeys(),r=0,i=n.length;r<i;++r){var o=n[r];mn.get(o)<100&&(a.apply(this,o.split("\n"))?(Gt(Sn),wn=null,xn=void 0,mn.set(o,100)):(mn.set(o,mn.get(o)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var n=qe(e);if(n)for(var r=n.families,i=0,o=r.length;i<o;++i){var u=r[i],l=n.style+"\n"+n.weight+"\n"+u;void 0===mn.get(l)&&(mn.set(l,100,!0),a(n.style,n.weight,u)||(mn.set(l,0,!0),void 0===t&&(t=setInterval(s,32))))}}}(),Cn=function(t){var e=Sn[t];if(null==e){if(rn){var n=qe(t),r=On(t,"Žg");e=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else bn||((bn=document.createElement("div")).innerHTML="M",bn.style.margin="0 !important",bn.style.padding="0 !important",bn.style.position="absolute !important",bn.style.left="-99999px !important"),bn.style.font=t,document.body.appendChild(bn),e=bn.offsetHeight,document.body.removeChild(bn);Sn[t]=e}return e};function On(t,e){return wn||(wn=sn(1,1)),t!=xn&&(wn.font=t,xn=wn.font),wn.measureText(e)}function Tn(t,e){return On(t,e).width}function Pn(t,e,n){if(e in n)return n[e];var r=Tn(t,e);return n[e]=r,r}function Rn(t,e,n,r){0!==e&&(t.translate(n,r),t.rotate(e),t.translate(-n,-r))}function In(t,e,n,r,i,o,a,s,u,l,c){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),r.contextInstructions?(t.translate(u,l),t.scale(c[0],c[1]),function(t,e){for(var n=t.contextInstructions,r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?e[n[r]].apply(e,n[r+1]):e[n[r]]=n[r+1]}(r,t)):c[0]<0||c[1]<0?(t.translate(u,l),t.scale(c[0],c[1]),t.drawImage(r,i,o,a,s,0,0,a,s)):t.drawImage(r,i,o,a,s,u,l,a*c[0],s*c[1]),t.restore()}var An=null;var kn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Mn=function(t){function e(e){var n=t.call(this,e)||this;n.fontChangeListenerKey_=oe(mn,Bt,e.redrawText.bind(e)),n.element_=document.createElement("div");var r=n.element_.style;r.position="absolute",r.width="100%",r.height="100%",r.zIndex="0",n.element_.className="ol-unselectable ol-layers";var i=e.getViewport();return i.insertBefore(n.element_,i.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return kn(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var r=new We(t,void 0,e);n.dispatchEvent(r)}},e.prototype.disposeInternal=function(){se(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(t){this.calculateMatrices2D(t),this.dispatchRenderEvent(Re,t);var e=t.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),n=t.viewState;this.children_.length=0;for(var r=[],i=null,o=0,a=e.length;o<a;++o){var s=e[o];if(t.layerIndex=o,Fe(s,n)&&(s.sourceState==Me||s.sourceState==ke)){var u=s.layer,l=u.render(t,i);l&&(l!==i&&(this.children_.push(l),i=l),"getDeclutter"in u&&r.push(u))}}for(o=r.length-1;o>=0;--o)r[o].renderDeclutter(t);!function(t,e){for(var n=t.childNodes,r=0;;++r){var i=n[r],o=e[r];if(!i&&!o)break;i!==o&&(i?o?t.insertBefore(o,i):(t.removeChild(i),--r):t.appendChild(o))}}(this.element_,this.children_),this.dispatchRenderEvent(Ie,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,r,i){for(var o=e.viewState,a=e.layerStatesArray,s=a.length-1;s>=0;--s){var u=a[s],l=u.layer;if(l.hasRenderer()&&Fe(u,o)&&i(l)){var c=l.getRenderer().getDataAtPixel(t,e,n);if(c){var h=r(l,c);if(h)return h}}}},e}(Ue),Ln="add",Fn="remove";var Dn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jn="length",Nn=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.element=n,i.index=r,i}return Dn(e,t),e}(zt);const $n=function(t){function e(e,n){var r=t.call(this)||this,i=n||{};if(r.unique_=!!i.unique,r.array_=e||[],r.unique_)for(var o=0,a=r.array_.length;o<a;++o)r.assertUnique_(r.array_[o],o);return r.updateLength_(),r}return Dn(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(jn)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Nn(Ln,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Nn(Fn,e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var r=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Nn(Fn,r,t)),this.dispatchEvent(new Nn(Ln,e,t))}else{for(var i=n;i<t;++i)this.insertAt(i,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(jn,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw new k(58)},e}(ve);var zn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bn="layers";const Un=function(t){function e(e){var n=this,r=e||{},i=Ut({},r);delete i.layers;var o=r.layers;return(n=t.call(this,i)||this).layersListenerKeys_=[],n.listenerKeys_={},n.addEventListener(de(Bn),n.handleLayersChanged_),o?Array.isArray(o)?o=new $n(o.slice(),{unique:!0}):M("function"==typeof o.getArray,43):o=new $n(void 0,{unique:!0}),n.setLayers(o),n}return zn(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(se),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(oe(t,Ln,this.handleLayersAdd_,this),oe(t,Fn,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(se);Gt(this.listenerKeys_);for(var n=t.getArray(),r=0,i=n.length;r<i;r++){var o=n[r];this.listenerKeys_[P(o)]=[oe(o,Bt,this.handleLayerChange_,this),oe(o,Kt,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[P(e)]=[oe(e,Bt,this.handleLayerChange_,this),oe(e,Kt,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=P(t.element);this.listenerKeys_[e].forEach(se),delete this.listenerKeys_[e],this.changed()},e.prototype.getLayers=function(){return this.get(Bn)},e.prototype.setLayers=function(t){this.set(Bn,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));for(var r=this.getLayerState(),i=n,o=e.length;i<o;i++){var a=e[i];a.opacity*=r.opacity,a.visible=a.visible&&r.visible,a.maxResolution=Math.min(a.maxResolution,r.maxResolution),a.minResolution=Math.max(a.minResolution,r.minResolution),a.minZoom=Math.max(a.minZoom,r.minZoom),a.maxZoom=Math.min(a.maxZoom,r.maxZoom),void 0!==r.extent&&(void 0!==a.extent?a.extent=pt(a.extent,r.extent):a.extent=r.extent)}return e},e.prototype.getSourceState=function(){return Me},e}(Oe);var Gn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Wn=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.map=n,i.frameState=void 0!==r?r:null,i}return Gn(e,t),e}(zt);var Vn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Xn=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,o)||this;return a.originalEvent=r,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==i&&i,a}return Vn(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(Wn),Hn={SINGLECLICK:"singleclick",CLICK:qt,DBLCLICK:Jt,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Kn="pointermove",Yn="pointerdown",Zn="pointerup";var qn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Jn=function(t){function e(e,n){var r=t.call(this,e)||this;r.map_=e,r.clickTimeoutId_,r.emulateClicks_=!1,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=n?n*nn:nn,r.down_=null;var i=r.map_.getViewport();return r.activePointers_=0,r.trackedTouches_={},r.element_=i,r.pointerdownListenerKey_=oe(i,Yn,r.handlePointerDown_,r),r.originalPointerMoveEvent_,r.relayedListenerKey_=oe(i,Kn,r.relayEvent_,r),r.boundHandleTouchMove_=r.handleTouchMove_.bind(r),r.element_.addEventListener(re,r.boundHandleTouchMove_,!!an&&{passive:!1}),r}return qn(e,t),e.prototype.emulateClick_=function(t){var e=new Xn(Hn.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new Xn(Hn.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new Xn(Hn.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==Hn.POINTERUP||e.type==Hn.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==Hn.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new Xn(Hn.POINTERUP,this.map_,t);this.dispatchEvent(e),this.emulateClicks_&&!e.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(se),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(t);var e=new Xn(Hn.POINTERDOWN,this.map_,t);if(this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length){var n=this.map_.getOwnerDocument();this.dragListenerKeys_.push(oe(n,Hn.POINTERMOVE,this.handlePointerMove_,this),oe(n,Hn.POINTERUP,this.handlePointerUp_,this),oe(this.element_,Hn.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==n&&this.dragListenerKeys_.push(oe(this.element_.getRootNode(),Hn.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new Xn(Hn.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new Xn(t.type,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){this.originalPointerMoveEvent_&&!this.originalPointerMoveEvent_.defaultPrevented||t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(se(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(re,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(se(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(se),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(Ht),Qn="postrender",tr="movestart",er="moveend",nr="layergroup",rr="size",ir="target",or="view";var ar=1/0;const sr=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Gt(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var r=this.keyFunction_(n);return delete this.queuedElements_[r],n},t.prototype.enqueue=function(t){M(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=ar&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,r=e.length,i=e[t],o=n[t],a=t;t<r>>1;){var s=this.getLeftChildIndex_(t),u=this.getRightChildIndex_(t),l=u<r&&n[u]<n[s]?u:s;e[t]=e[l],n[t]=n[l],t=l}e[t]=i,n[t]=o,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,r=this.priorities_,i=n[e],o=r[e];e>t;){var a=this.getParentIndex_(e);if(!(r[a]>o))break;n[e]=n[a],r[e]=r[a],e=a}n[e]=i,r[e]=o},t.prototype.reprioritize=function(){var t,e,n,r=this.priorityFunction_,i=this.elements_,o=this.priorities_,a=0,s=i.length;for(e=0;e<s;++e)(n=r(t=i[e]))==ar?delete this.queuedElements_[this.keyFunction_(t)]:(o[a]=n,i[a++]=t);i.length=a,o.length=a,this.heapify_()},t}(),ur=0,lr=2,cr=3,hr=4;var fr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const pr=function(t){function e(e,n){var r=t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()}))||this;return r.boundHandleTileChange_=r.handleTileChange.bind(r),r.tileChangeCallback_=n,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return fr(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);n&&e[0].addEventListener(Kt,this.boundHandleTileChange_);return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(e.hifi&&n===lr||n===cr||n===hr){e.removeEventListener(Kt,this.boundHandleTileChange_);var r=e.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,r,i=0;this.tilesLoading_<t&&i<e&&this.getCount()>0;)r=(n=this.dequeue()[0]).getKey(),n.getState()!==ur||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++i,n.load())},e}(sr);const dr="Point",vr="LineString",gr="LinearRing",_r="Polygon",yr="MultiPoint",mr="MultiLineString",xr="MultiPolygon",br="GeometryCollection",wr="Circle";var Sr={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Er={};Er[Sr.DEGREES]=2*Math.PI*6370997/360,Er[Sr.FEET]=.3048,Er[Sr.METERS]=1,Er[Sr.USFEET]=1200/3937;const Cr=Sr,Or=0,Tr=1,Pr="center",Rr="resolution",Ir="rotation";const Ar=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Er[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}();var kr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mr=6378137,Lr=Math.PI*Mr,Fr=[-Lr,-Lr,Lr,Lr],Dr=[-180,-85,180,85],jr=Mr*Math.log(Math.tan(Math.PI/2)),Nr=function(t){function e(e){return t.call(this,{code:e,units:Cr.METERS,extent:Fr,global:!0,worldExtent:Dr,getPointResolution:function(t,e){return t/bt(e[1]/Mr)}})||this}return kr(e,t),e}(Ar),$r=[new Nr("EPSG:3857"),new Nr("EPSG:102100"),new Nr("EPSG:102113"),new Nr("EPSG:900913"),new Nr("http://www.opengis.net/gml/srs/epsg.xml#3857")];function zr(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=0;a<r;a+=i){o[a]=Lr*t[a]/180;var s=Mr*Math.log(Math.tan(Math.PI*(+t[a+1]+90)/360));s>jr?s=jr:s<-jr&&(s=-jr),o[a+1]=s}return o}function Br(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=0;a<r;a+=i)o[a]=180*t[a]/Lr,o[a+1]=360*Math.atan(Math.exp(t[a+1]/Mr))/Math.PI-90;return o}var Ur=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gr=[-180,-90,180,90],Wr=6378137*Math.PI/180,Vr=function(t){function e(e,n){return t.call(this,{code:e,units:Cr.DEGREES,extent:Gr,axisOrientation:n,global:!0,metersPerUnit:Wr,worldExtent:Gr})||this}return Ur(e,t),e}(Ar),Xr=[new Vr("CRS:84"),new Vr("EPSG:4326","neu"),new Vr("urn:ogc:def:crs:OGC:1.3:CRS84"),new Vr("urn:ogc:def:crs:OGC:2:84"),new Vr("http://www.opengis.net/gml/srs/epsg.xml#4326","neu")],Hr={};var Kr={};function Yr(t,e,n){var r=t.getCode(),i=e.getCode();r in Kr||(Kr[r]={}),Kr[r][i]=n}var Zr=6371008.8;function qr(t,e,n){var r=n||Zr,i=Ct(t[1]),o=Ct(e[1]),a=(o-i)/2,s=Ct(e[0]-t[0])/2,u=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function Jr(t,e,n){var r;if(void 0!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];r=e}else r=t.slice();return r}function Qr(t,e,n){if(void 0!==e&&t!==e){for(var r=0,i=t.length;r<i;++r)e[r]=t[r];t=e}return t}function ti(t){!function(t,e){Hr[t]=e}(t.getCode(),t),Yr(t,t,Jr)}function ei(t){return"string"==typeof t?Hr[e=t]||Hr[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function ni(t,e,n,r){var i,o=(t=ei(t)).getPointResolutionFunc();if(o){if(i=o(e,n),r&&r!==t.getUnits())(s=t.getMetersPerUnit())&&(i=i*s/Er[r])}else{var a=t.getUnits();if(a==Cr.DEGREES&&!r||r==Cr.DEGREES)i=e;else{var s,u=ai(t,ei("EPSG:4326"));if(u===Qr&&a!==Cr.DEGREES)i=e*t.getMetersPerUnit();else{var l=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];i=(qr((l=u(l,l,2)).slice(0,2),l.slice(2,4))+qr(l.slice(4,6),l.slice(6,8)))/2}void 0!==(s=r?Er[r]:t.getMetersPerUnit())&&(i/=s)}}return i}function ri(t){!function(t){t.forEach(ti)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&Yr(e,t,Jr)}))}))}function ii(t,e){return t?"string"==typeof t?ei(t):t:ei(e)}function oi(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||ai(t,e)===Jr)&&n}function ai(t,e){var n=function(t,e){var n;return t in Kr&&e in Kr[t]&&(n=Kr[t][e]),n}(t.getCode(),e.getCode());return n||(n=Qr),n}function si(t,e){return ai(ei(t),ei(e))}function ui(t,e,n){return si(e,n)(t,void 0,t.length)}function li(t,e,n,r){return mt(t,si(e,n),void 0,r)}var ci,hi,fi,pi=null;function di(){return pi}function vi(t,e){return pi?ui(t,e,pi):t}function gi(t,e){return pi?ui(t,pi,e):t}function _i(t,e){return pi?li(t,e,pi):t}function yi(t,e){return pi?li(t,pi,e):t}function mi(t,e,n){return function(r,i,o,a,s){if(r){var u=e?0:o[0]*i,l=e?0:o[1]*i,c=s?s[0]:0,h=s?s[1]:0,f=t[0]+u/2+c,p=t[2]-u/2+c,d=t[1]+l/2+h,v=t[3]-l/2+h;f>p&&(p=f=(p+f)/2),d>v&&(v=d=(v+d)/2);var g=xt(r[0],f,p),_=xt(r[1],d,v),y=30*i;return a&&n&&(g+=-y*Math.log(1+Math.max(0,f-r[0])/y)+y*Math.log(1+Math.max(0,r[0]-p)/y),_+=-y*Math.log(1+Math.max(0,d-r[1])/y)+y*Math.log(1+Math.max(0,r[1]-v)/y)),[g,_]}}}function xi(t){return t}function bi(t,e,n,r){var i=gt(e)/n[0],o=ft(e)/n[1];return r?Math.min(t,Math.max(i,o)):Math.min(t,Math.min(i,o))}function wi(t,e,n){var r=Math.min(t,e);return r*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/t-1))/50+1),xt(r,n/2,2*e)}function Si(t,e,n,r,i){return function(o,a,s,u){if(void 0!==o){var l=r?bi(t,r,s,i):t;return(void 0===n||n)&&u?wi(o,l,e):xt(o,e,l)}}}function Ei(t){return void 0!==t?0:void 0}function Ci(t){return void 0!==t?t:void 0}function Oi(t){return 1-function(t){return Math.pow(t,3)}(1-t)}function Ti(t){return 3*t*t-2*t*t*t}function Pi(t){return t}ri($r),ri(Xr),ci=$r,hi=zr,fi=Br,Xr.forEach((function(t){ci.forEach((function(e){Yr(t,e,hi),Yr(e,t,fi)}))}));const Ri="XY",Ii="XYZ",Ai="XYM",ki="XYZM";function Mi(t,e,n,r,i,o){for(var a=o||[],s=0,u=e;u<n;u+=r){var l=t[u],c=t[u+1];a[s++]=i[0]*l+i[2]*c+i[4],a[s++]=i[1]*l+i[3]*c+i[5]}return o&&a.length!=s&&(a.length=s),a}function Li(t,e,n,r,i,o,a){for(var s=a||[],u=Math.cos(i),l=Math.sin(i),c=o[0],h=o[1],f=0,p=e;p<n;p+=r){var d=t[p]-c,v=t[p+1]-h;s[f++]=c+d*u-v*l,s[f++]=h+d*l+v*u;for(var g=p+2;g<p+r;++g)s[f++]=t[g]}return a&&s.length!=f&&(s.length=f),s}var Fi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Di=[1,0,0,1,0,0];const ji=function(t){function e(){var e,n,r,i,o,a=t.call(this)||this;return a.extent_=[1/0,1/0,-1/0,-1/0],a.extentRevision_=-1,a.simplifiedGeometryMaxMinSquaredTolerance=0,a.simplifiedGeometryRevision=0,a.simplifyTransformedInternal=(e=function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(e)},o=!1,function(){var t=Array.prototype.slice.call(arguments);return o&&this===i&&w(t,r)||(o=!0,i=this,r=t,n=e.apply(this,arguments)),n}),a}return Fi(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return O()},e.prototype.closestPointXY=function(t,e,n,r){return O()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return O()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&et(e),this.extentRevision_=this.getRevision()}return function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)},e.prototype.rotate=function(t,e){O()},e.prototype.scale=function(t,e,n){O()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return O()},e.prototype.getType=function(){return O()},e.prototype.applyTransform=function(t){O()},e.prototype.intersectsExtent=function(t){return O()},e.prototype.translate=function(t,e){O()},e.prototype.transform=function(t,e){var n=ei(t),r=n.getUnits()==Cr.TILE_PIXELS?function(t,r,i){var o=n.getExtent(),a=n.getWorldExtent(),s=ft(a)/ft(o);return D(Di,a[0],a[3],s,-s,0,0,0),Mi(t,0,t.length,i,Di,r),si(n,e)(t,r,i)}:si(n,e);return this.applyTransform(r),this},e}(ve);var Ni=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function $i(t){var e;return t==Ri?e=2:t==Ii||t==Ai?e=3:t==ki&&(e=4),e}const zi=function(t){function e(){var e=t.call(this)||this;return e.layout=Ri,e.stride=2,e.flatCoordinates=null,e}return Ni(e,t),e.prototype.computeExtent=function(t){return function(t,e,n,r,i){return ot(et(i),t,e,n,r)}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return O()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=$i(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){O()},e.prototype.setLayout=function(t,e,n){var r;if(t)r=$i(t);else{for(var i=0;i<n;++i){if(0===e.length)return this.layout=Ri,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=Ri:3==t?e=Ii:4==t&&(e=ki);return e}(r=e.length)}this.layout=t,this.stride=r},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();Li(n,0,n.length,r,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var r=e;void 0===r&&(r=t);var i=n;i||(i=ct(this.getExtent()));var o=this.getFlatCoordinates();if(o){var a=this.getStride();!function(t,e,n,r,i,o,a,s){for(var u=s||[],l=a[0],c=a[1],h=0,f=e;f<n;f+=r){var p=t[f]-l,d=t[f+1]-c;u[h++]=l+i*p,u[h++]=c+o*d;for(var v=f+2;v<f+r;++v)u[h++]=t[v]}s&&u.length!=h&&(u.length=h)}(o,0,o.length,a,t,r,i,o),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();!function(t,e,n,r,i,o,a){for(var s=a||[],u=0,l=e;l<n;l+=r){s[u++]=t[l]+i,s[u++]=t[l+1]+o;for(var c=l+2;c<l+r;++c)s[u++]=t[c]}a&&s.length!=u&&(s.length=u)}(n,0,n.length,r,t,e,n),this.changed()}},e}(ji);function Bi(t,e,n,r,i,o,a){var s,u=t[e],l=t[e+1],c=t[n]-u,h=t[n+1]-l;if(0===c&&0===h)s=e;else{var f=((i-u)*c+(o-l)*h)/(c*c+h*h);if(f>1)s=n;else{if(f>0){for(var p=0;p<r;++p)a[p]=Tt(t[e+p],t[n+p],f);return void(a.length=r)}s=e}}for(p=0;p<r;++p)a[p]=t[s+p];a.length=r}function Ui(t,e,n,r,i){var o=t[e],a=t[e+1];for(e+=r;e<n;e+=r){var s=t[e],u=t[e+1],l=Et(o,a,s,u);l>i&&(i=l),o=s,a=u}return i}function Gi(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];i=Ui(t,e,s,r,i),e=s}return i}function Wi(t,e,n,r,i,o,a,s,u,l,c){if(e==n)return l;var h,f;if(0===i){if((f=Et(a,s,t[e],t[e+1]))<l){for(h=0;h<r;++h)u[h]=t[e+h];return u.length=r,f}return l}for(var p=c||[NaN,NaN],d=e+r;d<n;)if(Bi(t,d-r,d,r,a,s,p),(f=Et(a,s,p[0],p[1]))<l){for(l=f,h=0;h<r;++h)u[h]=p[h];u.length=r,d+=r}else d+=r*Math.max((Math.sqrt(f)-Math.sqrt(l))/i|0,1);if(o&&(Bi(t,n-r,e,r,a,s,p),(f=Et(a,s,p[0],p[1]))<l)){for(l=f,h=0;h<r;++h)u[h]=p[h];u.length=r}return l}function Vi(t,e,n,r,i,o,a,s,u,l,c){for(var h=c||[NaN,NaN],f=0,p=n.length;f<p;++f){var d=n[f];l=Wi(t,e,d,r,i,o,a,s,u,l,h),e=d}return l}function Xi(t,e,n,r){for(var i=0,o=n.length;i<o;++i)for(var a=n[i],s=0;s<r;++s)t[e++]=a[s];return e}function Hi(t,e,n,r,i){for(var o=i||[],a=0,s=0,u=n.length;s<u;++s){var l=Xi(t,e,n[s],r);o[a++]=l,e=l}return o.length=a,o}function Ki(t,e,n,r,i,o,a){var s=(n-e)/r;if(s<3){for(;e<n;e+=r)o[a++]=t[e],o[a++]=t[e+1];return a}var u=new Array(s);u[0]=1,u[s-1]=1;for(var l=[e,n-r],c=0;l.length>0;){for(var h=l.pop(),f=l.pop(),p=0,d=t[f],v=t[f+1],g=t[h],_=t[h+1],y=f+r;y<h;y+=r){var m=St(t[y],t[y+1],d,v,g,_);m>p&&(c=y,p=m)}p>i&&(u[(c-e)/r]=1,f+r<c&&l.push(f,c),c+r<h&&l.push(c,h))}for(y=0;y<s;++y)u[y]&&(o[a++]=t[e+y*r],o[a++]=t[e+y*r+1]);return a}function Yi(t,e){return e*Math.round(t/e)}function Zi(t,e,n,r,i,o,a){if(e==n)return a;var s,u,l=Yi(t[e],i),c=Yi(t[e+1],i);e+=r,o[a++]=l,o[a++]=c;do{if(s=Yi(t[e],i),u=Yi(t[e+1],i),(e+=r)==n)return o[a++]=s,o[a++]=u,a}while(s==l&&u==c);for(;e<n;){var h=Yi(t[e],i),f=Yi(t[e+1],i);if(e+=r,h!=s||f!=u){var p=s-l,d=u-c,v=h-l,g=f-c;p*g==d*v&&(p<0&&v<p||p==v||p>0&&v>p)&&(d<0&&g<d||d==g||d>0&&g>d)?(s=h,u=f):(o[a++]=s,o[a++]=u,l=s,c=u,s=h,u=f)}}return o[a++]=s,o[a++]=u,a}function qi(t,e,n,r,i,o,a,s){for(var u=0,l=n.length;u<l;++u){var c=n[u];a=Zi(t,e,c,r,i,o,a),s.push(a),e=c}return a}function Ji(t,e,n,r,i){for(var o=void 0!==i?i:[],a=0,s=e;s<n;s+=r)o[a++]=t.slice(s,s+r);return o.length=a,o}function Qi(t,e,n,r,i){for(var o=void 0!==i?i:[],a=0,s=0,u=n.length;s<u;++s){var l=n[s];o[a++]=Ji(t,e,l,r,o[a]),e=l}return o.length=a,o}function to(t,e,n,r,i){for(var o=void 0!==i?i:[],a=0,s=0,u=n.length;s<u;++s){var l=n[s];o[a++]=Qi(t,e,l,r,o[a]),e=l[l.length-1]}return o.length=a,o}function eo(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],u=t[e+1];i+=a*s-o*u,o=s,a=u}return i/2}function no(t,e,n,r){for(var i=0,o=0,a=n.length;o<a;++o){var s=n[o];i+=eo(t,e,s,r),e=s}return i}var ro=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const io=function(t){function e(e,n){var r=t.call(this)||this;return r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return ro(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){return r<K(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Ui(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Wi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.getArea=function(){return eo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Ji(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Ki(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,Ri)},e.prototype.getType=function(){return gr},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Xi(this.flatCoordinates,0,t,this.stride),this.changed()},e}(zi);var oo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const ao=function(t){function e(e,n){var r=t.call(this)||this;return r.setCoordinates(e,n),r}return oo(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){var i=this.flatCoordinates,o=Et(t,e,i[0],i[1]);if(o<r){for(var a=this.stride,s=0;s<a;++s)n[s]=i[s];return n.length=a,o}return r},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return e=this.flatCoordinates,n=t,r=e[0],i=e[1],tt(r,i,r,i,n);var e,n,r,i},e.prototype.getType=function(){return dr},e.prototype.intersectsExtent=function(t){return q(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)t[e++]=n[i];return e}(this.flatCoordinates,0,t,this.stride),this.changed()},e}(zi);function so(t,e,n,r,i){return!function(t,e){var n;return(n=e(ut(t)))||(n=e(lt(t)))||(n=e(vt(t)))?n:(n=e(dt(t)))||!1}(i,(function(i){return!uo(t,e,n,r,i[0],i[1])}))}function uo(t,e,n,r,i,o){for(var a=0,s=t[n-r],u=t[n-r+1];e<n;e+=r){var l=t[e],c=t[e+1];u<=o?c>o&&(l-s)*(o-u)-(i-s)*(c-u)>0&&a++:c<=o&&(l-s)*(o-u)-(i-s)*(c-u)<0&&a--,s=l,u=c}return 0!==a}function lo(t,e,n,r,i,o){if(0===n.length)return!1;if(!uo(t,e,n[0],r,i,o))return!1;for(var a=1,s=n.length;a<s;++a)if(uo(t,n[a-1],n[a],r,i,o))return!1;return!0}function co(t,e,n,r,i,o,a){for(var s,u,l,c,h,f,p,d=i[o+1],v=[],g=0,_=n.length;g<_;++g){var m=n[g];for(c=t[m-r],f=t[m-r+1],s=e;s<m;s+=r)h=t[s],p=t[s+1],(d<=f&&p<=d||f<=d&&d<=p)&&(l=(d-f)/(p-f)*(h-c)+c,v.push(l)),c=h,f=p}var x=NaN,b=-1/0;for(v.sort(y),c=v[0],s=1,u=v.length;s<u;++s){h=v[s];var w=Math.abs(h-c);w>b&&lo(t,e,n,r,l=(c+h)/2,d)&&(x=l,b=w),c=h}return isNaN(x)&&(x=i[o]),a?(a.push(x,d,b),a):[x,d,b]}function ho(t,e,n,r,i){var o=ot([1/0,1/0,-1/0,-1/0],t,e,n,r);return!!_t(i,o)&&(!!Z(i,o)||(o[0]>=i[0]&&o[2]<=i[2]||(o[1]>=i[1]&&o[3]<=i[3]||function(t,e,n,r,i){for(var o,a=[t[e],t[e+1]],s=[];e+r<n;e+=r){if(s[0]=t[e+r],s[1]=t[e+r+1],o=i(a,s))return o;a[0]=s[0],a[1]=s[1]}return!1}(t,e,n,r,(function(t,e){return function(t,e,n){var r=!1,i=J(t,e),o=J(t,n);if(i===z||o===z)r=!0;else{var a=t[0],s=t[1],u=t[2],l=t[3],c=e[0],h=e[1],f=n[0],p=n[1],d=(p-h)/(f-c),v=void 0,g=void 0;o&B&&!(i&B)&&(r=(v=f-(p-l)/d)>=a&&v<=u),r||!(o&U)||i&U||(r=(g=p-(f-u)*d)>=s&&g<=l),r||!(o&G)||i&G||(r=(v=f-(p-s)/d)>=a&&v<=u),r||!(o&W)||i&W||(r=(g=p-(f-a)*d)>=s&&g<=l)}return r}(i,t,e)})))))}function fo(t,e,n,r,i){if(!function(t,e,n,r,i){return!!(ho(t,e,n,r,i)||uo(t,e,n,r,i[0],i[1])||uo(t,e,n,r,i[0],i[3])||uo(t,e,n,r,i[2],i[1])||uo(t,e,n,r,i[2],i[3]))}(t,e,n[0],r,i))return!1;if(1===n.length)return!0;for(var o=1,a=n.length;o<a;++o)if(so(t,n[o-1],n[o],r,i)&&!ho(t,n[o-1],n[o],r,i))return!1;return!0}function po(t,e,n,r){for(;e<n-r;){for(var i=0;i<r;++i){var o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}function vo(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],u=t[e+1];i+=(s-o)*(u+a),o=s,a=u}return 0===i?void 0:i>0}function go(t,e,n,r,i){for(var o=void 0!==i&&i,a=0,s=n.length;a<s;++a){var u=n[a],l=vo(t,e,u,r);if(0===a){if(o&&l||!o&&!l)return!1}else if(o&&!l||!o&&l)return!1;e=u}return!0}function _o(t,e,n,r,i){for(var o=void 0!==i&&i,a=0,s=n.length;a<s;++a){var u=n[a],l=vo(t,e,u,r);(0===a?o&&l||!o&&!l:o&&!l||!o&&l)&&po(t,e,u,r),e=u}return e}var yo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mo=function(t){function e(e,n,r){var i=t.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,void 0!==n&&r?(i.setFlatCoordinates(n,e),i.ends_=r):i.setCoordinates(e,n),i}return yo(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?b(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){return r<K(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Gi(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Vi(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.containsXY=function(t,e){return lo(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return no(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?_o(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,Qi(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=ct(this.getExtent());this.flatInteriorPoint_=co(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new ao(this.getFlatInteriorPoint(),Ai)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new io(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,r=[],i=0,o=0,a=n.length;o<a;++o){var s=n[o],u=new io(e.slice(i,s),t);r.push(u),i=s}return r},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;go(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=_o(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=qi(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,r),new e(n,Ri,r)},e.prototype.getType=function(){return _r},e.prototype.intersectsExtent=function(t){return fo(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Hi(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(zi);const xo=mo;function bo(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=[e,n,e,i,r,i,r,n,e,n];return new mo(o,Ri,[o.length])}var wo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function So(t,e){setTimeout((function(){t(e)}),0)}function Eo(t){return!(t.sourceCenter&&t.targetCenter&&!je(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}function Co(t,e,n,r,i){var o=Math.cos(-i),a=Math.sin(-i),s=t[0]*o-t[1]*a,u=t[1]*o+t[0]*a;return[(s+=(e[0]/2-n[0])*r)*o-(u+=(n[1]-e[1]/2)*r)*(a=-a),u*o+s*a]}const Oo=function(t){function e(e){var n=t.call(this)||this,r=Ut({},e);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=ii(r.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.targetResolution_,n.targetRotation_,n.cancelAnchor_=void 0,r.center&&(r.center=gi(r.center,n.projection_)),r.extent&&(r.extent=yi(r.extent,n.projection_)),n.applyOptions_(r),n}return wo(e,t),e.prototype.applyOptions_=function(t){var e=function(t){var e,n,r,i=28,o=2,a=void 0!==t.minZoom?t.minZoom:0,s=void 0!==t.maxZoom?t.maxZoom:i,u=void 0!==t.zoomFactor?t.zoomFactor:o,l=void 0!==t.multiWorld&&t.multiWorld,c=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,h=void 0!==t.showFullExtent&&t.showFullExtent,f=ii(t.projection,"EPSG:3857"),p=f.getExtent(),d=t.constrainOnlyCenter,v=t.extent;l||v||!f.isGlobal()||(d=!1,v=p);if(void 0!==t.resolutions){var g=t.resolutions;n=g[a],r=void 0!==g[s]?g[s]:g[g.length-1],e=t.constrainResolution?function(t,e,n,r){return function(i,o,a,s){if(void 0!==i){var u=t[0],l=t[t.length-1],c=n?bi(u,n,a,r):u;if(s)return void 0===e||e?wi(i,c,l):xt(i,l,c);var h=Math.min(c,i),f=Math.floor(m(t,h,o));return t[f]>c&&f<t.length-1?t[f+1]:t[f]}}}(g,c,!d&&v,h):Si(n,r,c,!d&&v,h)}else{var _=(p?Math.max(gt(p),ft(p)):360*Er[Cr.DEGREES]/f.getMetersPerUnit())/256/Math.pow(o,0),y=_/Math.pow(o,i-0);void 0!==(n=t.maxResolution)?a=0:n=_/Math.pow(u,a),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(u,s):_/Math.pow(u,s):y),s=a+Math.floor(Math.log(n/r)/Math.log(u)),r=n/Math.pow(u,s-a),e=t.constrainResolution?function(t,e,n,r,i,o){return function(a,s,u,l){if(void 0!==a){var c=i?bi(e,i,u,o):e,h=void 0!==n?n:0;if(l)return void 0===r||r?wi(a,c,h):xt(a,h,c);var f=Math.ceil(Math.log(e/c)/Math.log(t)-1e-9),p=-s*(.5-1e-9)+.5,d=Math.min(c,a),v=Math.floor(Math.log(e/d)/Math.log(t)+p),g=Math.max(f,v);return xt(e/Math.pow(t,g),h,c)}}}(u,n,r,c,!d&&v,h):Si(n,r,c,!d&&v,h)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:a,zoomFactor:u}}(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.padding=t.padding,this.minZoom_=e.minZoom;var n=function(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return mi(t.extent,t.constrainOnlyCenter,e)}var n=ii(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var r=n.getExtent().slice();return r[0]=-1/0,r[2]=1/0,mi(r,!1,!1)}return xi}(t),r=e.constraint,i=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(o=i||Ct(5),function(t,e){return e?t:void 0!==t?Math.abs(t)<=o?0:t:void 0}):!1===e?Ci:"number"==typeof e?(n=e,r=2*Math.PI/n,function(t,e){return e?t:void 0!==t?t=Math.floor(t/r+.5)*r:void 0}):Ci}return Ei;var n,r;var i,o}(t);this.constraints_={center:n,resolution:r,rotation:i},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.setProperties({}),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=Ut({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Ut({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var r=arguments[n];r.center&&((r=Ut({},r)).center=gi(r.center,this.getProjection())),r.anchor&&((r=Ut({},r)).anchor=gi(r.anchor,this.getProjection())),e[n]=r}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var r=arguments[n-1];return r.center&&this.setCenterInternal(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&So(e,!0))}for(var i=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,s=this.targetRotation_,u=[],l=0;l<n;++l){var c=arguments[l],h={start:i,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||Ti,callback:e};if(c.center&&(h.sourceCenter=o,h.targetCenter=c.center.slice(),o=h.targetCenter),void 0!==c.zoom?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(c.zoom),a=h.targetResolution):c.resolution&&(h.sourceResolution=a,h.targetResolution=c.resolution,a=h.targetResolution),void 0!==c.rotation){h.sourceRotation=s;var f=Ot(c.rotation-s+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=s+f,s=h.targetRotation}Eo(h)?h.complete=!0:i+=h.duration,u.push(h)}this.animations_.push(u),this.setHint(Or,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[Or]>0},e.prototype.getInteracting=function(){return this.hints_[Tr]>0},e.prototype.cancelAnimations=function(){var t;this.setHint(Or,-this.hints_[Or]);for(var e=0,n=this.animations_.length;e<n;++e){var r=this.animations_[e];if(r[0].callback&&So(r[0].callback,!1),!t)for(var i=0,o=r.length;i<o;++i){var a=r[i];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var r=this.animations_[n],i=!0,o=0,a=r.length;o<a;++o){var s=r[o];if(!s.complete){var u=t-s.start,l=s.duration>0?u/s.duration:1;l>=1?(s.complete=!0,l=1):i=!1;var c=s.easing(l);if(s.sourceCenter){var h=s.sourceCenter[0],f=s.sourceCenter[1],p=h+c*(s.targetCenter[0]-h),d=f+c*(s.targetCenter[1]-f);this.targetCenter_=[p,d]}if(s.sourceResolution&&s.targetResolution){var v=1===c?s.targetResolution:s.sourceResolution+c*(s.targetResolution-s.sourceResolution);if(s.anchor){var g=this.getViewportSize_(this.getRotation()),_=this.constraints_.resolution(v,0,g,!0);this.targetCenter_=this.calculateCenterZoom(_,s.anchor)}this.targetResolution_=v,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var y=1===c?Ot(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+c*(s.targetRotation-s.sourceRotation);if(s.anchor){var m=this.constraints_.rotation(y,!0);this.targetCenter_=this.calculateCenterRotate(m,s.anchor)}this.targetRotation_=y}if(this.applyTargetState_(!0),e=!0,!s.complete)break}}if(i){this.animations_[n]=null,this.setHint(Or,-1);var x=r[0].callback;x&&So(x,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,r,i,o=this.getCenterInternal();return void 0!==o&&(Ne(n=[o[0]-e[0],o[1]-e[1]],t-this.getRotation()),i=e,(r=n)[0]+=+i[0],r[1]+=+i[1]),n},e.prototype.calculateCenterZoom=function(t,e){var n,r=this.getCenterInternal(),i=this.getResolution();void 0!==r&&void 0!==i&&(n=[e[0]-t*(e[0]-r[0])/i,e[1]-t*(e[1]-r[1])/i]);return n},e.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var n=e[0],r=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(r*Math.cos(t))]}return e},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?vi(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get(Pr)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){return _i(this.calculateExtentInternal(t),this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSize_(),n=this.getCenterInternal();M(n,1);var r=this.getResolution();M(void 0!==r,2);var i=this.getRotation();return M(void 0!==i,3),ht(n,r,i,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(Rr)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(yi(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getViewportSize_(),r=gt(t)/n[0],i=ft(t)/n[1];return Math.max(r,i)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(t){return n/Math.pow(e,t*i)}},e.prototype.getRotation=function(){return this.get(Ir)},e.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/e;return function(t){return Math.log(n/t)/e/i}},e.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),n=this.padding;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e},e.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),n=this.getRotation(),r=this.getCenterInternal(),i=this.padding;if(i){var o=this.getViewportSizeMinusPadding_();r=Co(r,this.getViewportSize_(),[o[0]/2+i[3],o[1]/2+i[0]],e,n)}return{center:r.slice(0),projection:void 0!==t?t:null,resolution:e,rotation:n,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,r=this.minZoom_||0;if(this.resolutions_){var i=m(this.resolutions_,t,1);r=i,e=this.resolutions_[i],n=i==this.resolutions_.length-1?2:e/this.resolutions_[i+1]}else e=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=xt(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,xt(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n;if(M(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t))M(!yt(t),25),n=bo(r=yi(t,this.getProjection()));else if(t.getType()===wr){var r;(n=bo(r=yi(t.getExtent(),this.getProjection()))).rotate(this.getRotation(),ct(r))}else{var i=di();n=i?t.clone().transform(i,this.getProjection()):t}this.fitInternal(n,e)},e.prototype.fitInternal=function(t,e){var n=e||{},r=n.size;r||(r=this.getViewportSizeMinusPadding_());var i,o=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0!==n.nearest&&n.nearest;i=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;for(var s=t.getFlatCoordinates(),u=this.getRotation(),l=Math.cos(-u),c=Math.sin(-u),h=1/0,f=1/0,p=-1/0,d=-1/0,v=t.getStride(),g=0,_=s.length;g<_;g+=v){var y=s[g]*l-s[g+1]*c,m=s[g]*c+s[g+1]*l;h=Math.min(h,y),f=Math.min(f,m),p=Math.max(p,y),d=Math.max(d,m)}var x=this.getResolutionForExtentInternal([h,f,p,d],[r[0]-o[1]-o[3],r[1]-o[0]-o[2]]);x=isNaN(x)?i:Math.max(x,i),x=this.getConstrainedResolution(x,a?0:1),c=-c;var b=(h+p)/2,w=(f+d)/2,S=(b+=(o[1]-o[3])/2*x)*l-(w+=(o[0]-o[2])/2*x)*c,E=w*l+b*c,O=this.getConstrainedCenter([S,E],x),T=n.callback?n.callback:C;void 0!==n.duration?this.animateInternal({resolution:x,center:O,duration:n.duration,easing:n.easing},T):(this.targetResolution_=x,this.targetCenter_=O,this.applyTargetState_(!1,!0),So(T,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal(gi(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){this.setCenterInternal(Co(t,e,n,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,e,n,r){var i,o=this.padding;if(o&&t){var a=this.getViewportSizeMinusPadding_(-n),s=Co(t,r,[a[0]/2+o[3],a[1]/2+o[0]],e,n);i=[t[0]-s[0],t[1]-s[1]]}return i},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=vi(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&gi(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*t,0,r,n);e&&(this.targetCenter_=this.calculateCenterZoom(i,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=gi(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(r,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(gi(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,r=this.constraints_.rotation(this.targetRotation_,n),i=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,i,n),a=this.constraints_.center(this.targetCenter_,o,i,n,this.calculateCenterShift(this.targetCenter_,o,r,i));this.get(Ir)!==r&&this.set(Ir,r),this.get(Rr)!==o&&this.set(Rr,o),this.get(Pr)&&je(this.get(Pr),a)||this.set(Pr,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,e,n){var r=void 0!==t?t:200,i=e||0,o=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,i,a),u=this.constraints_.center(this.targetCenter_,s,a,!1,this.calculateCenterShift(this.targetCenter_,s,o,a));if(0===r&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=o,this.targetCenter_=u,void this.applyTargetState_();var l=n||(0===r?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===o&&this.getCenterInternal()&&je(this.getCenterInternal(),u)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:u,resolution:s,duration:r,easing:Oi,anchor:l}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(Tr,1)},e.prototype.endInteraction=function(t,e,n){var r=n&&gi(n,this.getProjection());this.endInteractionInternal(t,e,r)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(Tr,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,r)},e}(ve);function To(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}var Po=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Ro=function(t){function e(e){var n=t.call(this)||this,r=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,r,i,o={},a=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new Un({layers:t.layers});o[nr]=a,o[ir]=t.target,o[or]=void 0!==t.view?t.view:new Oo,void 0!==t.controls&&(Array.isArray(t.controls)?n=new $n(t.controls.slice()):(M("function"==typeof t.controls.getArray,47),n=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?r=new $n(t.interactions.slice()):(M("function"==typeof t.interactions.getArray,48),r=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?i=new $n(t.overlays.slice()):(M("function"==typeof t.overlays.getArray,49),i=t.overlays):i=new $n;return{controls:n,interactions:r,keyboardEventTarget:e,overlays:i,values:o}}(e);return n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:nn,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=e.moveTolerance,n.keyboardEventTarget_=r.keyboardEventTarget,n.keyHandlerKeys_=null,n.controls=r.controls||new $n,n.interactions=r.interactions||new $n,n.overlays_=r.overlays,n.overlayIdIndex_={},n.renderer_=null,n.handleResize_,n.postRenderFunctions_=[],n.tileQueue_=new pr(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addEventListener(de(nr),n.handleLayerGroupChanged_),n.addEventListener(de(or),n.handleViewChanged_),n.addEventListener(de(rr),n.handleSizeChanged_),n.addEventListener(de(ir),n.handleTargetChanged_),n.setProperties(r.values),n.controls.forEach(function(t){t.setMap(this)}.bind(n)),n.controls.addEventListener(Ln,function(t){t.element.setMap(this)}.bind(n)),n.controls.addEventListener(Fn,function(t){t.element.setMap(null)}.bind(n)),n.interactions.forEach(function(t){t.setMap(this)}.bind(n)),n.interactions.addEventListener(Ln,function(t){t.element.setMap(this)}.bind(n)),n.interactions.addEventListener(Fn,function(t){t.element.setMap(null)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n.overlays_.addEventListener(Ln,function(t){this.addOverlayInternal_(t.element)}.bind(n)),n.overlays_.addEventListener(Fn,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}.bind(n)),n}return Po(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var r=this.getCoordinateFromPixelInternal(t),i=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,o=void 0!==n.layerFilter?n.layerFilter:S,a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,i,a,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var r=n||{},i=void 0!==r.hitTolerance?r.hitTolerance:0,o=r.layerFilter||S;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,i,e,o)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t),r=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:S,i=void 0!==e.hitTolerance?e.hitTolerance:0,o=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,i,o,r,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(ir)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return vi(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?F(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(nr)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer.getSource();if(r&&r.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=gi(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?F(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(rr)},e.prototype.getView=function(){return this.get(or)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document},e.prototype.getTilePriority=function(t,e,n,r){return function(t,e,n,r,i){if(!t||!(n in t.wantedTiles))return ar;if(!t.wantedTiles[n][e.getKey()])return ar;var o=t.viewState.center,a=r[0]-o[0],s=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i}(this.frameState_,t,e,n,r)},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,r=new Xn(n,this,t);this.handleMapBrowserEvent(r)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent,n=e.type;if(n===Yn||n===ie||n===Qt){var r=this.getOwnerDocument(),i=this.viewport_.getRootNode?this.viewport_.getRootNode():r,o="host"in i?i.elementFromPoint(e.clientX,e.clientY):e.target;if(this.overlayContainerStopEvent_.contains(o)||!(i===r?r.documentElement:i).contains(o))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t))for(var a=this.getInteractions().getArray().slice(),s=a.length-1;s>=0;s--){var u=a[s];if(u.getMap()===this&&u.getActive()&&this.getTargetElement())if(!u.handleEvent(t)||t.propagationStopped)break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,r=n;if(t){var i=t.viewHints;if(i[Or]||i[Tr]){var o=!on&&Date.now()-t.time>8;n=o?0:8,r=o?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,r))}!t||!this.hasListener(Ae)||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(Ae,t);for(var a=this.postRenderFunctions_,s=0,u=a.length;s<u;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.mapBrowserEventHandler_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)se(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener(Zt,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(ie,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(ne,this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,ln(this.viewport_)}if(t){for(var r in t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new Jn(this,this.moveTolerance_),Hn)this.mapBrowserEventHandler_.addEventListener(Hn[r],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Zt,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(ie,this.boundHandleBrowserEvent_,!!an&&{passive:!1});var i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[oe(i,Qt,this.handleBrowserEvent,this),oe(i,te,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(ne,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(se(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(se(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=oe(t,Bt,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=oe(t,Kt,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(se),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[oe(t,Bt,this.render,this),oe(t,Kt,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this,n=this.getSize(),r=this.getView(),i=this.frameState_,o=null;if(void 0!==n&&function(t){return t[0]>0&&t[1]>0}(n)&&r&&r.isDef()){var a=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),s=r.getState();o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:ht(s.center,s.resolution,s.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:s,viewHints:a,wantedTiles:{}}}if(this.frameState_=o,this.renderer_.renderFrame(o),o){if(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),i)(!this.previousExtent_||!yt(this.previousExtent_)&&!nt(o.extent,this.previousExtent_))&&(this.dispatchEvent(new Wn(tr,this,i)),this.previousExtent_=et(this.previousExtent_));this.previousExtent_&&!o.viewHints[Or]&&!o.viewHints[Tr]&&!nt(o.extent,this.previousExtent_)&&(this.dispatchEvent(new Wn(er,this,o)),H(o.extent,this.previousExtent_))}this.dispatchEvent(new Wn(Qn,this,o)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()}),0))},e.prototype.setLayerGroup=function(t){this.set(nr,t)},e.prototype.setSize=function(t){this.set(rr,t)},e.prototype.setTarget=function(t){this.set(ir,t)},e.prototype.setView=function(t){this.set(or,t)},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}},e}(ve);var Io=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Ao=function(t){function e(e){var n=t.call(this)||this,r=e.element;return!r||e.target||r.style.pointerEvents||(r.style.pointerEvents="auto"),n.element=r||null,n.target_=null,n.map_=null,n.listenerKeys=[],e.render&&(n.render=e.render),e.target&&n.setTarget(e.target),n}return Io(e,t),e.prototype.disposeInternal=function(){ln(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&ln(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)se(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==C&&this.listenerKeys.push(oe(t,Qn,this.render,this)),t.render())},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(ve);var ko=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Mo=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===r.collapsed||r.collapsed,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=void 0!==r.collapsible,n.collapsible_=void 0===r.collapsible||r.collapsible,n.collapsible_||(n.collapsed_=!1);var i=void 0!==r.className?r.className:"ol-attribution",o=void 0!==r.tipLabel?r.tipLabel:"Attributions",a=void 0!==r.expandClassName?r.expandClassName:i+"-expand",s=void 0!==r.collapseLabel?r.collapseLabel:"»",u=void 0!==r.collapseClassName?r.collapseClassName:i+"-collpase";"string"==typeof s?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=s,n.collapseLabel_.className=u):n.collapseLabel_=s;var l=void 0!==r.label?r.label:"i";"string"==typeof l?(n.label_=document.createElement("span"),n.label_.textContent=l,n.label_.className=a):n.label_=l;var c=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=o,h.appendChild(c),h.addEventListener(qt,n.handleClick_.bind(n),!1);var f=i+" "+"ol-unselectable "+He+(n.collapsed_&&n.collapsible_?" ol-collapsed":"")+(n.collapsible_?"":" ol-uncollapsible"),p=n.element;return p.className=f,p.appendChild(n.ulElement_),p.appendChild(h),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return ko(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],r=!0,i=t.layerStatesArray,o=0,a=i.length;o<a;++o){var s=i[o];if(Fe(s,t.viewState)){var u=s.layer.getSource();if(u){var l=u.getAttributions();if(l){var c=l(t);if(c)if(r=r&&!1!==u.getAttributionsCollapsible(),Array.isArray(c))for(var h=0,f=c.length;h<f;++h)c[h]in e||(n.push(c[h]),e[c[h]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(r),n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!w(e,this.renderedAttributions_)){!function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.ulElement_);for(var r=0,i=e.length;r<i;++r){var o=document.createElement("li");o.innerHTML=e[r],this.ulElement_.appendChild(o)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle(Ke),this.collapsed_?un(this.collapseLabel_,this.label_):un(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(Ao);var Lo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Fo=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this;var i=void 0!==r.className?r.className:"ol-rotate",o=void 0!==r.label?r.label:"⇧",a=void 0!==r.compassClassName?r.compassClassName:"ol-compass";n.label_=null,"string"==typeof o?(n.label_=document.createElement("span"),n.label_.className=a,n.label_.textContent=o):(n.label_=o,n.label_.classList.add(a));var s=r.tipLabel?r.tipLabel:"Reset rotation",u=document.createElement("button");u.className=i+"-reset",u.setAttribute("type","button"),u.title=s,u.appendChild(n.label_),u.addEventListener(qt,n.handleClick_.bind(n),!1);var l=i+" "+"ol-unselectable "+He,c=n.element;return c.className=l,c.appendChild(u),n.callResetNorth_=r.resetNorth?r.resetNorth:void 0,n.duration_=void 0!==r.duration?r.duration:250,n.autoHide_=void 0===r.autoHide||r.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(Ve),n}return Lo(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();if(t){var e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:Oi}):t.setRotation(0))}},e.prototype.render=function(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var r="rotate("+n+"rad)";if(this.autoHide_){var i=this.element.classList.contains(Ve);i||0!==n?i&&0!==n&&this.element.classList.remove(Ve):this.element.classList.add(Ve)}this.label_.style.transform=r}this.rotation_=n}},e}(Ao);var Do=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const jo=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),target:r.target})||this;var i=void 0!==r.className?r.className:"ol-zoom",o=void 0!==r.delta?r.delta:1,a=void 0!==r.zoomInClassName?r.zoomInClassName:i+"-in",s=void 0!==r.zoomOutClassName?r.zoomOutClassName:i+"-out",u=void 0!==r.zoomInLabel?r.zoomInLabel:"+",l=void 0!==r.zoomOutLabel?r.zoomOutLabel:"−",c=void 0!==r.zoomInTipLabel?r.zoomInTipLabel:"Zoom in",h=void 0!==r.zoomOutTipLabel?r.zoomOutTipLabel:"Zoom out",f=document.createElement("button");f.className=a,f.setAttribute("type","button"),f.title=c,f.appendChild("string"==typeof u?document.createTextNode(u):u),f.addEventListener(qt,n.handleClick_.bind(n,o),!1);var p=document.createElement("button");p.className=s,p.setAttribute("type","button"),p.title=h,p.appendChild("string"==typeof l?document.createTextNode(l):l),p.addEventListener(qt,n.handleClick_.bind(n,-o),!1);var d=i+" "+"ol-unselectable "+He,v=n.element;return v.className=d,v.appendChild(f),v.appendChild(p),n.duration_=void 0!==r.duration?r.duration:250,n}return Do(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var r=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:r,duration:this.duration_,easing:Oi})):e.setZoom(r)}}},e}(Ao);const No="active";var $o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function zo(t,e,n,r){var i=t.getZoom();if(void 0!==i){var o=t.getConstrainedZoom(i+e),a=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==r?r:250,easing:Oi})}}const Bo=function(t){function e(e){var n=t.call(this)||this;return e&&e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return $o(e,t),e.prototype.getActive=function(){return this.get(No)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(No,t)},e.prototype.setMap=function(t){this.map_=t},e}(ve);var Uo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Go=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:250,n}return Uo(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==Hn.DBLCLICK){var n=t.originalEvent,r=t.map,i=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_;zo(r.getView(),o,i,this.duration_),n.preventDefault(),e=!0}return!e},e}(Bo);var Wo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Vo(t){for(var e=t.length,n=0,r=0,i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return[n/e,r/e]}const Xo=function(t){function e(e){var n=this,r=e||{};return n=t.call(this,r)||this,r.handleDownEvent&&(n.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(n.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(n.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(n.handleUpEvent=r.handleUpEvent),r.stopDown&&(n.stopDown=r.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return Wo(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Hn.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Hn.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==Hn.POINTERDOWN){var r=this.handleDownEvent(t);this.handlingDownUpSequence=r,e=this.stopDown(r)}else t.type==Hn.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===Hn.POINTERDOWN||e===Hn.POINTERDRAG||e===Hn.POINTERUP}(t)){var e=t.originalEvent,n=e.pointerId.toString();t.type==Hn.POINTERUP?delete this.trackedPointers_[n]:(t.type==Hn.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=Wt(this.trackedPointers_)}},e}(Bo);function Ho(t){var e=arguments;return function(t){for(var n=!0,r=0,i=e.length;r<i&&(n=n&&e[r](t));++r);return n}}var Ko=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Yo=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){return t.target.getTargetElement().contains(document.activeElement)}(t)},Zo=S,qo=function(t){var e=t.originalEvent;return 0==e.button&&!(tn&&en&&e.ctrlKey)},Jo=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Qo=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},ta=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},ea=function(t){var e=t.originalEvent;return M(void 0!==e,56),"mouse"==e.pointerType},na=function(t){var e=t.originalEvent;return M(void 0!==e,56),e.isPrimary&&0===e.button},ra=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const ia=function(t){function e(e){var n=t.call(this,{stopDown:E})||this,r=e||{};n.kinetic_=r.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1;var i=r.condition?r.condition:Ho(Jo,na);return n.condition_=r.onFocusOnly?Ho(Yo,i):i,n.noKinetic_=!1,n}return ra(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e=this.targetPointers,n=Vo(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var r=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],i=t.map.getView();!function(t,e){t[0]*=e,t[1]*=e}(r,i.getResolution()),Ne(r,i.getRotation()),i.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),o=n.getCenterInternal(),a=e.getPixelFromCoordinateInternal(o),s=e.getCoordinateFromPixelInternal([a[0]-r*Math.cos(i),a[1]-r*Math.sin(i)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:Oi})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(Xo);var oa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const aa=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,{stopDown:E})||this).condition_=r.condition?r.condition:Ko,n.lastAngle_=void 0,n.duration_=void 0!==r.duration?r.duration:250,n}return oa(e,t),e.prototype.handleDragEvent=function(t){if(ea(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==Ei){var r=e.getSize(),i=t.pixel,o=Math.atan2(r[1]/2-i[1],i[0]-r[0]/2);if(void 0!==this.lastAngle_){var a=o-this.lastAngle_;n.adjustRotationInternal(-a)}this.lastAngle_=o}}},e.prototype.handleUpEvent=function(t){return!ea(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!!ea(t)&&(!(!qo(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))},e}(Xo);var sa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const ua=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return sa(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n="px",r=this.element_.style;r.left=Math.min(t[0],e[0])+n,r.top=Math.min(t[1],e[1])+n,r.width=Math.abs(e[0]-t[0])+n,r.height=Math.abs(e[1]-t[1])+n},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new xo([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(_);var la=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ca="boxstart",ha="boxdrag",fa="boxend",pa="boxcancel",da=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.coordinate=n,i.mapBrowserEvent=r,i}return la(e,t),e}(zt);const va=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.box_=new ua(r.className||"ol-dragbox"),n.minArea_=void 0!==r.minArea?r.minArea:64,r.onBoxEnd&&(n.onBoxEnd=r.onBoxEnd),n.startPixel_=null,n.condition_=r.condition?r.condition:qo,n.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:n.defaultBoxEndCondition,n}return la(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var r=n[0]-e[0],i=n[1]-e[1];return r*r+i*i>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new da(ha,t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new da(e?fa:pa,t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new da(ca,t.coordinate,t)),!0)},e.prototype.onBoxEnd=function(t){},e}(Xo);var ga=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const _a=function(t){function e(e){var n=this,r=e||{},i=r.condition?r.condition:Qo;return(n=t.call(this,{condition:i,className:r.className||"ol-dragzoom",minArea:r.minArea})||this).duration_=void 0!==r.duration?r.duration:200,n.out_=void 0!==r.out&&r.out,n}return ga(e,t),e.prototype.onBoxEnd=function(t){var e=this.getMap(),n=e.getView(),r=e.getSize(),i=this.getGeometry().getExtent();if(this.out_){var o=n.calculateExtentInternal(r),a=function(t,e){return it(et(e),t)}([e.getPixelFromCoordinateInternal(ut(i)),e.getPixelFromCoordinateInternal(vt(i))]);!function(t,e){var n=(t[2]-t[0])/2*(e-1),r=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=r,t[3]+=r}(o,1/n.getResolutionForExtentInternal(a,r)),i=o}var s=n.getConstrainedResolution(n.getResolutionForExtentInternal(i,r)),u=n.getConstrainedCenter(ct(i),s);n.animateInternal({resolution:s,center:u,duration:this.duration_,easing:Oi})},e}(va),ya=37,ma=38,xa=39,ba=40;var wa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Sa=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.defaultCondition_=function(t){return Jo(t)&&ta(t)},n.condition_=void 0!==r.condition?r.condition:n.defaultCondition_,n.duration_=void 0!==r.duration?r.duration:100,n.pixelDelta_=void 0!==r.pixelDelta?r.pixelDelta:128,n}return wa(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==Qt){var n=t.originalEvent,r=n.keyCode;if(this.condition_(t)&&(r==ba||r==ya||r==xa||r==ma)){var i=t.map.getView(),o=i.getResolution()*this.pixelDelta_,a=0,s=0;r==ba?s=-o:r==ya?a=-o:r==xa?a=o:s=o;var u=[a,s];Ne(u,i.getRotation()),function(t,e,n){var r=t.getCenterInternal();if(r){var i=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:Pi,center:t.getConstrainedCenter(i)})}}(i,u,this.duration_),n.preventDefault(),e=!0}}return!e},e}(Bo);var Ea=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Ca=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.condition_=r.condition?r.condition:ta,n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:100,n}return Ea(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==Qt||t.type==te){var n=t.originalEvent,r=n.charCode;if(this.condition_(t)&&(r=="+".charCodeAt(0)||r=="-".charCodeAt(0))){var i=t.map,o=r=="+".charCodeAt(0)?this.delta_:-this.delta_;zo(i.getView(),o,void 0,this.duration_),n.preventDefault(),e=!0}}return!e},e}(Bo);const Oa=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var r=this.points_[e+2]-this.points_[n+2];if(r<1e3/60)return!1;var i=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/r,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}();var Ta=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pa="trackpad",Ra="wheel";const Ia=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,r)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==r.maxDelta?r.maxDelta:1,n.duration_=void 0!==r.duration?r.duration:250,n.timeout_=void 0!==r.timeout?r.timeout:80,n.useAnchor_=void 0===r.useAnchor||r.useAnchor,n.constrainResolution_=void 0!==r.constrainResolution&&r.constrainResolution;var i=r.condition?r.condition:Zo;return n.condition_=r.onFocusOnly?Ho(Yo,i):i,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.deltaPerZoom_=300,n}return Ta(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if(t.type!==ie)return!0;var e,n=t.map,r=t.originalEvent;if(r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==ie&&(e=r.deltaY,Qe&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=nn),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var i=Date.now();void 0===this.startTime_&&(this.startTime_=i),(!this.mode_||i-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?Pa:Ra);var o=n.getView();if(this.mode_===Pa&&!o.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=i,!1;this.totalDelta_+=e;var a=Math.max(this.timeout_-(i-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),a),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=-xt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),zo(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(Bo);var Aa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const ka=function(t){function e(e){var n=this,r=e||{},i=r;return i.stopDown||(i.stopDown=E),(n=t.call(this,i)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==r.threshold?r.threshold:.3,n.duration_=void 0!==r.duration?r.duration:250,n}return Aa(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],r=this.targetPointers[1],i=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=i-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=i;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==Ei){var u=a.getViewport().getBoundingClientRect(),l=Vo(this.targetPointers);l[0]-=u.left,l[1]-=u.top,this.anchor_=a.getCoordinateFromPixelInternal(l),this.rotating_&&(a.render(),s.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(Xo);var Ma=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const La=function(t){function e(e){var n=this,r=e||{},i=r;return i.stopDown||(i.stopDown=E),(n=t.call(this,i)||this).anchor_=null,n.duration_=void 0!==r.duration?r.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return Ma(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],r=this.targetPointers[1],i=n.clientX-r.clientX,o=n.clientY-r.clientY,a=Math.sqrt(i*i+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,u=s.getView();1!=e&&(this.lastScaleDelta_=e);var l=s.getViewport().getBoundingClientRect(),c=Vo(this.targetPointers);c[0]-=l.left,c[1]-=l.top,this.anchor_=s.getCoordinateFromPixelInternal(c),s.render(),u.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(Xo);var Fa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Da=function(t){function e(e){return(e=Ut({},e)).controls||(e.controls=function(t){var e=t||{},n=new $n;return(void 0===e.zoom||e.zoom)&&n.push(new jo(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new Fo(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new Mo(e.attributionOptions)),n}()),e.interactions||(e.interactions=function(t){var e=t||{},n=new $n,r=new Oa(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new aa),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new Go({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new ia({onFocusOnly:e.onFocusOnly,kinetic:r})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new ka),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new La({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new Sa),n.push(new Ca({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new Ia({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new _a({duration:e.zoomDuration})),n}({onFocusOnly:!0})),t.call(this,e)||this}return Fa(e,t),e.prototype.createRenderer=function(){return new Mn(this)},e}(Ro);var ja=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Na=function(t){function e(e){var n=e||{};return t.call(this,n)||this}return ja(e,t),e}(De),$a=0,za=1,Ba=2,Ua=3,Ga=4;var Wa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Va=function(t){function e(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n.declutterExecutorGroup=null,n}return Wa(e,t),e.prototype.getFeatures=function(t){return O()},e.prototype.prepareFrame=function(t){return O()},e.prototype.renderFrame=function(t,e){return O()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return function(r,i){var o=this.loadedTileCallback.bind(this,n,r);return t.forEachLoadedTile(e,r,i,o)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){},e.prototype.getDataAtPixel=function(t,e,n){return O()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){t.target.getState()===Ba&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=Ba&&e!=Ua&&t.addEventListener(Kt,this.boundHandleImageChange_),e==$a&&(t.load(),e=t.getState()),e==Ba},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==Me&&t.changed()},e}(le);var Xa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Ha=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.renderedResolution,n.tempTransform=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n}return Xa(e,t),e.prototype.useContainer=function(t,e,n){var r,i,o=this.getLayer().getClassName();t&&""===t.style.opacity&&t.className===o&&((s=t.firstElementChild)instanceof HTMLCanvasElement&&(i=s.getContext("2d")));if(!i||0!==i.canvas.width&&i.canvas.style.transform!==e?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=t,this.context=i,this.containerReused=!0),!this.container){(r=document.createElement("div")).className=o;var a=r.style;a.position="absolute",a.width="100%",a.height="100%";var s=(i=sn()).canvas;r.appendChild(s),(a=s.style).position="absolute",a.left="0",a.transformOrigin="top left",this.container=r,this.context=i}},e.prototype.clip=function(t,e,n){var r=e.pixelRatio,i=e.size[0]*r/2,o=e.size[1]*r/2,a=e.viewState.rotation,s=dt(n),u=vt(n),l=lt(n),c=ut(n);F(e.coordinateToPixelTransform,s),F(e.coordinateToPixelTransform,u),F(e.coordinateToPixelTransform,l),F(e.coordinateToPixelTransform,c),t.save(),Rn(t,-a,i,o),t.beginPath(),t.moveTo(s[0]*r,s[1]*r),t.lineTo(u[0]*r,u[1]*r),t.lineTo(l[0]*r,l[1]*r),t.lineTo(c[0]*r,c[1]*r),t.clip(),Rn(t,a,i,o)},e.prototype.clipUnrotated=function(t,e,n){var r=dt(n),i=vt(n),o=lt(n),a=ut(n);F(e.coordinateToPixelTransform,r),F(e.coordinateToPixelTransform,i),F(e.coordinateToPixelTransform,o),F(e.coordinateToPixelTransform,a);var s=this.inversePixelTransform;F(s,r),F(s,i),F(s,o),F(s,a),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var r=this.getLayer();if(r.hasListener(t)){var i=new We(t,this.inversePixelTransform,n,e);r.dispatchEvent(i)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_(Te,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(Pe,t,e)},e.prototype.getRenderTransform=function(t,e,n,r,i,o,a){var s=i/2,u=o/2,l=r/e,c=-l,h=-t[0]+a,f=-t[1];return D(this.tempTransform,s,u,l,c,-n,h,f)},e.prototype.getDataAtPixel=function(t,e,n){var r,i=F(this.inversePixelTransform,t.slice()),o=this.context,a=this.getLayer().getExtent();if(a&&!Y(a,F(e.pixelToCoordinateTransform,t.slice())))return null;try{var s=Math.round(i[0]),u=Math.round(i[1]),l=document.createElement("canvas"),c=l.getContext("2d");l.width=1,l.height=1,c.clearRect(0,0,1,1),c.drawImage(o.canvas,s,u,1,1,0,0,1,1),r=c.getImageData(0,0,1,1).data}catch(t){return"SecurityError"===t.name?new Uint8Array:r}return 0===r[3]?null:r},e}(Va);var Ka=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Ya=function(t){function e(e){var n=t.call(this,e)||this;return n.image_=null,n}return Ka(e,t),e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.prepareFrame=function(t){var e=t.layerStatesArray[t.layerIndex],n=t.pixelRatio,r=t.viewState,i=r.resolution,o=this.getLayer().getSource(),a=t.viewHints,s=t.extent;if(void 0!==e.extent&&(s=pt(s,yi(e.extent,r.projection))),!a[Or]&&!a[Tr]&&!yt(s))if(o){var u=r.projection,l=o.getImage(s,i,n,u);l&&this.loadImage(l)&&(this.image_=l)}else this.image_=null;return!!this.image_},e.prototype.renderFrame=function(t,e){var n=this.image_,r=n.getExtent(),i=n.getResolution(),o=n.getPixelRatio(),a=t.layerStatesArray[t.layerIndex],s=t.pixelRatio,u=t.viewState,l=u.center,c=u.resolution,h=t.size,f=s*i/(c*o),p=Math.round(h[0]*s),d=Math.round(h[1]*s),v=u.rotation;if(v){var g=Math.round(Math.sqrt(p*p+d*d));p=g,d=g}D(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/s,1/s,v,-p/2,-d/2),j(this.inversePixelTransform,this.pixelTransform);var _=function(t){return rn?N(t):(An||(An=sn(1,1).canvas),An.style.transform=N(t),An.style.transform)}(this.pixelTransform);this.useContainer(e,_,a.opacity);var y=this.context,m=y.canvas;m.width!=p||m.height!=d?(m.width=p,m.height=d):this.containerReused||y.clearRect(0,0,p,d);var x=!1;if(a.extent){var b=yi(a.extent,u.projection);(x=!Z(b,t.extent)&&_t(b,t.extent))&&this.clipUnrotated(y,t,b)}var w=n.getImage(),S=D(this.tempTransform,p/2,d/2,f,f,0,o*(r[0]-l[0])/i,o*(l[1]-r[3])/i);this.renderedResolution=i*s/o;var E=S[4],C=S[5],O=w.width*S[0],T=w.height*S[3];if(Ut(y,this.getLayer().getSource().getContextOptions()),this.preRender(y,t),O>=.5&&T>=.5){var P=a.opacity,R=void 0;1!==P&&(R=this.context.globalAlpha,this.context.globalAlpha=P),this.context.drawImage(w,0,0,+w.width,+w.height,Math.round(E),Math.round(C),Math.round(O),Math.round(T)),1!==P&&(this.context.globalAlpha=R)}return this.postRender(y,t),x&&y.restore(),_!==m.style.transform&&(m.style.transform=_),this.container},e}(Ha);var Za=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const qa=function(t){function e(e){return t.call(this,e)||this}return Za(e,t),e.prototype.createRenderer=function(){return new Ya(this)},e}(Na);var Ja=n(582),Qa=n.n(Ja);const ts=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=To(t.scale),this.displacement_=t.displacement}return t.prototype.clone=function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return O()},t.prototype.getImage=function(t){return O()},t.prototype.getHitDetectionImage=function(){return O()},t.prototype.getPixelRatio=function(t){return 1},t.prototype.getImageState=function(){return O()},t.prototype.getImageSize=function(){return O()},t.prototype.getHitDetectionImageSize=function(){return O()},t.prototype.getOrigin=function(){return O()},t.prototype.getSize=function(){return O()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=To(t)},t.prototype.listenImageChange=function(t){O()},t.prototype.load=function(){O()},t.prototype.unlistenImageChange=function(t){O()},t}();function es(t){return Array.isArray(t)?Ft(t):t}var ns=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const rs=function(t){function e(e){var n=this,r=void 0!==e.rotateWithView&&e.rotateWithView;return(n=t.call(this,{opacity:1,rotateWithView:r,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_={},n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.anchor_=null,n.size_=null,n.imageSize_=null,n.hitDetectionImageSize_=null,n.render(),n}return ns(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionCanvas_){var t=this.createRenderOptions();this.createHitDetectionCanvas_(t)}return this.hitDetectionCanvas_},e.prototype.getImage=function(t){if(!this.canvas_[t||1]){var e=this.createRenderOptions(),n=sn(e.size*t||1,e.size*t||1);this.draw_(e,n,0,0,t||1),this.canvas_[t||1]=n.canvas}return this.canvas_[t||1]},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return Ba},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.createRenderOptions=function(){var t,e=fn,n=dn,r=0,i=null,o=0,a=0;return this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=vn),t=es(t),void 0===(a=this.stroke_.getWidth())&&(a=1),i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),void 0===(n=this.stroke_.getLineJoin())&&(n=dn),void 0===(e=this.stroke_.getLineCap())&&(e=fn),void 0===(r=this.stroke_.getMiterLimit())&&(r=10)),{strokeStyle:t,strokeWidth:a,size:2*(this.radius_+a)+1,lineCap:e,lineDash:i,lineDashOffset:o,lineJoin:n,miterLimit:r}},e.prototype.render=function(){var t=this.createRenderOptions(),e=sn(t.size,t.size);this.draw_(t,e,0,0,1),this.canvas_={},this.canvas_[1]=e.canvas;var n=e.canvas.width,r=n,i=this.getDisplacement();this.hitDetectionImageSize_=[t.size,t.size],this.createHitDetectionCanvas_(t),this.anchor_=[n/2-i[0],n/2+i[1]],this.size_=[n,n],this.imageSize_=[r,r]},e.prototype.draw_=function(t,e,n,r,i){var o,a,s;e.setTransform(i,0,0,i,0,0),e.translate(n,r),e.beginPath();var u=this.points_;if(u===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(u*=2),o=0;o<=u;o++)a=2*o*Math.PI/u-Math.PI/2+this.angle_,s=o%2==0?this.radius_:l,e.lineTo(t.size/2+s*Math.cos(a),t.size/2+s*Math.sin(a))}if(this.fill_){var c=this.fill_.getColor();null===c&&(c=hn),e.fillStyle=es(c),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionCanvas_=this.getImage(1),this.fill_){var e=this.fill_.getColor(),n=0;if("string"==typeof e&&(e=Mt(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var r=sn(t.size,t.size);this.hitDetectionCanvas_=r.canvas,this.drawHitDetectionCanvas_(t,r,0,0)}}},e.prototype.drawHitDetectionCanvas_=function(t,e,n,r){e.translate(n,r),e.beginPath();var i=this.points_;if(i===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o=void 0!==this.radius2_?this.radius2_:this.radius_;o!==this.radius_&&(i*=2);var a=void 0,s=void 0,u=void 0;for(a=0;a<=i;a++)u=2*a*Math.PI/i-Math.PI/2+this.angle_,s=a%2==0?this.radius_:o,e.lineTo(t.size/2+s*Math.cos(u),t.size/2+s*Math.sin(u))}e.fillStyle=hn,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e}(ts);var is=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const os=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,scale:void 0!==n.scale?n.scale:1,rotation:void 0!==n.rotation?n.rotation:0,rotateWithView:void 0!==n.rotateWithView&&n.rotateWithView,displacement:void 0!==n.displacement?n.displacement:[0,0]})||this}return is(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(rs);const as=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}();const ss=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}();var us=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=hs,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=hs,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}();var ls=null;function cs(t,e){if(!ls){var n=new as({color:"rgba(255,255,255,0.4)"}),r=new ss({color:"#3399CC",width:1.25});ls=[new us({image:new os({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return ls}function hs(t){return t.getGeometry()}const fs=us;var ps=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ds="renderOrder";const vs=function(t){function e(e){var n=this,r=e||{},i=Ut({},r);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,(n=t.call(this,i)||this).declutter_=void 0!==r.declutter&&r.declutter,n.renderBuffer_=void 0!==r.renderBuffer?r.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(r.style),n.updateWhileAnimating_=void 0!==r.updateWhileAnimating&&r.updateWhileAnimating,n.updateWhileInteracting_=void 0!==r.updateWhileInteracting&&r.updateWhileInteracting,n}return ps(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(ds)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new(Qa())(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(ds,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:cs,this.styleFunction_=null===t?void 0:function(t){var e;if("function"==typeof t)e=t;else{var n;Array.isArray(t)?n=t:(M("function"==typeof t.getZIndex,41),n=[t]),e=function(){return n}}return e}(this.style_),this.changed()},e}(De);var gs={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},_s=[gs.FILL],ys=[gs.STROKE],ms=[gs.BEGIN_PATH],xs=[gs.CLOSE_PATH];const bs=gs;const ws=function(){function t(){}return t.prototype.drawCustom=function(t,e,n){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}();var Ss=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Es=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=n,o.pixelRatio=i,o.maxLineWidth=0,o.resolution=r,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return Ss(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatPointCoordinates=function(t,e){for(var n=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,i=this.coordinates,o=i.length,a=0,s=t.length;a<s;a+=e)r[0]=t[a],r[1]=t[a+1],Y(n,r)&&(i[o++]=r[0],i[o++]=r[1]);return o},e.prototype.appendFlatLineCoordinates=function(t,e,n,r,i,o){var a=this.coordinates,s=a.length,u=this.getBufferedMaxExtent();o&&(e+=r);var l,c,h,f=t[e],p=t[e+1],d=this.tmpCoordinate_,v=!0;for(l=e+r;l<n;l+=r)d[0]=t[l],d[1]=t[l+1],(h=J(u,d))!==c?(v&&(a[s++]=f,a[s++]=p,v=!1),a[s++]=d[0],a[s++]=d[1]):h===z?(a[s++]=d[0],a[s++]=d[1],v=!1):v=!0,f=d[0],p=d[1],c=h;return(i&&v||l===e+r)&&(a[s++]=f,a[s++]=p),s},e.prototype.drawCustomCoordinates_=function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o],u=this.appendFlatLineCoordinates(t,e,s,r,!1,!1);i.push(u),e=s}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var r,i,o,a,s,u=t.getType(),l=t.getStride(),c=this.coordinates.length;if(u==xr){r=t.getOrientedFlatCoordinates(),a=[];var h=t.getEndss();s=0;for(var f=0,p=h.length;f<p;++f){var d=[];s=this.drawCustomCoordinates_(r,s,h[f],l,d),a.push(d)}this.instructions.push([bs.CUSTOM,c,a,t,n,to])}else u==_r||u==mr?(o=[],r=u==_r?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(r,0,t.getEnds(),l,o),this.instructions.push([bs.CUSTOM,c,o,t,n,Qi])):u==vr||u==wr?(r=t.getFlatCoordinates(),i=this.appendFlatLineCoordinates(r,0,r.length,l,!1,!1),this.instructions.push([bs.CUSTOM,c,i,t,n,Ji])):u==yr?(r=t.getFlatCoordinates(),(i=this.appendFlatPointCoordinates(r,l))>c&&this.instructions.push([bs.CUSTOM,c,i,t,n,Ji])):u==dr&&(r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),i=this.coordinates.length,this.instructions.push([bs.CUSTOM,c,i,t,n]));this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[bs.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[bs.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,r,i=e.length,o=-1;for(t=0;t<i;++t)(r=(n=e[t])[0])==bs.END_GEOMETRY?o=t:r==bs.BEGIN_GEOMETRY&&(n[2]=t,x(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var r=t.getColor();n.fillStyle=es(r||hn)}else n.fillStyle=void 0;if(e){var i=e.getColor();n.strokeStyle=es(i||vn);var o=e.getLineCap();n.lineCap=void 0!==o?o:fn;var a=e.getLineDash();n.lineDash=a?a.slice():pn;var s=e.getLineDashOffset();n.lineDashOffset=s||0;var u=e.getLineJoin();n.lineJoin=void 0!==u?u:dn;var l=e.getWidth();n.lineWidth=void 0!==l?l:1;var c=e.getMiterLimit();n.miterLimit=void 0!==c?c:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[bs.SET_FILL_STYLE,e];return"string"!=typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[bs.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,r=t.lineCap,i=t.lineDash,o=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,u=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=r||i!=t.currentLineDash&&!w(t.currentLineDash,i)||t.currentLineDashOffset!=o||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=u)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=r,t.currentLineDash=i,t.currentLineDashOffset=o,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=u)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[bs.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=H(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;X(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(ws);var Cs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Os=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterImageWithText_=void 0,o}return Cs(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.appendFlatPointCoordinates(n,r);this.instructions.push([bs.DRAW_IMAGE,i,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([bs.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.appendFlatPointCoordinates(n,r);this.instructions.push([bs.DRAW_IMAGE,i,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([bs.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),r=t.getSize(),i=t.getHitDetectionImage(),o=t.getImage(this.pixelRatio),a=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=i,this.image_=o,this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterImageWithText_=e},e}(Es);var Ts=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Ps=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return Ts(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,r){var i=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,n,r,!1,!1),a=[bs.MOVE_TO_LINE_TO,i,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},e.prototype.drawLineString=function(t,e){var n=this.state,r=n.strokeStyle,i=n.lineWidth;if(void 0!==r&&void 0!==i){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([bs.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],ms);var o=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(o,0,o.length,a),this.hitDetectionInstructions.push(ys),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,r=n.strokeStyle,i=n.lineWidth;if(void 0!==r&&void 0!==i){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([bs.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],ms);for(var o=t.getEnds(),a=t.getFlatCoordinates(),s=t.getStride(),u=0,l=0,c=o.length;l<c;++l)u=this.drawFlatCoordinates_(a,u,o[l],s);this.hitDetectionInstructions.push(ys),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(ys),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(ys),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(ms)},e}(Es);var Rs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Is=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return Rs(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,r){var i=this.state,o=void 0!==i.fillStyle,a=void 0!==i.strokeStyle,s=n.length;this.instructions.push(ms),this.hitDetectionInstructions.push(ms);for(var u=0;u<s;++u){var l=n[u],c=this.coordinates.length,h=this.appendFlatLineCoordinates(t,e,l,r,!0,!a),f=[bs.MOVE_TO_LINE_TO,c,h];this.instructions.push(f),this.hitDetectionInstructions.push(f),a&&(this.instructions.push(xs),this.hitDetectionInstructions.push(xs)),e=l}return o&&(this.instructions.push(_s),this.hitDetectionInstructions.push(_s)),a&&(this.instructions.push(ys),this.hitDetectionInstructions.push(ys)),e},e.prototype.drawCircle=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([bs.SET_FILL_STYLE,hn]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([bs.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,a,!1,!1);var u=[bs.CIRCLE,s];this.instructions.push(ms,u),this.hitDetectionInstructions.push(ms,u),void 0!==n.fillStyle&&(this.instructions.push(_s),this.hitDetectionInstructions.push(_s)),void 0!==n.strokeStyle&&(this.instructions.push(ys),this.hitDetectionInstructions.push(ys)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([bs.SET_FILL_STYLE,hn]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([bs.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getEnds(),a=t.getOrientedFlatCoordinates(),s=t.getStride();this.drawFlatCoordinatess_(a,0,o,s),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([bs.SET_FILL_STYLE,hn]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([bs.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var o=t.getEndss(),a=t.getOrientedFlatCoordinates(),s=t.getStride(),u=0,l=0,c=o.length;l<c;++l)u=this.drawFlatCoordinatess_(a,u,o[l],s);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,r=0,i=n.length;r<i;++r)n[r]=Yi(n[r],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(Es),As="line";function ks(t,e,n,r,i){var o,a,s,u,l,c,h,f,p,d=n,v=n,g=0,_=0,y=n;for(o=n;o<r;o+=i){var m=e[o],x=e[o+1];void 0!==u&&(f=m-u,p=x-l,s=Math.sqrt(f*f+p*p),void 0!==c&&(_+=a,Math.acos((c*f+h*p)/(a*s))>t&&(_>g&&(g=_,d=y,v=o),_=0,y=o-i)),a=s,c=f,h=p),u=m,l=x}return(_+=s)>g?[y,o]:[d,v]}var Ms=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ls={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};var Fs={Circle:Is,Default:Es,Image:Os,LineString:Ps,Polygon:Is,Text:function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return Ms(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textFillState_,r=this.textStrokeState_,i=this.textState_;if(""!==this.text_&&i&&(n||r)){var o=this.coordinates,a=o.length,s=t.getType(),u=null,l=t.getStride();if(i.placement!==As||s!=vr&&s!=mr&&s!=_r&&s!=xr){var c=i.overflow?null:[];switch(s){case dr:case yr:u=t.getFlatCoordinates();break;case vr:u=t.getFlatMidpoint();break;case wr:u=t.getCenter();break;case mr:u=t.getFlatMidpoints(),l=2;break;case _r:u=t.getFlatInteriorPoint(),i.overflow||c.push(u[2]/this.resolution),l=3;break;case xr:var h=t.getFlatInteriorPoints();u=[];for(b=0,w=h.length;b<w;b+=3)i.overflow||c.push(h[b+2]/this.resolution),u.push(h[b],h[b+1]);if(0===u.length)return;l=2}if((R=this.appendFlatPointCoordinates(u,l))===a)return;this.saveTextStates_(),(i.backgroundFill||i.backgroundStroke)&&(this.setFillStrokeStyle(i.backgroundFill,i.backgroundStroke),i.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),i.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var f=i.padding;if(f!=yn&&(i.scale[0]<0||i.scale[1]<0)){var p=i.padding[0],d=i.padding[1],v=i.padding[2],g=i.padding[3];i.scale[0]<0&&(d=-d,g=-g),i.scale[1]<0&&(p=-p,v=-v),f=[p,d,v,g]}var _=this.pixelRatio;this.instructions.push([bs.DRAW_IMAGE,a,R,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,f==yn?yn:f.map((function(t){return t*_})),!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]);var y=1/_;this.hitDetectionInstructions.push([bs.DRAW_IMAGE,a,R,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[y,y],NaN,this.declutterImageWithText_,f,!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]),this.endGeometry(e)}else{if(!_t(this.getBufferedMaxExtent(),t.getExtent()))return;var m=void 0;if(u=t.getFlatCoordinates(),s==vr)m=[u.length];else if(s==mr)m=t.getEnds();else if(s==_r)m=t.getEnds().slice(0,1);else if(s==xr){var x=t.getEndss();m=[];for(var b=0,w=x.length;b<w;++b)m.push(x[b][0])}this.beginGeometry(t,e);for(var S=i.textAlign,E=0,C=void 0,O=0,T=m.length;O<T;++O){if(null==S){var P=ks(i.maxAngle,u,E,m[O],l);E=P[0],C=P[1]}else C=m[O];for(var b=E;b<C;b+=l)o.push(u[b],u[b+1]);var R=o.length;E=m[O],this.drawChars_(a,R),a=R}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var i=this.textKey_;i in this.textStates||(this.textStates[i]={font:e.font,textAlign:e.textAlign||gn,textBaseline:e.textBaseline||_n,scale:e.scale});var o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e){var n=this.textStrokeState_,r=this.textState_,i=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();var s=this.pixelRatio,u=Ls[r.textBaseline],l=this.textOffsetY_*s,c=this.text_,h=n?n.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([bs.DRAW_CHARS,t,e,u,r.overflow,a,r.maxAngle,s,l,i,h*s,c,o,1]),this.hitDetectionInstructions.push([bs.DRAW_CHARS,t,e,u,r.overflow,a,r.maxAngle,1,l,i,h,c,o,1/s])},e.prototype.setTextStyle=function(t,e){var n,r,i;if(t){var o=t.getFill();o?((r=this.textFillState_)||(r={},this.textFillState_=r),r.fillStyle=es(o.getColor()||hn)):(r=null,this.textFillState_=r);var a=t.getStroke();if(a){(i=this.textStrokeState_)||(i={},this.textStrokeState_=i);var s=a.getLineDash(),u=a.getLineDashOffset(),l=a.getWidth(),c=a.getMiterLimit();i.lineCap=a.getLineCap()||fn,i.lineDash=s?s.slice():pn,i.lineDashOffset=void 0===u?0:u,i.lineJoin=a.getLineJoin()||dn,i.lineWidth=void 0===l?1:l,i.miterLimit=void 0===c?10:c,i.strokeStyle=es(a.getColor()||vn)}else i=null,this.textStrokeState_=i;n=this.textState_;var h=t.getFont()||cn;En(h);var f=t.getScaleArray();n.overflow=t.getOverflow(),n.font=h,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||_n,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||yn,n.scale=void 0===f?[1,1]:f;var p=t.getOffsetX(),d=t.getOffsetY(),v=t.getRotateWithView(),g=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===p?0:p,this.textOffsetY_=void 0===d?0:d,this.textRotateWithView_=void 0!==v&&v,this.textRotation_=void 0===g?0:g,this.strokeKey_=i?("string"==typeof i.strokeStyle?i.strokeStyle:P(i.strokeStyle))+i.lineCap+i.lineDashOffset+"|"+i.lineWidth+i.lineJoin+i.miterLimit+"["+i.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.textBaseline||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+P(r.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(Es)};const Ds=function(){function t(t,e,n,r){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=r,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var r in n){var i=n[r].finish();t[e][r]=i}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",r=this.buildersByZIndex_[n];void 0===r&&(r={},this.buildersByZIndex_[n]=r);var i=r[e];void 0===i&&(i=new(0,Fs[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[e]=i);return i},t}(),js="Circle",Ns="Default",$s="Image",zs="LineString",Bs="Polygon",Us="Text";function Gs(t,e,n,r,i,o,a,s,u,l,c,h){var f=t[e],p=t[e+1],d=0,v=0,g=0,_=0;function y(){d=f,v=p,f=t[e+=r],p=t[e+1],_+=g,g=Math.sqrt((f-d)*(f-d)+(p-v)*(p-v))}do{y()}while(e<n-r&&_+g<o);for(var m=(o-_)/g,x=Tt(d,f,m),b=Tt(v,p,m),w=e-r,S=_,E=o+s*u(l,i,c);e<n-r&&_+g<E;)y();var C,O=Tt(d,f,m=(E-_)/g),T=Tt(v,p,m);if(h){var P=[x,b,O,T];Li(P,0,4,2,h,P,P),C=P[0]>P[2]}else C=x>O;var R,I=Math.PI,A=[],k=w+r===e;if(g=0,_=S,f=t[e=w],p=t[e+1],k){y();var M=Math.atan2(p-v,f-d);C&&(M+=M>0?-I:I);var L=(O+x)/2,F=(T+b)/2;return A[0]=[L,F,(E-o)/2,M,i],A}for(var D=0,j=i.length;D<j;){y();var N=Math.atan2(p-v,f-d);if(C&&(N+=N>0?-I:I),void 0!==R){var $=N-R;if($+=$>I?-2*I:$<-I?2*I:0,Math.abs($)>a)return null}R=N;for(var z=D,B=0;D<j;++D){var U=s*u(l,i[C?j-D-1:D],c);if(e+r<n&&_+g<o+B+U/2)break;B+=U}if(D!==z){var G=C?i.substring(j-z,j-D):i.substring(z,D);L=Tt(d,f,m=(o+B/2-_)/g),F=Tt(v,p,m);A.push([L,F,B/2,N,G]),o+=B}}return A}function Ws(t,e,n,r){for(var i=t[e],o=t[e+1],a=0,s=e+r;s<n;s+=r){var u=t[s],l=t[s+1];a+=Math.sqrt((u-i)*(u-i)+(l-o)*(l-o)),i=u,o=l}return a}var Vs=[1/0,1/0,-1/0,-1/0],Xs=[],Hs=[],Ks=[],Ys=[];function Zs(t){return t[3].declutterBox}var qs=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function Js(t,e){return"start"!==e&&"end"!==e||qs.test(t)||(e="start"===e?"left":"right"),Ls[e]}const Qs=function(){function t(t,e,n,r,i){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderBuffer_=i,this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,n,r){var i=t+e+n+r;if(this.labels_[i])return this.labels_[i];var o=r?this.strokeStates[r]:null,a=n?this.fillStates[n]:null,s=this.textStates[e],u=this.pixelRatio,l=[s.scale[0]*u,s.scale[1]*u],c=Js(t,s.textAlign||gn),h=r&&o.lineWidth?o.lineWidth:0,f=t.split("\n"),p=f.length,d=[],v=function(t,e,n){for(var r=e.length,i=0,o=0;o<r;++o){var a=Tn(t,e[o]);i=Math.max(i,a),n.push(a)}return i}(s.font,f,d),g=Cn(s.font),_=v+h,y=[],m=(_+2)*l[0],x=(g*p+h)*l[1],b={width:m<0?Math.floor(m):Math.ceil(m),height:x<0?Math.floor(x):Math.ceil(x),contextInstructions:y};(1==l[0]&&1==l[1]||y.push("scale",l),y.push("font",s.font),r)&&(y.push("strokeStyle",o.strokeStyle),y.push("lineWidth",h),y.push("lineCap",o.lineCap),y.push("lineJoin",o.lineJoin),y.push("miterLimit",o.miterLimit),(rn?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(y.push("setLineDash",[o.lineDash]),y.push("lineDashOffset",o.lineDashOffset)));n&&y.push("fillStyle",a.fillStyle),y.push("textBaseline","middle"),y.push("textAlign","center");var w,S=.5-c,E=c*_+S*h;if(r)for(w=0;w<p;++w)y.push("strokeText",[f[w],E+S*d[w],.5*(h+g)+w*g]);if(n)for(w=0;w<p;++w)y.push("fillText",[f[w],E+S*d[w],.5*(h+g)+w*g]);return this.labels_[i]=b,b},t.prototype.replayTextBackground_=function(t,e,n,r,i,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,v){var g,_=n-(a*=h[0]),y=r-(s*=h[1]),m=i+u>t?t-u:i,x=o+l>e?e-l:o,b=p[3]+m*h[0]+p[1],w=p[0]+x*h[1]+p[2],S=_-p[3],E=y-p[0];return(d||0!==c)&&(Xs[0]=S,Ys[0]=S,Xs[1]=E,Hs[1]=E,Hs[0]=S+b,Ks[0]=Hs[0],Ks[1]=E+w,Ys[1]=Ks[1]),0!==c?(F(g=D([1,0,0,1,0,0],n,r,1,1,c,-n,-r),Xs),F(g,Hs),F(g,Ks),F(g,Ys),tt(Math.min(Xs[0],Hs[0],Ks[0],Ys[0]),Math.min(Xs[1],Hs[1],Ks[1],Ys[1]),Math.max(Xs[0],Hs[0],Ks[0],Ys[0]),Math.max(Xs[1],Hs[1],Ks[1],Ys[1]),Vs)):tt(Math.min(S,S+b),Math.min(E,E+w),Math.max(S,S+b),Math.max(E,E+w),Vs),f&&(_=Math.round(_),y=Math.round(y)),{drawImageX:_,drawImageY:y,drawImageW:m,drawImageH:x,originX:u,originY:l,declutterBox:{minX:Vs[0],minY:Vs[1],maxX:Vs[2],maxY:Vs[3],value:v},canvasTransform:g,scale:h}},t.prototype.replayImageOrLabel_=function(t,e,n,r,i,o,a){var s=!(!o&&!a),u=r.declutterBox,l=t.canvas,c=a?a[2]*r.scale[0]/2:0;return u.minX-c<=l.width/e&&u.maxX+c>=0&&u.minY-c<=l.height/e&&u.maxY+c>=0&&(s&&this.replayTextBackground_(t,Xs,Hs,Ks,Ys,o,a),In(t,r.canvasTransform,i,n,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=F(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,n,r){var i=this.textStates[e],o=this.createLabel(t,e,r,n),a=this.strokeStates[n],s=this.pixelRatio,u=Js(t,i.textAlign||gn),l=Ls[i.textBaseline||_n],c=a&&a.lineWidth?a.lineWidth:0;return{label:o,anchorX:u*(o.width/s-2*i.scale[0])+2*(.5-u)*c,anchorY:l*o.height/s+2*(.5-l)*c}},t.prototype.execute_=function(t,e,n,r,i,o,a,s){var u,l,c;this.pixelCoordinates_&&w(n,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=Mi(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),l=this.renderedTransform_,c=n,l[0]=c[0],l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5]);for(var h,f,p,d,v,g,_,y,m,x,b,S,E,C,O,T,P=0,R=r.length,I=0,A=0,k=0,M=null,L=null,F=this.coordinateCache_,D=this.viewRotation_,j=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,N={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:D},$=this.instructions!=r||this.overlaps?0:200;P<R;){var z=r[P];switch(z[0]){case bs.BEGIN_GEOMETRY:E=z[1],T=z[3],E.getGeometry()?void 0===a||_t(a,T.getExtent())?++P:P=z[2]+1:P=z[2];break;case bs.BEGIN_PATH:A>$&&(this.fill_(t),A=0),k>$&&(t.stroke(),k=0),A||k||(t.beginPath(),d=NaN,v=NaN),++P;break;case bs.CIRCLE:var B=u[I=z[1]],U=u[I+1],G=u[I+2]-B,W=u[I+3]-U,V=Math.sqrt(G*G+W*W);t.moveTo(B+V,U),t.arc(B,U,V,0,2*Math.PI,!0),++P;break;case bs.CLOSE_PATH:t.closePath(),++P;break;case bs.CUSTOM:I=z[1],h=z[2];var X=z[3],H=z[4],K=6==z.length?z[5]:void 0;N.geometry=X,N.feature=E,P in F||(F[P]=[]);var Y=F[P];K?K(u,I,h,2,Y):(Y[0]=u[I],Y[1]=u[I+1],Y.length=2),H(Y,N),++P;break;case bs.DRAW_IMAGE:I=z[1],h=z[2],y=z[3],f=z[4],p=z[5];var Z=z[6],q=z[7],J=z[8],Q=z[9],tt=z[10],et=z[11],nt=z[12],rt=z[13],it=z[14];if(!y&&z.length>=19){m=z[18],x=z[19],b=z[20],S=z[21];var ot=this.drawLabelWithPointPlacement_(m,x,b,S);y=ot.label,z[3]=y;var at=z[22];f=(ot.anchorX-at)*this.pixelRatio,z[4]=f;var st=z[23];p=(ot.anchorY-st)*this.pixelRatio,z[5]=p,Z=y.height,z[6]=Z,rt=y.width,z[13]=rt}var ut=void 0;z.length>24&&(ut=z[24]);var lt=void 0,ct=void 0,ht=void 0;z.length>16?(lt=z[15],ct=z[16],ht=z[17]):(lt=yn,ct=!1,ht=!1),tt&&j?et+=D:tt||j||(et-=D);for(var ft=0;I<h;I+=2)if(!(ut&&ut[ft++]<rt/this.pixelRatio)){var pt=[t,e,y,zt=this.calculateImageOrLabelDimensions_(y.width,y.height,u[I],u[I+1],rt,Z,f,p,J,Q,et,nt,i,lt,ct||ht,E),q,ct?M:null,ht?L:null],dt=void 0,vt=void 0;if(s&&it){if(!it[I]){it[I]=pt;continue}if(dt=it[I],delete it[I],vt=Zs(dt),s.collides(vt))continue}s&&s.collides(zt.declutterBox)||(dt&&(s&&s.insert(vt),this.replayImageOrLabel_.apply(this,dt)),s&&s.insert(zt.declutterBox),this.replayImageOrLabel_.apply(this,pt))}++P;break;case bs.DRAW_CHARS:var gt=z[1],yt=z[2],mt=z[3],xt=z[4];S=z[5];var bt=z[6],wt=z[7],St=z[8];b=z[9];var Et=z[10];m=z[11],x=z[12];var Ct=[z[13],z[13]],Ot=this.textStates[x],Tt=Ot.font,Pt=[Ot.scale[0]*wt,Ot.scale[1]*wt],Rt=void 0;Tt in this.widths_?Rt=this.widths_[Tt]:(Rt={},this.widths_[Tt]=Rt);var It=Ws(u,gt,yt,2),At=Math.abs(Pt[0])*Pn(Tt,m,Rt);if(xt||At<=It){var kt=this.textStates[x].textAlign,Mt=Gs(u,gt,yt,2,m,(It-At)*Ls[kt],bt,Math.abs(Pt[0]),Pn,Tt,Rt,j?0:this.viewRotation_);t:if(Mt){var Lt=[],Ft=void 0,Dt=void 0,jt=void 0,Nt=void 0,$t=void 0;if(b)for(Ft=0,Dt=Mt.length;Ft<Dt;++Ft){jt=($t=Mt[Ft])[4],Nt=this.createLabel(jt,x,"",b),f=$t[2]+(Pt[0]<0?-Et:Et),p=mt*Nt.height+2*(.5-mt)*Et*Pt[1]/Pt[0]-St;var zt=this.calculateImageOrLabelDimensions_(Nt.width,Nt.height,$t[0],$t[1],Nt.width,Nt.height,f,p,0,0,$t[3],Ct,!1,yn,!1,E);if(s&&s.collides(zt.declutterBox))break t;Lt.push([t,e,Nt,zt,1,null,null])}if(S)for(Ft=0,Dt=Mt.length;Ft<Dt;++Ft){jt=($t=Mt[Ft])[4],Nt=this.createLabel(jt,x,S,""),f=$t[2],p=mt*Nt.height-St;zt=this.calculateImageOrLabelDimensions_(Nt.width,Nt.height,$t[0],$t[1],Nt.width,Nt.height,f,p,0,0,$t[3],Ct,!1,yn,!1,E);if(s&&s.collides(zt.declutterBox))break t;Lt.push([t,e,Nt,zt,1,null,null])}s&&s.load(Lt.map(Zs));for(var Bt=0,Ut=Lt.length;Bt<Ut;++Bt)this.replayImageOrLabel_.apply(this,Lt[Bt])}}++P;break;case bs.END_GEOMETRY:if(void 0!==o){var Gt=o(E=z[1],T);if(Gt)return Gt}++P;break;case bs.FILL:$?A++:this.fill_(t),++P;break;case bs.MOVE_TO_LINE_TO:for(I=z[1],h=z[2],C=u[I],_=(O=u[I+1])+.5|0,(g=C+.5|0)===d&&_===v||(t.moveTo(C,O),d=g,v=_),I+=2;I<h;I+=2)g=(C=u[I])+.5|0,_=(O=u[I+1])+.5|0,I!=h-2&&g===d&&_===v||(t.lineTo(C,O),d=g,v=_);++P;break;case bs.SET_FILL_STYLE:M=z,this.alignFill_=z[2],A&&(this.fill_(t),A=0,k&&(t.stroke(),k=0)),t.fillStyle=z[1],++P;break;case bs.SET_STROKE_STYLE:L=z,k&&(t.stroke(),k=0),this.setStrokeStyle_(t,z),++P;break;case bs.STROKE:$?k++:t.stroke(),++P;break;default:++P}}A&&this.fill_(t),k&&t.stroke()},t.prototype.execute=function(t,e,n,r,i,o){this.viewRotation_=r,this.execute_(t,e,n,this.instructions,i,void 0,void 0,o)},t.prototype.executeHitDetection=function(t,e,n,r,i){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,r,i)},t}();var tu=[Bs,js,zs,$s,Us,Ns],eu=function(){function t(t,e,n,r,i,o){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(i)}return t.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(n={},this.executorsByZIndex_[e]=n);var r=t[e],i=[this.renderBuffer_||0,this.renderBuffer_||0];for(var o in r){var a=r[o];n[o]=new Qs(this.resolution_,this.pixelRatio_,this.overlaps_,a,i)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],r=0,i=t.length;r<i;++r)if(t[r]in n)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o){var a=2*(r=Math.round(r))+1,s=D(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=sn(a,a));var l,c=this.hitDetectionContext_;c.canvas.width!==a||c.canvas.height!==a?(c.canvas.width=a,c.canvas.height=a):u||c.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(rt(l=[1/0,1/0,-1/0,-1/0],t),X(l,e*(this.renderBuffer_+r),l));var h,f=function(t){if(void 0!==nu[t])return nu[t];for(var e=2*t+1,n=t*t,r=new Array(n+1),i=0;i<=t;++i)for(var o=0;o<=t;++o){var a=i*i+o*o;if(a>n)break;var s=r[a];s||(s=[],r[a]=s),s.push(4*((t+i)*e+(t+o))+3),i>0&&s.push(4*((t-i)*e+(t+o))+3),o>0&&(s.push(4*((t+i)*e+(t-o))+3),i>0&&s.push(4*((t-i)*e+(t-o))+3))}for(var u=[],l=(i=0,r.length);i<l;++i)r[i]&&u.push.apply(u,r[i]);return nu[t]=u,u}(r);function p(t,e){for(var n=c.getImageData(0,0,a,a).data,s=0,u=f.length;s<u;s++)if(n[f[s]]>0){if(!o||h!==$s&&h!==Us||-1!==o.indexOf(t)){var l=(f[s]-3)/4,p=r-l%a,d=r-(l/a|0),v=i(t,e,p*p+d*d);if(v)return v}c.clearRect(0,0,a,a);break}}var d,v,g,_,m,x=Object.keys(this.executorsByZIndex_).map(Number);for(x.sort(y),d=x.length-1;d>=0;--d){var b=x[d].toString();for(g=this.executorsByZIndex_[b],v=tu.length-1;v>=0;--v)if(void 0!==(_=g[h=tu[v]])&&(m=_.executeHitDetection(c,s,n,p,l)))return m}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],r=e[1],i=e[2],o=e[3],a=[n,r,n,o,i,o,i,r];return Mi(a,0,8,2,t,a),a},t.prototype.isEmpty=function(){return Vt(this.executorsByZIndex_)},t.prototype.execute=function(t,e,n,r,i,o,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(y),this.maxExtent_&&(t.save(),this.clip(t,n));var u,l,c,h,f,p,d=o||tu;for(a&&s.reverse(),u=0,l=s.length;u<l;++u){var v=s[u].toString();for(f=this.executorsByZIndex_[v],c=0,h=d.length;c<h;++c){void 0!==(p=f[d[c]])&&p.execute(t,e,n,r,i,a)}}this.maxExtent_&&t.restore()},t}(),nu={};const ru=eu;var iu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const ou=function(t){function e(e,n,r,i,o,a,s){var u=t.call(this)||this;return u.context_=e,u.pixelRatio_=n,u.extent_=r,u.transform_=i,u.viewRotation_=o,u.squaredTolerance_=a,u.userTransform_=s,u.contextFillState_=null,u.contextStrokeState_=null,u.contextTextState_=null,u.fillState_=null,u.strokeState_=null,u.image_=null,u.imageAnchorX_=0,u.imageAnchorY_=0,u.imageHeight_=0,u.imageOpacity_=0,u.imageOriginX_=0,u.imageOriginY_=0,u.imageRotateWithView_=!1,u.imageRotation_=0,u.imageScale_=[0,0],u.imageWidth_=0,u.text_="",u.textOffsetX_=0,u.textOffsetY_=0,u.textRotateWithView_=!1,u.textRotation_=0,u.textScale_=[0,0],u.textFillState_=null,u.textStrokeState_=null,u.textState_=null,u.pixelCoordinates_=[],u.tmpLocalTransform_=[1,0,0,1,0,0],u}return iu(e,t),e.prototype.drawImages_=function(t,e,n,r){if(this.image_){var i=Mi(t,e,n,2,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var u=this.imageRotation_;this.imageRotateWithView_&&(u+=this.viewRotation_);for(var l=0,c=i.length;l<c;l+=2){var h=i[l]-this.imageAnchorX_,f=i[l+1]-this.imageAnchorY_;if(0!==u||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var p=h+this.imageAnchorX_,d=f+this.imageAnchorY_;D(a,p,d,1,1,u,-p,-d),o.setTransform.apply(o,a),o.translate(p,d),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,f,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var i=Mi(t,e,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=r){var s=i[e]+this.textOffsetX_,u=i[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]){var l=D(this.tmpLocalTransform_,s,u,1,1,a,-s,-u);o.setTransform.apply(o,l),o.translate(s,u),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&o.strokeText(this.text_,s,u),this.textFillState_&&o.fillText(this.text_,s,u)}}},e.prototype.moveToLineTo_=function(t,e,n,r,i){var o=this.context_,a=Mi(t,e,n,r,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;i&&(s-=2);for(var u=2;u<s;u+=2)o.lineTo(a[u],a[u+1]);return i&&o.closePath(),n},e.prototype.drawRings_=function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)e=this.moveToLineTo_(t,e,n[i],r,!0);return e},e.prototype.drawCircle=function(t){if(_t(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var r=t.getFlatCoordinates();if(r){var i=t.getStride();return Mi(r,0,r.length,i,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],r=e[3]-e[1],i=Math.sqrt(n*n+r*r),o=this.context_;o.beginPath(),o.arc(e[0],e[1],i,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case dr:this.drawPoint(t);break;case vr:this.drawLineString(t);break;case _r:this.drawPolygon(t);break;case yr:this.drawMultiPoint(t);break;case mr:this.drawMultiLineString(t);break;case xr:this.drawMultiPolygon(t);break;case br:this.drawGeometryCollection(t);break;case wr:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&_t(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,r=e.length;n<r;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),_t(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(_t(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,r=t.getFlatCoordinates(),i=0,o=t.getEnds(),a=t.getStride();n.beginPath();for(var s=0,u=o.length;s<u;++s)i=this.moveToLineTo_(r,i,o[s],a,!1);n.stroke()}if(""!==this.text_){var l=t.getFlatMidpoints();this.drawText_(l,0,l.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),_t(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),_t(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),r=0,i=t.getEndss(),o=t.getStride();e.beginPath();for(var a=0,s=i.length;a<s;++a){var u=i[a];r=this.drawRings_(n,r,u,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var l=t.getFlatInteriorPoints();this.drawText_(l,0,l.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(w(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,r=t.textAlign?t.textAlign:gn;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=r&&(n.textAlign=r,e.textAlign=r),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:es(n||hn)}}else this.fillState_=null;if(e){var r=e.getColor(),i=e.getLineCap(),o=e.getLineDash(),a=e.getLineDashOffset(),s=e.getLineJoin(),u=e.getWidth(),l=e.getMiterLimit();this.strokeState_={lineCap:void 0!==i?i:fn,lineDash:o||pn,lineDashOffset:a||0,lineJoin:void 0!==s?s:dn,lineWidth:this.pixelRatio_*(void 0!==u?u:1),miterLimit:void 0!==l?l:10,strokeStyle:es(r||vn)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getSize();if(e){var n=t.getAnchor(),r=t.getImage(1),i=t.getOrigin(),o=t.getScaleArray();this.imageAnchorX_=n[0],this.imageAnchorY_=n[1],this.imageHeight_=e[1],this.image_=r,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=[this.pixelRatio_*o[0],this.pixelRatio_*o[1]],this.imageWidth_=e[0]}else this.image_=null}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:es(n||hn)}}else this.textFillState_=null;var r=t.getStroke();if(r){var i=r.getColor(),o=r.getLineCap(),a=r.getLineDash(),s=r.getLineDashOffset(),u=r.getLineJoin(),l=r.getWidth(),c=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:fn,lineDash:a||pn,lineDashOffset:s||0,lineJoin:void 0!==u?u:dn,lineWidth:void 0!==l?l:1,miterLimit:void 0!==c?c:10,strokeStyle:es(i||vn)}}else this.textStrokeState_=null;var h=t.getFont(),f=t.getOffsetX(),p=t.getOffsetY(),d=t.getRotateWithView(),v=t.getRotation(),g=t.getScaleArray(),_=t.getText(),y=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:void 0!==h?h:cn,textAlign:void 0!==y?y:gn,textBaseline:void 0!==m?m:_n},this.text_=void 0!==_?_:"",this.textOffsetX_=void 0!==f?this.pixelRatio_*f:0,this.textOffsetY_=void 0!==p?this.pixelRatio_*p:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==v?v:0,this.textScale_=[this.pixelRatio_*g[0],this.pixelRatio_*g[1]]}else this.text_=""},e}(ws),au="fraction",su="pixels",uu="bottom-left",lu="bottom-right",cu="top-left",hu="top-right";var fu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const pu=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.extent=e,o.pixelRatio_=r,o.resolution=n,o.state=i,o}return fu(e,t),e.prototype.changed=function(){this.dispatchEvent(Kt)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return O()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){O()},e}(Ht);var du=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function vu(t,e,n){var r=t;if(r.src&&on){var i=r.decode(),o=!0;return i.then((function(){o&&e()})).catch((function(t){o&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():n())})),function(){o=!1}}var a=[ae(r,ee,e),ae(r,Yt,n)];return function(){a.forEach(se)}}const gu=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,r,$a)||this;return s.src_=i,s.image_=new Image,null!==o&&(s.image_.crossOrigin=o),s.unlisten_=null,s.state=$a,s.imageLoadFunction_=a,s}return du(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=Ua,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=ft(this.extent)/this.image_.height),this.state=Ba,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=$a&&this.state!=Ua||(this.state=za,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=vu(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(pu);var _u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yu=null,mu=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==i&&(s.image_.crossOrigin=i),s.canvas_={},s.color_=a,s.unlisten_=null,s.imageState_=o,s.size_=r,s.src_=n,s.tainted_,s}return _u(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===Ba){yu||(yu=sn(1,1)),yu.drawImage(this.image_,0,0);try{yu.getImageData(0,0,1,1),this.tainted_=!1}catch(t){yu=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(Kt)},e.prototype.handleImageError_=function(){this.imageState_=Ua,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=Ba,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],n=sn(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==$a){this.imageState_=za;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=vu(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var n=e.getContext("2d");if(n.scale(t,t),n.drawImage(this.image_,0,0),n.globalCompositeOperation="multiply","multiply"===n.globalCompositeOperation||this.isTainted_())n.fillStyle=It(this.color_),n.fillRect(0,0,e.width,e.height),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,o=this.color_[0]/255,a=this.color_[1]/255,s=this.color_[2]/255,u=this.color_[3],l=0,c=i.length;l<c;l+=4)i[l]*=o,i[l+1]*=a,i[l+2]*=s,i[l+3]*=u;n.putImageData(r,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(Ht);var xu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const bu=function(t){function e(e){var n=this,r=e||{},i=void 0!==r.opacity?r.opacity:1,o=void 0!==r.rotation?r.rotation:0,a=void 0!==r.scale?r.scale:1,s=void 0!==r.rotateWithView&&r.rotateWithView;(n=t.call(this,{opacity:i,rotation:o,scale:a,displacement:void 0!==r.displacement?r.displacement:[0,0],rotateWithView:s})||this).anchor_=void 0!==r.anchor?r.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==r.anchorOrigin?r.anchorOrigin:cu,n.anchorXUnits_=void 0!==r.anchorXUnits?r.anchorXUnits:au,n.anchorYUnits_=void 0!==r.anchorYUnits?r.anchorYUnits:au,n.crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null;var u=void 0!==r.img?r.img:null,l=void 0!==r.imgSize?r.imgSize:null,c=r.src;M(!(void 0!==c&&u),4),M(!u||u&&l,5),void 0!==c&&0!==c.length||!u||(c=u.src||P(u)),M(void 0!==c&&c.length>0,6);var h=void 0!==r.src?$a:Ba;return n.color_=void 0!==r.color?Mt(r.color):null,n.iconImage_=function(t,e,n,r,i,o){var a=Nt.get(e,r,o);return a||(a=new mu(t,e,n,r,i,o),Nt.set(e,r,o,a)),a}(u,c,l,n.crossOrigin_,h,n.color_),n.offset_=void 0!==r.offset?r.offset:[0,0],n.offsetOrigin_=void 0!==r.offsetOrigin?r.offsetOrigin:cu,n.origin_=null,n.size_=void 0!==r.size?r.size:null,n}return xu(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==au||this.anchorYUnits_==au){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==au&&(t[0]*=e[0]),this.anchorYUnits_==au&&(t[1]*=e[1])}if(this.anchorOrigin_!=cu){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=hu&&this.anchorOrigin_!=lu||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=uu&&this.anchorOrigin_!=lu||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_,e=this.getDisplacement();if(this.offsetOrigin_!=cu){var n=this.getSize(),r=this.iconImage_.getSize();if(!n||!r)return null;t=t.slice(),this.offsetOrigin_!=hu&&this.offsetOrigin_!=lu||(t[0]=r[0]-n[0]-t[0]),this.offsetOrigin_!=uu&&this.offsetOrigin_!=lu||(t[1]=r[1]-n[1]-t[1])}return t[0]+=e[0],t[1]+=e[1],this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(Kt,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(Kt,t)},e}(ts);var wu={Point:function(t,e,n,r,i){var o,a=n.getImage(),s=n.getText();i&&(t=i,o=a&&s&&s.getText()?{}:void 0);if(a){if(a.getImageState()!=Ba)return;var u=t.getBuilder(n.getZIndex(),$s);u.setImageStyle(a,o),u.drawPoint(e,r)}if(s&&s.getText()){var l=t.getBuilder(n.getZIndex(),Us);l.setTextStyle(s,o),l.drawText(e,r)}},LineString:function(t,e,n,r,i){var o=n.getStroke();if(o){var a=t.getBuilder(n.getZIndex(),zs);a.setFillStrokeStyle(null,o),a.drawLineString(e,r)}var s=n.getText();if(s&&s.getText()){var u=(i||t).getBuilder(n.getZIndex(),Us);u.setTextStyle(s),u.drawText(e,r)}},Polygon:function(t,e,n,r,i){var o=n.getFill(),a=n.getStroke();if(o||a){var s=t.getBuilder(n.getZIndex(),Bs);s.setFillStrokeStyle(o,a),s.drawPolygon(e,r)}var u=n.getText();if(u&&u.getText()){var l=(i||t).getBuilder(n.getZIndex(),Us);l.setTextStyle(u),l.drawText(e,r)}},MultiPoint:function(t,e,n,r,i){var o,a=n.getImage(),s=n.getText();i&&(t=i,o=a&&s&&s.getText()?{}:void 0);if(a){if(a.getImageState()!=Ba)return;var u=t.getBuilder(n.getZIndex(),$s);u.setImageStyle(a,o),u.drawMultiPoint(e,r)}if(s&&s.getText()){var l=(i||t).getBuilder(n.getZIndex(),Us);l.setTextStyle(s,o),l.drawText(e,r)}},MultiLineString:function(t,e,n,r,i){var o=n.getStroke();if(o){var a=t.getBuilder(n.getZIndex(),zs);a.setFillStrokeStyle(null,o),a.drawMultiLineString(e,r)}var s=n.getText();if(s&&s.getText()){var u=(i||t).getBuilder(n.getZIndex(),Us);u.setTextStyle(s),u.drawText(e,r)}},MultiPolygon:function(t,e,n,r,i){var o=n.getFill(),a=n.getStroke();if(a||o){var s=t.getBuilder(n.getZIndex(),Bs);s.setFillStrokeStyle(o,a),s.drawMultiPolygon(e,r)}var u=n.getText();if(u&&u.getText()){var l=(i||t).getBuilder(n.getZIndex(),Us);l.setTextStyle(u),l.drawText(e,r)}},GeometryCollection:function(t,e,n,r,i){var o,a,s=e.getGeometriesArray();for(o=0,a=s.length;o<a;++o){(0,wu[s[o].getType()])(t,s[o],n,r,i)}},Circle:function(t,e,n,r,i){var o=n.getFill(),a=n.getStroke();if(o||a){var s=t.getBuilder(n.getZIndex(),js);s.setFillStrokeStyle(o,a),s.drawCircle(e,r)}var u=n.getText();if(u&&u.getText()){var l=(i||t).getBuilder(n.getZIndex(),Us);l.setTextStyle(u),l.drawText(e,r)}}};function Su(t,e){return parseInt(P(t),10)-parseInt(P(e),10)}function Eu(t,e){return.5*t/e}function Cu(t,e,n,r,i,o,a){var s=!1,u=n.getImage();if(u){var l=u.getImageState();l==Ba||l==Ua?u.unlistenImageChange(i):(l==$a&&u.load(),l=u.getImageState(),u.listenImageChange(i),s=!0)}return function(t,e,n,r,i,o){var a=n.getGeometryFunction()(e);if(!a)return;var s=a.simplifyTransformed(r,i);if(n.getRenderer())Ou(t,s,n,e);else{(0,wu[s.getType()])(t,s,n,e,o)}}(t,e,n,r,o,a),s}function Ou(t,e,n,r){if(e.getType()!=br)t.getBuilder(n.getZIndex(),Ns).drawCustom(e,r,n.getRenderer());else for(var i=e.getGeometries(),o=0,a=i.length;o<a;++o)Ou(t,i[o],n,r)}var Tu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Pu=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.animatingOrInteracting_,n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=[1/0,1/0,-1/0,-1/0],n.renderedRotation_,n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n}return Tu(e,t),e.prototype.useContainer=function(e,n,r){r<1&&(e=null),t.prototype.useContainer.call(this,e,n,r)},e.prototype.renderWorlds=function(t,e,n){var r=e.extent,i=e.viewState,o=i.center,a=i.resolution,s=i.projection,u=i.rotation,l=s.getExtent(),c=this.getLayer().getSource(),h=e.pixelRatio,f=e.viewHints,p=!(f[Or]||f[Tr]),d=this.context,v=Math.round(e.size[0]*h),g=Math.round(e.size[1]*h),_=c.getWrapX()&&s.canWrapX(),y=_?gt(l):null,m=_?Math.ceil((r[2]-l[2])/y)+1:1,x=_?Math.floor((r[0]-l[0])/y):0;do{var b=this.getRenderTransform(o,a,u,h,v,g,x*y);t.execute(d,1,b,u,p,void 0,n)}while(++x<m)},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},e.prototype.renderFrame=function(t,e){var n=t.pixelRatio,r=t.layerStatesArray[t.layerIndex];!function(t,e,n){L(t,e,0,0,n,0,0)}(this.pixelTransform,1/n,1/n),j(this.inversePixelTransform,this.pixelTransform);var i=N(this.pixelTransform);this.useContainer(e,i,r.opacity);var o=this.context,a=o.canvas,s=this.replayGroup_,u=this.declutterExecutorGroup;if((!s||s.isEmpty())&&(!u||u.isEmpty()))return!this.containerReused&&a.width>0&&(a.width=0),this.container;var l=Math.round(t.size[0]*n),c=Math.round(t.size[1]*n);a.width!=l||a.height!=c?(a.width=l,a.height=c,a.style.transform!==i&&(a.style.transform=i)):this.containerReused||o.clearRect(0,0,l,c),this.preRender(o,t);var h=t.viewState,f=h.projection,p=!1;if(r.extent&&this.clipping){var d=yi(r.extent,f);(p=!Z(d,t.extent)&&_t(d,t.extent))&&this.clipUnrotated(o,t,d)}this.renderWorlds(s,t),p&&o.restore(),this.postRender(o,t);var v=r.opacity,g=this.container;return v!==parseFloat(g.style.opacity)&&(g.style.opacity=1===v?"":String(v)),this.renderedRotation_!==h.rotation&&(this.renderedRotation_=h.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];F(this.pixelTransform,n);var r=this.renderedCenter_,i=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,s=this.renderedExtent_,u=this.getLayer(),l=[],c=n[0]/2,h=n[1]/2;l.push(this.getRenderTransform(r,i,o,.5,c,h,0).slice());var f=u.getSource(),p=a.getExtent();if(f.getWrapX()&&a.canWrapX()&&!Z(p,s)){for(var d=s[0],v=gt(p),g=0,_=void 0;d<p[0];)_=v*--g,l.push(this.getRenderTransform(r,i,o,.5,c,h,_).slice()),d+=v;for(g=0,d=s[2];d>p[2];)_=v*++g,l.push(this.getRenderTransform(r,i,o,.5,c,h,_).slice()),d-=v}this.hitDetectionImageData_=function(t,e,n,r,i,o,a){var s=sn(t[0]/2,t[1]/2);s.imageSmoothingEnabled=!1;for(var u=s.canvas,l=new ou(s,.5,i,null,a),c=n.length,h=Math.floor(16777215/c),f={},p=1;p<=c;++p){var d=n[p-1],v=d.getStyleFunction()||r;if(r){var g=v(d,o);if(g){Array.isArray(g)||(g=[g]);for(var _="#"+("000000"+(p*h).toString(16)).slice(-6),m=0,x=g.length;m<x;++m){var b=g[m],w=b.clone(),S=w.getFill();S&&S.setColor(_);var E=w.getStroke();E&&E.setColor(_),w.setText(void 0);var C=b.getImage();if(C){var O=C.getImageSize();if(!O)continue;var T=document.createElement("canvas");T.width=O[0],T.height=O[1];var P=T.getContext("2d",{alpha:!1});P.fillStyle=_;var R=P.canvas;P.fillRect(0,0,R.width,R.height),sn(O?O[0]:R.width,O?O[1]:R.height).drawImage(R,0,0),w.setImage(new bu({img:R,imgSize:O,anchor:C.getAnchor(),anchorXUnits:su,anchorYUnits:su,offset:C.getOrigin(),size:C.getSize(),opacity:C.getOpacity(),scale:C.getScale(),rotation:C.getRotation(),rotateWithView:C.getRotateWithView()}))}var I=Number(w.getZIndex());(L=f[I])||(L={},f[I]=L,L[_r]=[],L[wr]=[],L[vr]=[],L[dr]=[]);var A=w.getGeometryFunction()(d);A&&_t(i,A.getExtent())&&L[A.getType().replace("Multi","")].push(A,w)}}}}for(var k=Object.keys(f).map(Number).sort(y),M=(p=0,k.length);p<M;++p){var L=f[k[p]];for(var F in L){var D=L[F];for(m=0,x=D.length;m<x;m+=2){l.setStyle(D[m+1]);for(var j=0,N=e.length;j<N;++j)l.setTransform(e[j]),l.drawGeometry(D[m])}}}return s.getImageData(0,0,u.width,u.height)}(n,l,this.renderedFeatures_,u.getStyleFunction(),s,i,o)}e(function(t,e,n){var r=[];if(n){var i=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*n.width),o=n.data[i],a=n.data[i+1],s=n.data[i+2]+256*(a+256*o),u=Math.floor(16777215/e.length);s&&s%u==0&&r.push(e[s/u-1])}return r}(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){var o=this;if(this.replayGroup_){var a,s=e.viewState.resolution,u=e.viewState.rotation,l=this.getLayer(),c={},h=function(t,e,n){var o=P(t),a=c[o];if(a){if(!0!==a&&n<a.distanceSq){if(0===n)return c[o]=!0,i.splice(i.lastIndexOf(a),1),r(t,l,e);a.geometry=e,a.distanceSq=n}}else{if(0===n)return c[o]=!0,r(t,l,e);i.push(c[o]={feature:t,layer:l,geometry:e,distanceSq:n,callback:r})}},f=[this.replayGroup_];return this.declutterExecutorGroup&&f.push(this.declutterExecutorGroup),f.some((function(r){return a=r.forEachFeatureAtCoordinate(t,s,u,n,h,r===o.declutterExecutorGroup?e.declutterTree.all().map((function(t){return t.value})):null)})),a}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource();if(!n)return!1;var r=t.viewHints[Or],i=t.viewHints[Tr],o=e.getUpdateWhileAnimating(),a=e.getUpdateWhileInteracting();if(!this.dirty_&&!o&&r||!a&&i)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var s=t.extent,u=t.viewState,l=u.projection,c=u.resolution,h=t.pixelRatio,f=e.getRevision(),p=e.getRenderBuffer(),d=e.getRenderOrder();void 0===d&&(d=Su);var v=u.center.slice(),g=X(s,p*c),_=[g.slice()],y=l.getExtent();if(n.getWrapX()&&l.canWrapX()&&!Z(y,t.extent)){var m=gt(y),x=Math.max(gt(g)/2,m);g[0]=y[0]-x,g[2]=y[2]+x,$e(v,l);var b=function(t,e){var n=e.getExtent(),r=ct(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){var i=gt(n),o=Math.floor((r[0]-n[0])/i)*i;t[0]-=o,t[2]-=o}return t}(_[0],l);b[0]<y[0]&&b[2]<y[2]?_.push([b[0]+m,b[1],b[2]+m,b[3]]):b[0]>y[0]&&b[2]>y[2]&&_.push([b[0]-m,b[1],b[2]-m,b[3]])}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==f&&this.renderedRenderOrder_==d&&Z(this.renderedExtent_,g))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var w,S=new Ds(Eu(c,h),g,c,h);this.getLayer().getDeclutter()&&(w=new Ds(Eu(c,h),g,c,h));var E,C=di();if(C){for(var O=0,T=_.length;O<T;++O)n.loadFeatures(_i(_[O],l),c,C);E=ai(C,l)}else for(O=0,T=_.length;O<T;++O)n.loadFeatures(_[O],c,l);var P=function(t,e){var n=Eu(t,e);return n*n}(c,h),R=function(t){var n,r=t.getStyleFunction()||e.getStyleFunction();if(r&&(n=r(t,c)),n){var i=this.renderFeature(t,P,n,S,E,w);this.dirty_=this.dirty_||i}}.bind(this),I=_i(g,l),A=n.getFeaturesInExtent(I);d&&A.sort(d);for(O=0,T=A.length;O<T;++O)R(A[O]);this.renderedFeatures_=A;var k=S.finish(),M=new ru(g,c,h,n.getOverlaps(),k,e.getRenderBuffer());return w&&(this.declutterExecutorGroup=new ru(g,c,h,n.getOverlaps(),w.finish(),e.getRenderBuffer())),this.renderedResolution_=c,this.renderedRevision_=f,this.renderedRenderOrder_=d,this.renderedExtent_=g,this.renderedCenter_=v,this.renderedProjection_=l,this.replayGroup_=M,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,r,i,o){if(!n)return!1;var a=!1;if(Array.isArray(n))for(var s=0,u=n.length;s<u;++s)a=Cu(r,t,n[s],e,this.boundHandleStyleImageChange_,i,o)||a;else a=Cu(r,t,n,e,this.boundHandleStyleImageChange_,i,o);return a},e}(Ha);var Ru=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Iu=function(t){function e(e){return t.call(this,e)||this}return Ru(e,t),e.prototype.createRenderer=function(){return new Pu(this)},e}(vs);const Au=function(){function t(t,e,n,r,i,o){this.sourceProj_=t,this.targetProj_=e;var a={},s=si(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return a[e]||(a[e]=s(t)),a[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&gt(r)==gt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?gt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?gt(this.targetProj_.getExtent()):null;var u=dt(n),l=vt(n),c=lt(n),h=ut(n),f=this.transformInv_(u),p=this.transformInv_(l),d=this.transformInv_(c),v=this.transformInv_(h),g=10+(o?Math.max(0,Math.ceil(wt(st(n)/(o*o*256*256)))):0);if(this.addQuad_(u,l,c,h,f,p,d,v,g),this.wrapsXInSource_){var _=1/0;this.triangles_.forEach((function(t,e,n){_=Math.min(_,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-_>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-_>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-_>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-_>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}a={}}return t.prototype.addTriangle_=function(t,e,n,r,i,o){this.triangles_.push({source:[r,i,o],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,r,i,o,a,s,u){var l=V([i,o,a,s]),c=this.sourceWorldWidth_?gt(l)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&c>.5&&c<1,p=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_)p=gt(V([t,e,n,r]))/this.targetWorldWidth_>.25||p;!f&&this.sourceProj_.isGlobal()&&c&&(p=c>.25||p)}if(!(!p&&this.maxSourceExtent_&&isFinite(l[0])&&isFinite(l[1])&&isFinite(l[2])&&isFinite(l[3]))||_t(l,this.maxSourceExtent_)){var d=0;if(!(p||isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])))if(u>0)p=!0;else if(1!=(d=(isFinite(i[0])&&isFinite(i[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(s[0])&&isFinite(s[1])?0:1))&&2!=d&&4!=d&&8!=d)return;if(u>0){if(!p){var v=[(t[0]+n[0])/2,(t[1]+n[1])/2],g=this.transformInv_(v),_=void 0;if(f)_=(Ot(i[0],h)+Ot(a[0],h))/2-Ot(g[0],h);else _=(i[0]+a[0])/2-g[0];var y=(i[1]+a[1])/2-g[1];p=_*_+y*y>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var m=[(e[0]+n[0])/2,(e[1]+n[1])/2],x=this.transformInv_(m),b=[(r[0]+t[0])/2,(r[1]+t[1])/2],w=this.transformInv_(b);this.addQuad_(t,e,m,b,i,o,x,w,u-1),this.addQuad_(b,m,n,r,w,x,a,s,u-1)}else{var S=[(t[0]+e[0])/2,(t[1]+e[1])/2],E=this.transformInv_(S),C=[(n[0]+r[0])/2,(n[1]+r[1])/2],O=this.transformInv_(C);this.addQuad_(t,S,C,r,i,E,O,s,u-1),this.addQuad_(S,e,n,C,E,o,a,O,u-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&d)&&this.addTriangle_(t,n,r,i,a,s),0==(14&d)&&this.addTriangle_(t,n,e,i,a,o),d&&(0==(13&d)&&this.addTriangle_(e,r,t,o,s,i),0==(7&d)&&this.addTriangle_(e,r,n,o,s,a))}},t.prototype.calculateSourceExtent=function(){var t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach((function(e,n,r){var i=e.source;rt(t,i[0]),rt(t,i[1]),rt(t,i[2])})),t},t.prototype.getTriangles=function(){return this.triangles_},t}();var ku,Mu={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1};function Lu(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function Fu(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function Du(t,e,n,r){var i=ui(n,e,t),o=ni(e,r,n),a=e.getMetersPerUnit();void 0!==a&&(o*=a);var s=t.getMetersPerUnit();void 0!==s&&(o/=s);var u=t.getExtent();if(!u||Y(u,i)){var l=ni(t,o,i)/o;isFinite(l)&&l>0&&(o/=l)}return o}function ju(t,e,n,r,i,o,a,s,u,l,c,h){var f=sn(Math.round(n*t),Math.round(n*e));if(Ut(f,h),0===u.length)return f.canvas;function p(t){return Math.round(t*n)/n}f.scale(n,n),f.globalCompositeOperation="lighter";var d=[1/0,1/0,-1/0,-1/0];u.forEach((function(t,e,n){var r,i;r=d,(i=t.extent)[0]<r[0]&&(r[0]=i[0]),i[2]>r[2]&&(r[2]=i[2]),i[1]<r[1]&&(r[1]=i[1]),i[3]>r[3]&&(r[3]=i[3])}));var v=gt(d),g=ft(d),_=sn(Math.round(n*v/r),Math.round(n*g/r));Ut(_,h);var y=n/r;u.forEach((function(t,e,n){var r=t.extent[0]-d[0],i=-(t.extent[3]-d[3]),o=gt(t.extent),a=ft(t.extent);t.image.width>0&&t.image.height>0&&_.drawImage(t.image,l,l,t.image.width-2*l,t.image.height-2*l,r*y,i*y,o*y,a*y)}));var m=dt(a);return s.getTriangles().forEach((function(t,e,i){var a=t.source,s=t.target,u=a[0][0],l=a[0][1],c=a[1][0],v=a[1][1],g=a[2][0],y=a[2][1],x=p((s[0][0]-m[0])/o),b=p(-(s[0][1]-m[1])/o),w=p((s[1][0]-m[0])/o),S=p(-(s[1][1]-m[1])/o),E=p((s[2][0]-m[0])/o),C=p(-(s[2][1]-m[1])/o),O=u,T=l;u=0,l=0;var P=function(t){for(var e=t.length,n=0;n<e;n++){for(var r=n,i=Math.abs(t[n][n]),o=n+1;o<e;o++){var a=Math.abs(t[o][n]);a>i&&(i=a,r=o)}if(0===i)return null;var s=t[r];t[r]=t[n],t[n]=s;for(var u=n+1;u<e;u++)for(var l=-t[u][n]/t[n][n],c=n;c<e+1;c++)n==c?t[u][c]=0:t[u][c]+=l*t[n][c]}for(var h=new Array(e),f=e-1;f>=0;f--){h[f]=t[f][e]/t[f][f];for(var p=f-1;p>=0;p--)t[p][e]-=t[p][f]*h[f]}return h}([[c-=O,v-=T,0,0,w-x],[g-=O,y-=T,0,0,E-x],[0,0,c,v,S-b],[0,0,g,y,C-b]]);if(P){if(f.save(),f.beginPath(),function(){if(void 0===ku){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",Lu(t,4,5,4,0),Lu(t,4,5,0,5);var e=t.getImageData(0,0,3,3).data;ku=Fu(e,0)||Fu(e,4)||Fu(e,8)}return ku}()||h===Mu){f.moveTo(w,S);for(var R=x-w,I=b-S,A=0;A<4;A++)f.lineTo(w+p((A+1)*R/4),S+p(A*I/3)),3!=A&&f.lineTo(w+p((A+1)*R/4),S+p((A+1)*I/3));f.lineTo(E,C)}else f.moveTo(w,S),f.lineTo(x,b),f.lineTo(E,C);f.clip(),f.transform(P[0],P[2],P[1],P[3],x,b),f.translate(d[0]-O,d[3]-T),f.scale(r/n,-r/n),f.drawImage(_.canvas,0,0),f.restore()}})),c&&(f.save(),f.globalCompositeOperation="source-over",f.strokeStyle="black",f.lineWidth=1,s.getTriangles().forEach((function(t,e,n){var r=t.target,i=(r[0][0]-m[0])/o,a=-(r[0][1]-m[1])/o,s=(r[1][0]-m[0])/o,u=-(r[1][1]-m[1])/o,l=(r[2][0]-m[0])/o,c=-(r[2][1]-m[1])/o;f.beginPath(),f.moveTo(s,u),f.lineTo(i,a),f.lineTo(l,c),f.closePath(),f.stroke()})),f.restore()),f.canvas}var Nu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const $u=function(t){function e(e,n,r,i,o,a,s){var u=this,l=e.getExtent(),c=n.getExtent(),h=c?pt(r,c):r,f=Du(e,n,ct(h),i),p=new Au(e,n,h,l,.5*f,i),d=a(p.calculateSourceExtent(),f,o),v=d?$a:Ga,g=d?d.getPixelRatio():1;return(u=t.call(this,r,i,g,v)||this).targetProj_=n,u.maxSourceExtent_=l,u.triangulation_=p,u.targetResolution_=i,u.targetExtent_=r,u.sourceImage_=d,u.sourcePixelRatio_=g,u.contextOptions_=s,u.canvas_=null,u.sourceListenerKey_=null,u}return Nu(e,t),e.prototype.disposeInternal=function(){this.state==za&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==Ba){var e=gt(this.targetExtent_)/this.targetResolution_,n=ft(this.targetExtent_)/this.targetResolution_;this.canvas_=ju(e,n,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.contextOptions_)}this.state=t,this.changed()},e.prototype.load=function(){if(this.state==$a){this.state=za,this.changed();var t=this.sourceImage_.getState();t==Ba||t==Ua?this.reproject_():(this.sourceListenerKey_=oe(this.sourceImage_,Kt,(function(t){var e=this.sourceImage_.getState();e!=Ba&&e!=Ua||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){se(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(pu);var zu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Bu(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const Uu=function(t){function e(e){var n=t.call(this)||this;return n.projection_=ei(e.projection),n.attributions_=Bu(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:Me,n.wrapX_=void 0!==e.wrapX&&e.wrapX,n}return zu(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return O()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getContextOptions=function(){},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=Bu(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(ve);var Gu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wu="imageloadstart",Vu="imageloadend",Xu="imageloaderror",Hu=function(t){function e(e,n){var r=t.call(this,e)||this;return r.image=n,r}return Gu(e,t),e}(zt);function Ku(t,e){t.getImage().src=e}const Yu=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,projection:e.projection,state:e.state})||this;return n.resolutions_=void 0!==e.resolutions?e.resolutions:null,n.reprojectedImage_=null,n.reprojectedRevision_=0,n.contextOptions_=!1===e.imageSmoothing?Mu:void 0,n}return Gu(e,t),e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getContextOptions=function(){return this.contextOptions_},e.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=m(this.resolutions_,t,0);t=this.resolutions_[e]}return t},e.prototype.getImage=function(t,e,n,r){var i=this.getProjection();if(i&&r&&!oi(i,r)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&oi(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==e&&nt(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new $u(i,r,t,e,n,function(t,e,n){return this.getImageInternal(t,e,n,i)}.bind(this),this.contextOptions_),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return i&&(r=i),this.getImageInternal(t,e,n,r)},e.prototype.getImageInternal=function(t,e,n,r){return O()},e.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case za:this.loading=!0,this.dispatchEvent(new Hu(Wu,e));break;case Ba:this.loading=!1,this.dispatchEvent(new Hu(Vu,e));break;case Ua:this.loading=!1,this.dispatchEvent(new Hu(Xu,e))}},e}(Uu);var Zu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const qu=function(t){function e(e){var n=this,r=void 0!==e.crossOrigin?e.crossOrigin:null,i=void 0!==e.imageLoadFunction?e.imageLoadFunction:Ku;return(n=t.call(this,{attributions:e.attributions,imageSmoothing:e.imageSmoothing,projection:ei(e.projection)})||this).url_=e.url,n.imageExtent_=e.imageExtent,n.image_=new gu(n.imageExtent_,void 0,1,n.url_,r,i),n.imageSize_=e.imageSize?e.imageSize:null,n.image_.addEventListener(Kt,n.handleImageChange.bind(n)),n}return Zu(e,t),e.prototype.getImageExtent=function(){return this.imageExtent_},e.prototype.getImageInternal=function(t,e,n,r){return _t(t,this.image_.getExtent())?this.image_:null},e.prototype.getUrl=function(){return this.url_},e.prototype.handleImageChange=function(e){if(this.image_.getState()==Ba){var n=this.image_.getExtent(),r=this.image_.getImage(),i=void 0,o=void 0;this.imageSize_?(i=this.imageSize_[0],o=this.imageSize_[1]):(i=r.width,o=r.height);var a=ft(n)/o,s=Math.ceil(gt(n)/a);if(s!=i){var u=sn(s,o);Ut(u,this.getContextOptions());var l=u.canvas;u.drawImage(r,0,0,i,o,0,0,l.width,l.height),this.image_.setImage(l)}}t.prototype.handleImageChange.call(this,e)},e}(Yu);var Ju=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Qu=function(t){function e(e,n,r,i,o){var a=this,s=void 0!==o?$a:Ba;return(a=t.call(this,e,n,r,s)||this).loader_=void 0!==o?o:null,a.canvas_=i,a.error_=null,a}return Ju(e,t),e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=Ua):this.state=Ba,this.changed()},e.prototype.load=function(){this.state==$a&&(this.state=za,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(pu);function tl(t){return(tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function el(t,e){return(el=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ol(t);if(e){var i=ol(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rl(this,n)}}function rl(t,e){return!e||"object"!==tl(e)&&"function"!=typeof e?il(t):e}function il(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ol(t){return(ol=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var al=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&el(t,e)}(n,t);var e=nl(n);function n(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=e.call(this,t)).image_=new Qu(t.imageExtent,1,1,t.canvas),r.image_.addEventListener(Kt,r.handleImageChange.bind(il(r))),r}return n}(qu),sl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ul=0,ll=1,cl=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{element:document.createElement("div"),render:r.render})||this).dragListenerKeys_=[],n.currentResolution_=void 0,n.direction_=ul,n.dragging_,n.heightLimit_=0,n.widthLimit_=0,n.startX_,n.startY_,n.thumbSize_=null,n.sliderInitialized_=!1,n.duration_=void 0!==r.duration?r.duration:200;var i=void 0!==r.className?r.className:"ol-zoomslider",o=document.createElement("button");o.setAttribute("type","button"),o.className=i+"-thumb "+Xe;var a=n.element;return a.className=i+" "+"ol-unselectable "+He,a.appendChild(o),a.addEventListener(Yn,n.handleDraggerStart_.bind(n),!1),a.addEventListener(Kn,n.handleDraggerDrag_.bind(n),!1),a.addEventListener(Zn,n.handleDraggerEnd_.bind(n),!1),a.addEventListener(qt,n.handleContainerClick_.bind(n),!1),o.addEventListener(qt,$t,!1),n}return sl(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&e.render()},e.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,n=t.offsetHeight;if(0===e&&0===n)return this.sliderInitialized_=!1;var r=t.firstElementChild,i=getComputedStyle(r),o=r.offsetWidth+parseFloat(i.marginRight)+parseFloat(i.marginLeft),a=r.offsetHeight+parseFloat(i.marginTop)+parseFloat(i.marginBottom);return this.thumbSize_=[o,a],e>n?(this.direction_=ll,this.widthLimit_=e-o):(this.direction_=ul,this.heightLimit_=n-a),this.sliderInitialized_=!0},e.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),n=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),r=this.getResolutionForPosition_(n),i=e.getConstrainedZoom(e.getZoomForResolution(r));e.animateInternal({zoom:i,duration:this.duration_,easing:Oi})},e.prototype.handleDraggerStart_=function(t){if(!this.dragging_&&t.target===this.element.firstElementChild){var e=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=t.clientX-parseFloat(e.style.left),this.startY_=t.clientY-parseFloat(e.style.top),this.dragging_=!0,0===this.dragListenerKeys_.length){var n=this.handleDraggerDrag_,r=this.handleDraggerEnd_,i=this.getMap().getOwnerDocument();this.dragListenerKeys_.push(oe(i,Kn,n,this),oe(i,Zn,r,this))}}},e.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=t.clientX-this.startX_,n=t.clientY-this.startY_,r=this.getRelativePosition_(e,n);this.currentResolution_=this.getResolutionForPosition_(r),this.getMap().getView().setResolution(this.currentResolution_)}},e.prototype.handleDraggerEnd_=function(t){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(se),this.dragListenerKeys_.length=0)},e.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),n=this.element.firstElementChild;this.direction_==ll?n.style.left=this.widthLimit_*e+"px":n.style.top=this.heightLimit_*e+"px"},e.prototype.getRelativePosition_=function(t,e){return xt(this.direction_===ll?t/this.widthLimit_:e/this.heightLimit_,0,1)},e.prototype.getResolutionForPosition_=function(t){return this.getMap().getView().getResolutionForValueFunction()(1-t)},e.prototype.getPositionForResolution_=function(t){return xt(1-this.getMap().getView().getValueForResolutionFunction()(t),0,1)},e.prototype.render=function(t){if(t.frameState&&(this.sliderInitialized_||this.initSlider_())){var e=t.frameState.viewState.resolution;this.currentResolution_=e,this.setThumbPosition_(e)}},e}(Ao);function hl(t){return(hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pl(t,e){return(pl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gl(t);if(e){var i=gl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vl(this,n)}}function vl(t,e){return!e||"object"!==hl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gl(t){return(gl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _l=1;function yl(t){t.frameState&&(this.sliderInitialized_||(this.initSlider_(),this.setThumbPosition_()))}var ml=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pl(t,e)}(o,t);var e,n,r,i=dl(o);function o(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var n=t||{};n.render=yl,e=i.call(this,t);var r=void 0===n.opacity?1:n.opacity;return e.setProperties({opacity:r},!0),e.element.title="Adjust heatmap opacity",e}return e=o,(n=[{key:"handleContainerClick_",value:function(t){var e=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2);this.set("opacity",e),this.setThumbPosition_()}},{key:"handleDraggerStart_",value:function(t){if(!this.dragging_&&t.target===this.element.firstElementChild){var e=this.element.firstElementChild;if(this.startX_=t.clientX-parseFloat(e.style.left||0),this.startY_=t.clientY-parseFloat(e.style.top||0),this.dragging_=!0,0===this.dragListenerKeys_.length){var n=this.handleDraggerDrag_,r=this.handleDraggerEnd_;this.dragListenerKeys_.push(oe(document,Kn,n,this),oe(document,Zn,r,this))}}}},{key:"handleDraggerDrag_",value:function(t){if(this.dragging_){var e=t.clientX-this.startX_,n=t.clientY-this.startY_,r=this.getRelativePosition_(e,n);this.set("opacity",r),this.setThumbPosition_()}}},{key:"handleDraggerEnd_",value:function(t){this.dragging_&&(this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(se),this.dragListenerKeys_.length=0)}},{key:"setThumbPosition_",value:function(){var t=this.get("opacity"),e=this.element.firstElementChild;this.direction_==_l?e.style.left=this.widthLimit_*t+"px":e.style.top=this.heightLimit_*t+"px"}}])&&fl(e.prototype,n),r&&fl(e,r),o}(cl);function xl(t){return(xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wl(t,e){return(wl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Sl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ol(t);if(e){var i=Ol(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return El(this,n)}}function El(t,e){return!e||"object"!==xl(e)&&"function"!=typeof e?Cl(t):e}function Cl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ol(t){return(Ol=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Tl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wl(t,e)}(o,t);var e,n,r,i=Sl(o);function o(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var n=t||{};e=i.call(this,{element:document.createElement("div"),target:n.target});var r=void 0!==n.className?n.className:"ol-grayscale-button",a=void 0!==n.label?n.label:"C",s=void 0!==n.tipLabel?n.tipLabel:"Show overlay image in color",u=document.createElement("button");u.setAttribute("type","button"),u.title=s,u.appendChild("string"==typeof a?document.createTextNode(a):a),u.addEventListener(qt,e.handleClick_.bind(Cl(e)),!1);var l=r+" "+"ol-unselectable "+He,c=e.element;return c.className=l,c.appendChild(u),e.active=!1,e}return e=o,(n=[{key:"handleClick_",value:function(t){t.preventDefault(),this.active?(this.dispatchEvent("showgrayscale"),this.active=!1,this.element.classList.remove("active")):(this.dispatchEvent("showcolor"),this.active=!0,this.element.classList.add("active"))}}])&&bl(e.prototype,n),r&&bl(e,r),o}(Ao);const Pl=function(){function t(t){this.rbush_=new(Qa())(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[P(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),r=0,i=e.length;r<i;r++){var o=t[r],a=e[r],s={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};n[r]=s,this.items_[P(a)]=s}this.rbush_.load(n)},t.prototype.remove=function(t){var e=P(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[P(e)];nt([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,r=0,i=t.length;r<i;r++)if(n=e(t[r]))return n;return n},t.prototype.isEmpty=function(){return Vt(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return tt(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}(),Rl="addfeature",Il="changefeature",Al="clear",kl="removefeature",Ml="featuresloadstart",Ll="featuresloadend",Fl="featuresloaderror";function Dl(t,e){return[[-1/0,-1/0,1/0,1/0]]}const jl="arraybuffer",Nl="json",$l="text",zl="xml";var Bl=!1;function Ul(t,e){return function(n,r,i,o,a){var s=this;!function(t,e,n,r,i,o,a){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(n,r,i):t,!0),e.getType()==jl&&(s.responseType="arraybuffer"),s.withCredentials=Bl,s.onload=function(t){if(!s.status||s.status>=200&&s.status<300){var r=e.getType(),u=void 0;r==Nl||r==$l?u=s.responseText:r==zl?(u=s.responseXML)||(u=(new DOMParser).parseFromString(s.responseText,"application/xml")):r==jl&&(u=s.response),u?o(e.readFeatures(u,{extent:n,featureProjection:i}),e.readProjection(u)):a()}else a()},s.onerror=a,s.send()}(t,e,n,r,i,(function(t,e){void 0!==o&&o(t),s.addFeatures(t)}),a||C)}}var Gl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wl=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.feature=n,i.features=r,i}return Gl(e,t),e}(zt);const Vl=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{attributions:r.attributions,projection:void 0,state:Me,wrapX:void 0===r.wrapX||r.wrapX})||this).loader_=C,n.format_=r.format,n.overlaps_=void 0===r.overlaps||r.overlaps,n.url_=r.url,void 0!==r.loader?n.loader_=r.loader:void 0!==n.url_&&(M(n.format_,7),n.loader_=Ul(n.url_,n.format_)),n.strategy_=void 0!==r.strategy?r.strategy:Dl;var i,o,a=void 0===r.useSpatialIndex||r.useSpatialIndex;return n.featuresRtree_=a?new Pl:null,n.loadedExtentsRtree_=new Pl,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(r.features)?o=r.features:r.features&&(o=(i=r.features).getArray()),a||void 0!==i||(i=new $n(o)),void 0!==o&&n.addFeaturesInternal(o),void 0!==i&&n.bindFeaturesCollection_(i),n}return Gl(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=P(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new Wl(Rl,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[oe(e,Kt,this.handleFeatureChange_,this),oe(e,Bt,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,r=e.getId();return void 0!==r&&(r.toString()in this.idIndex_?n=!1:this.idIndex_[r.toString()]=e),n&&(M(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],r=[],i=0,o=t.length;i<o;i++){var a=P(u=t[i]);this.addToIndex_(a,u)&&n.push(u)}i=0;for(var s=n.length;i<s;i++){var u;a=P(u=n[i]);this.setupChangeEvents_(a,u);var l=u.getGeometry();if(l){var c=l.getExtent();e.push(c),r.push(u)}else this.nullGeometryFeatures_[a]=u}this.featuresRtree_&&this.featuresRtree_.load(e,r);i=0;for(var h=n.length;i<h;i++)this.dispatchEvent(new Wl(Rl,n[i]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(Rl,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),this.addEventListener(kl,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),t.addEventListener(Ln,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(Fn,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(se)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var r=new Wl(Al);this.dispatchEvent(r),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0}))},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(n){if(n.getGeometry().intersectsExtent(t)){var r=e(n);if(r)return r}}))},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Vt(this.nullGeometryFeatures_)||b(t,Wt(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray():[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],r=t[1],i=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],u=e||S;return this.featuresRtree_.forEachInExtent(s,(function(t){if(u(t)){var e=t.getGeometry(),l=a;if((a=e.closestPointXY(n,r,o,a))<l){i=t;var c=Math.sqrt(a);s[0]=n-c,s[1]=r-c,s[2]=n+c,s[3]=r+c}}})),i},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=P(e),r=e.getGeometry();if(r){var i=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(i,e)):this.featuresRtree_&&this.featuresRtree_.update(i,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var o=e.getId();if(void 0!==o){var a=o.toString();this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new Wl(Il,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:P(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Vt(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var r=this.loadedExtentsRtree_,i=this.strategy_(t,e);this.loading=!1;for(var o=function(t,o){var s=i[t];r.forEachInExtent(s,(function(t){return Z(t.extent,s)}))||(a.dispatchEvent(new Wl(Ml)),a.loader_.call(a,s,e,n,function(t){this.dispatchEvent(new Wl(Ll,void 0,t))}.bind(a),function(){this.dispatchEvent(new Wl(Fl))}.bind(a)),r.insert(s,{extent:s.slice()}),a.loading=a.loader_!==C)},a=this,s=0,u=i.length;s<u;++s)o(s)},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,(function(n){if(nt(n.extent,t))return e=n,!0})),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=P(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=P(t);this.featureChangeKeys_[e].forEach(se),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new Wl(kl,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){M(this.format_,7),this.setLoader(Ul(t,this.format_))},e}(Uu);var Xl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Hl=function(t){function e(e){var n=t.call(this)||this;if(n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addEventListener(de(n.geometryName_),n.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){var r=e;n.setGeometry(r)}else{var i=e;n.setProperties(i)}return n}return Xl(e,t),e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var r=this.getStyle();return r&&t.setStyle(r),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(se(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=oe(t,Kt,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){if("function"==typeof t)return t;var e;Array.isArray(t)?e=t:(M("function"==typeof t.getZIndex,41),e=[t]);return function(){return e}}(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeEventListener(de(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=t,this.addEventListener(de(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(ve);function Kl(t){return(Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zl(t,e){return(Zl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ql(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ql(t);if(e){var i=Ql(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Jl(this,n)}}function Jl(t,e){return!e||"object"!==Kl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ql(t){return(Ql=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zl(t,e)}(o,t);var e,n,r,i=ql(o);function o(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(r=i.call(this,t,e)).width=n.width,r.height=n.height,r.framebuffer=null,r.outputTexture=null,r.intensities=new Float32Array(r.width*r.height*4),r.intensityStats={min:0,max:0},r}return e=o,(n=[{key:"initialize",value:function(t,e){this.getPointer(),e.useVertexPositions(this),e.useTexturePositions(this),e.useTextures(this),this.framebuffer=e.getFramebuffer("intensity"),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer),this.outputTexture=e.getTexture("intensity"),t.bindTexture(t.TEXTURE_2D,this.outputTexture),t.texImage2D(t.TEXTURE_2D,0,t.R32F,this.width,this.height,0,t.RED,t.FLOAT,null),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.outputTexture,0),t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null)}},{key:"beforeRender",value:function(t,e){e.bindTextures(),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)}},{key:"afterRender",value:function(t,e){t.readPixels(0,0,this.width,this.height,t.RGBA,t.FLOAT,this.intensities),this.intensityStats.max=0,this.intensityStats.min=1;for(var n=0;n<this.intensities.length;n+=4)this.intensityStats.max=Math.max(this.intensities[n],this.intensityStats.max),this.intensityStats.min=Math.min(this.intensities[n],this.intensityStats.min)}},{key:"getOutputTexture",value:function(){return this.outputTexture}},{key:"getIntensityStats",value:function(){return this.intensityStats}}])&&Yl(e.prototype,n),r&&Yl(e,r),o}(i);const ec="#version 300 es\n\nprecision mediump float;\n\nin vec2 a_vertex_position;\nin vec2 a_texture_position;\n\nout vec2 v_texture_position;\n\nvoid main() {\n    gl_Position = vec4(a_vertex_position, 0, 1);\n    v_texture_position = a_texture_position;\n}\n";function nc(t){return(nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ic(t,e,n){return(ic="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=uc(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function oc(t,e){return(oc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ac(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=uc(t);if(e){var i=uc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return sc(this,n)}}function sc(t,e){return!e||"object"!==nc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uc(t){return(uc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var lc=Math.PI/2,cc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oc(t,e)}(o,t);var e,n,r,i=ac(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,ec,"#version 300 es\n\nprecision mediump float;\nprecision mediump int;\nprecision mediump usampler2D;\n\nin vec2 v_texture_position;\n\nuniform vec2 u_mouse_position;\nuniform float u_normalization;\n\nout vec4 outColor;\n\nconst vec4 ONES = vec4(1);\nconst vec4 ZEROS = vec4(0);\n\n<%=SAMPLER_DEFINITION=%>\n<%=CONVERT_UVEC=%>\n\nvoid main() {\n    // angle between the two vectors\n    // <A,B> = ||A|| * ||B|| * cos(angle)\n    // => angle = acos(<A,B>/(||A||*||B||))\n    float angle = 0.0;\n\n    // cummulating the squared length of this pixels vector\n    float currentLength = 0.0;\n    // cummulating the squared length of the reference pixels vector\n    float referenceLength = 0.0;\n\n    // temporary texture values of current position\n    vec4 current;\n    // temporary texture values of reference position\n    vec4 reference;\n\n    // the index of the current tile\n    float tile;\n\n    // the row-major index of the current tile on it's texture\n    float index_on_referencer;\n    // the column in which the current tile lies on the texture\n    float column;\n    // the row in which the current tile lies on the texture\n    float row;\n    // the index of the texture, the current tile is on\n    float sampler_index;\n\n    // the 2d coordinates of the current position on the correct texture\n    vec2 coords_2d_current;\n    // the 2d coordinates of the reference position on the correct texture\n    vec2 coords_2d_reference;\n\n    for (int i = 0; i < <%=TILES=%>; i++) {\n        tile = float(i);\n\n        index_on_referencer = mod(tile, <%=TILES_PER_TEXTURE=%>);\n        column = mod(index_on_referencer, <%=TILE_COLUMNS=%>);\n        row = floor(index_on_referencer / <%=TILE_COLUMNS=%>);\n\n        coords_2d_reference = vec2(\n            <%=TILE_WIDTH=%> * (column + u_mouse_position.x),\n            <%=TILE_HEIGHT=%> * (row + u_mouse_position.y)\n        );\n\n        coords_2d_current = vec2(\n            <%=TILE_WIDTH=%> * (column + v_texture_position.x),\n            // y-flip the texture position because the textures are stored y-flipped.\n            <%=TILE_HEIGHT=%> * (row + 1.0 - v_texture_position.y)\n        );\n\n        // needed for DYNAMIC_SAMPLER_QUERIES\n        sampler_index = floor(tile / <%=TILES_PER_TEXTURE=%>);\n\n        // get rgba of the pixel to compare\n        // get rgba of the position of this pixel\n        <%=DYNAMIC_SAMPLER_QUERIES\n            reference = convertUvec(texture(<%=SAMPLER=%>, coords_2d_reference));\n            current = convertUvec(texture(<%=SAMPLER=%>, coords_2d_current));\n        =%>\n\n        currentLength += dot(current, current);\n        referenceLength += dot(reference, reference);\n        angle += dot(current, reference);\n    }\n\n    // if the intensities of this fragment are all 0, don't draw it\n    if (currentLength == 0.0) {\n        outColor = ZEROS;\n        return;\n    }\n\n    angle *= inversesqrt(currentLength * referenceLength);\n\n    // Normalize and clip angle to [0, 1].\n    angle = acos(angle) * u_normalization;\n    angle = min(1.0, max(0.0, angle));\n\n    // Invert angle because a lower angle should signify a higher similarity.\n    angle = 1.0 - angle;\n\n    outColor = vec4(angle);\n}\n",t)).mousePosition=[.5,.5],e.mousePositionPointer=null,e}return e=o,(n=[{key:"initialize",value:function(t,e){ic(uc(o.prototype),"initialize",this).call(this,t,e);var n=this.getPointer(),r=t.getUniformLocation(n,"u_normalization");t.uniform1f(r,1/lc),this.mousePositionPointer=t.getUniformLocation(n,"u_mouse_position")}},{key:"beforeRender",value:function(t,e){ic(uc(o.prototype),"beforeRender",this).call(this,t,e),t.uniform2f(this.mousePositionPointer,this.mousePosition[0],this.mousePosition[1])}},{key:"afterRender",value:function(t,e){ic(uc(o.prototype),"afterRender",this).call(this,t,e)}},{key:"getMousePosition",value:function(){return this.mousePosition}},{key:"setMousePosition",value:function(t){this.mousePosition=[(t[0]+.5)/this.width,1-(t[1]+.5)/this.height]}}])&&rc(e.prototype,n),r&&rc(e,r),o}(tc);var hc=new Uint8Array([0,0,0,0,0,7,0,0,15,0,0,22,0,0,30,0,0,38,0,0,45,0,0,53,0,0,61,0,0,65,0,0,69,0,0,74,0,0,78,0,0,82,0,0,87,0,0,91,1,0,96,4,0,100,7,0,104,10,0,108,13,0,113,16,0,117,19,0,121,22,0,125,25,0,130,28,0,134,31,0,138,34,0,143,37,0,147,40,0,151,43,0,156,46,0,160,49,0,165,52,0,168,55,0,171,58,0,175,61,0,178,64,0,181,67,0,185,70,0,188,73,0,192,76,0,195,79,0,199,82,0,202,85,0,206,88,0,209,91,0,213,94,0,216,98,0,220,101,0,220,104,0,221,107,0,222,110,0,223,113,0,224,116,0,225,119,0,226,122,0,227,125,0,224,128,0,222,131,0,220,134,0,218,137,0,216,140,0,214,143,0,212,146,0,210,148,0,206,150,0,202,152,0,199,154,0,195,156,0,191,158,0,188,160,0,184,162,0,181,163,0,177,164,0,173,166,0,169,167,0,166,168,0,162,170,0,158,171,0,154,173,0,151,174,0,147,175,0,143,177,0,140,178,0,136,179,0,132,181,0,129,182,0,125,184,0,122,185,0,118,186,0,114,188,0,111,189,0,107,190,0,103,192,0,100,193,0,96,195,0,93,196,1,89,198,3,85,199,5,82,201,7,78,202,8,74,204,10,71,205,12,67,207,14,64,208,16,60,209,19,56,210,21,53,212,24,49,213,27,45,214,29,42,215,32,38,217,35,35,218,37,31,220,40,27,221,43,23,223,46,20,224,48,16,226,51,12,227,54,8,229,57,5,230,59,4,231,62,3,233,65,3,234,68,2,235,70,1,237,73,1,238,76,0,240,79,0,241,81,0,243,84,0,244,87,0,246,90,0,247,92,0,249,95,0,250,98,0,252,101,0,252,103,0,252,105,0,253,107,0,253,109,0,253,111,0,254,113,0,254,115,0,255,117,0,255,119,0,255,121,0,255,123,0,255,125,0,255,127,0,255,129,0,255,131,0,255,133,0,255,134,0,255,136,0,255,138,0,255,140,0,255,141,0,255,143,0,255,145,0,255,147,0,255,148,0,255,150,0,255,152,0,255,154,0,255,155,0,255,157,0,255,159,0,255,161,0,255,162,0,255,164,0,255,166,0,255,168,0,255,169,0,255,171,0,255,173,0,255,175,0,255,176,0,255,178,0,255,180,0,255,182,0,255,184,0,255,186,0,255,188,0,255,190,0,255,191,0,255,193,0,255,195,0,255,197,0,255,199,0,255,201,0,255,203,0,255,205,0,255,206,0,255,208,0,255,210,0,255,212,0,255,213,0,255,215,0,255,217,0,255,219,0,255,220,0,255,222,0,255,224,0,255,226,0,255,228,0,255,230,0,255,232,0,255,234,0,255,235,4,255,237,8,255,239,13,255,241,17,255,242,21,255,244,26,255,246,30,255,248,35,255,248,42,255,249,50,255,250,58,255,251,66,255,252,74,255,253,82,255,254,90,255,255,98,255,255,105,255,255,113,255,255,121,255,255,129,255,255,136,255,255,144,255,255,152,255,255,160,255,255,167,255,255,175,255,255,183,255,255,191,255,255,199,255,255,207,255,255,215,255,255,223,255,255,227,255,255,231,255,255,235,255,255,239,255,255,243,255,255,247,255,255,251,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]);function fc(t){return(fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dc(t,e){return(dc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_c(t);if(e){var i=_c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return gc(this,n)}}function gc(t,e){return!e||"object"!==fc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _c(t){return(_c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dc(t,e)}(o,t);var e,n,r,i=vc(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,ec,"#version 300 es\n\nprecision mediump float;\n\nin vec2 v_texture_position;\n\nuniform sampler2D u_intensities;\nuniform float u_min_intensity;\nuniform float u_max_intensity;\n\nout vec4 outColor;\n\nvoid main() {\n   float intensity = texture(u_intensities, v_texture_position).r;\n   intensity = (intensity - u_min_intensity) / (u_max_intensity - u_min_intensity);\n\n   outColor = vec4(intensity);\n}\n")).width=t.width,e.height=t.height,e.outputTexture=null,e.inputTexture=null,e.intensityStats=null,e.minIntensityPointer=null,e.maxIntensityPointer=null,e}return e=o,(n=[{key:"initialize",value:function(t,e){var n=this.getPointer();e.useVertexPositions(this),e.useTexturePositions(this),this.framebuffer=e.getFramebuffer("stretchIntensity"),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer),this.outputTexture=e.getTexture("stretchIntensity"),t.bindTexture(t.TEXTURE_2D,this.outputTexture),t.texImage2D(t.TEXTURE_2D,0,t.R32F,this.width,this.height,0,t.RED,t.FLOAT,null),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.outputTexture,0),t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),this.minIntensityPointer=t.getUniformLocation(n,"u_min_intensity"),this.maxIntensityPointer=t.getUniformLocation(n,"u_max_intensity")}},{key:"beforeRender",value:function(t,e){t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.inputTexture),t.uniform1f(this.minIntensityPointer,this.intensityStats.min),t.uniform1f(this.maxIntensityPointer,this.intensityStats.max),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)}},{key:"afterRender",value:function(t,e){}},{key:"link",value:function(t){this.intensityStats=t.getIntensityStats(),this.inputTexture=t.getOutputTexture()}},{key:"getOutputTexture",value:function(){return this.outputTexture}}])&&pc(e.prototype,n),r&&pc(e,r),o}(i);function mc(t){return(mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bc(t,e){return(bc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ec(t);if(e){var i=Ec(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Sc(this,n)}}function Sc(t,e){return!e||"object"!==mc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ec(t){return(Ec=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Cc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bc(t,e)}(o,t);var e,n,r,i=wc(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,ec,"#version 300 es\n\nprecision mediump float;\n\nin vec2 v_texture_position;\n\nuniform sampler2D u_input;\nuniform sampler2D u_color_map;\nuniform float u_alpha_scaling;\n\nout vec4 outColor;\n\nvoid main() {\n   float intensity = texture(u_input, v_texture_position).r;\n   outColor = texture(u_color_map, vec2(intensity, 0.5));\n\n   float alpha = min(1.0, intensity + u_alpha_scaling);\n   outColor.a = alpha;\n   // Multiply with alpha because the texture is not stored as premultiplied alpha.\n   outColor.rgb *= alpha;\n}\n")).colorMapTexture=null,t.inputTexture=null,t.alphaScaling=1,t.alphaScalingPointer=null,t}return e=o,(n=[{key:"initialize",value:function(t,e){var n=this.getPointer();e.useVertexPositions(this),e.useTexturePositions(this),this.alphaScalingPointer=t.getUniformLocation(n,"u_alpha_scaling"),this.colorMapTexture=e.getTexture("colorMap"),t.texImage2D(t.TEXTURE_2D,0,t.RGB,256,1,0,t.RGB,t.UNSIGNED_BYTE,hc),t.uniform1i(t.getUniformLocation(n,"u_color_map"),1)}},{key:"beforeRender",value:function(t,e){t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.inputTexture),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,this.colorMapTexture),t.bindFramebuffer(t.FRAMEBUFFER,null),t.uniform1f(this.alphaScalingPointer,this.alphaScaling)}},{key:"afterRender",value:function(t,e){}},{key:"link",value:function(t){this.inputTexture=t.getOutputTexture()}},{key:"setAlphaScaling",value:function(t){this.alphaScaling=t}}])&&xc(e.prototype,n),r&&xc(e,r),o}(i);function Oc(t){return(Oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pc(t,e){return(Pc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ac(t);if(e){var i=Ac(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ic(this,n)}}function Ic(t,e){return!e||"object"!==Oc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ac(t){return(Ac=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pc(t,e)}(o,t);var e,n,r,i=Rc(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,ec,"#version 300 es\n\nprecision mediump float;\nprecision mediump int;\nprecision mediump usampler2D;\n\nin vec2 v_texture_position;\n\nuniform vec2 u_mouse_position;\nuniform float u_texture_dimension;\n\nout vec4 outColor;\n\n<%=TEXTURE_3D=%>\n\nvoid main() {\n    // Texture coordinates are in [0, 1] and mark the center of a pixel of the texture.\n    // Multiply with u_texture_dimension to get the pixel coordinates and use floor()\n    // to shift the coordinates to the left corner of the pixel.\n    float tile_number = floor(v_texture_position.t * u_texture_dimension) * u_texture_dimension + floor(v_texture_position.s * u_texture_dimension);\n\n    outColor = texture3D(u_mouse_position, tile_number);\n}\n")).width=t.width,e.height=t.height,e.features=t.features,e.textureDimension=Math.ceil(Math.sqrt(Math.ceil(e.features/4))),e.texture=null,e.inputTexture=null,e.mousePosition=[0,0],e.mousePositionPointer=null,e.framebuffer=null,e.pixelVector=new Float32Array(e.textureDimension*e.textureDimension*4),e}return e=o,(n=[{key:"initialize",value:function(t,e){var n=this.getPointer();e.useVertexPositions(this),e.useTexturePositions(this),e.useTextures(this),this.mousePositionPointer=t.getUniformLocation(n,"u_mouse_position");var r=t.getUniformLocation(n,"u_texture_dimension");t.uniform1f(r,this.textureDimension),this.framebuffer=e.getFramebuffer("pixelVector"),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer),this.texture=e.getTexture("pixelVector"),t.bindTexture(t.TEXTURE_2D,this.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA32F,this.textureDimension,this.textureDimension,0,t.RGBA,t.FLOAT,null),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0),t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null)}},{key:"beforeRender",value:function(t,e){t.viewport(0,0,this.textureDimension,this.textureDimension),t.uniform2f(this.mousePositionPointer,this.mousePosition[0],this.mousePosition[1]),e.bindTextures(),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)}},{key:"afterRender",value:function(t,e){t.readPixels(0,0,this.textureDimension,this.textureDimension,t.RGBA,t.FLOAT,this.pixelVector),t.viewport(0,0,this.width,this.height)}},{key:"link",value:function(t){this.inputTexture=t.getOutputTexture()}},{key:"getMousePosition",value:function(){return this.mousePosition}},{key:"setMousePosition",value:function(t){this.mousePosition=[(t[0]+.5)/this.width,1-(t[1]+.5)/this.height]}},{key:"getPixelVector",value:function(){return this.pixelVector.subarray(0,this.features)}}])&&Tc(e.prototype,n),r&&Tc(e,r),o}(i);function Mc(t){return(Mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lc(t){return function(t){if(Array.isArray(t))return Fc(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Fc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fc(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jc(t,e,n){return(jc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Bc(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Nc(t,e){return(Nc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Bc(t);if(e){var i=Bc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return zc(this,n)}}function zc(t,e){return!e||"object"!==Mc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bc(t){return(Bc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Uc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nc(t,e)}(o,t);var e,n,r,i=$c(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this,ec,"#version 300 es\n\nprecision mediump float;\nprecision mediump int;\nprecision mediump usampler2D;\n\nin vec2 v_texture_position;\n\n// index of the tile to which the feature belongs\nuniform float u_tile;\n// filters out every feature but the desired one\nuniform vec4 u_channel_mask;\n\nout vec4 outColor;\n\nconst vec4 ONES = vec4(1);\n\n<%=TEXTURE_3D=%>\n\nvoid main() {\n    // y-flip the texture position because the textures are stored y-flipped.\n    vec4 colors = texture3D(vec2(v_texture_position.x, 1.0 - v_texture_position.y), u_tile);\n    float channel_color = dot(colors * u_channel_mask, ONES);\n\n    outColor = vec4(channel_color);\n}\n",t)).tilePointer=null,e.channelMaskPointer=null,e.featureTile=0,e.channelMask=[0,0,0,0],e}return e=o,(n=[{key:"initialize",value:function(t,e){jc(Bc(o.prototype),"initialize",this).call(this,t,e);var n=this.getPointer();this.tilePointer=t.getUniformLocation(n,"u_tile"),this.channelMaskPointer=t.getUniformLocation(n,"u_channel_mask")}},{key:"beforeRender",value:function(t,e){jc(Bc(o.prototype),"beforeRender",this).call(this,t,e),t.uniform1f(this.tilePointer,this.featureTile),t.uniform4f.apply(t,[this.channelMaskPointer].concat(Lc(this.channelMask)))}},{key:"afterRender",value:function(t,e){jc(Bc(o.prototype),"afterRender",this).call(this,t,e)}},{key:"setFeatureIndex",value:function(t){this.featureTile=Math.floor(t/4),this.channelMask.fill(0),this.channelMask[t%4]=1}}])&&Dc(e.prototype,n),r&&Dc(e,r),o}(tc);const Gc={template:'\n        <svg class="loading-indicator" :height="size" :width="size">\n            <text text-anchor="middle" dominant-baseline="middle" :x="centerX" :y="centerY" v-text="progressText"></text>\n            <path :d="draw" />\n        </svg>\n    ',props:{size:{required:!0,type:Number},progress:{default:0,type:Number},stroke:{default:6,type:Number}},computed:{centerX:function(){return this.size/2},centerY:function(){return this.size/2},draw:function(){var t=(this.size-this.stroke)/2,e=359.99*this.progress;return this.describeArc(this.centerX,this.centerY,t,0,e)},progressText:function(){return"".concat(Math.round(100*this.progress)," %")}},methods:{polarToCartesian:function(t,e,n,r){var i=(r-90)*Math.PI/180;return{x:t+n*Math.cos(i),y:e+n*Math.sin(i)}},describeArc:function(t,e,n,r,i){var o=this.polarToCartesian(t,e,n,i),a=this.polarToCartesian(t,e,n,r),s=i-r<=180?"0":"1";return["M",o.x,o.y,"A",n,n,0,s,0,a.x,a.y].join(" ")}}},Wc={template:'\n        <div class="color-scale">\n            <div class="fill-top" :style="fillTopStyle"></div>\n            <canvas ref="canvas" :style="canvasStyle"></canvas>\n            <div class="fill-bottom" :style="fillBottomStyle"></div>\n        </div>\n    ',props:{},components:{},data:function(){return{absoluteHeight:256,minIntensity:0,maxIntensity:1}},computed:{fillTopStyle:function(){var t=this.absoluteHeight*(1-this.maxIntensity);return 0===t?"display: none;":{"background-color":this.getColorScaleColor(255),"border-bottom-color":this.getColorScaleColor(0),height:"".concat(t,"px")}},canvasStyle:function(){var t=this.absoluteHeight*(this.maxIntensity-this.minIntensity);return"height: ".concat(t,"px")},fillBottomStyle:function(){var t=this.absoluteHeight*this.minIntensity;return 0===this.height?"display: none;":{"background-color":this.getColorScaleColor(0),"border-top-color":this.getColorScaleColor(255),height:"".concat(t,"px")}}},methods:{getColorScaleColor:function(t){return"rgb(".concat(hc[3*t],", ").concat(hc[3*t+1],", ").concat(hc[3*t+2],")")},updateCanvas:function(){for(var t=this.canvas.width,e=this.canvas.height,n=0;n<e;n++)this.ctx.fillStyle=this.getColorScaleColor(n),this.ctx.fillRect(0,e-n,t,1)},updateStretching:function(t){this.minIntensity=t.min,this.maxIntensity=t.max}},watch:{},created:function(){},mounted:function(){this.canvas=this.$refs.canvas,this.ctx=this.canvas.getContext("2d"),this.canvas.width=1,this.canvas.height=this.absoluteHeight,this.updateCanvas()}};function Vc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Xc=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dataset=e,this.gl=this.initializeGl_()}var e,n,r;return e=t,(n=[{key:"initializeGl_",value:function(){var t=document.createElement("canvas").getContext("webgl2");if(!t)throw"Your browser does not support WebGL 2.";t.getExtension("EXT_color_buffer_float"),t.activeTexture(t.TEXTURE0);var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.bindFramebuffer(t.FRAMEBUFFER,t.createFramebuffer()),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),t}},{key:"fetchImage_",value:function(t){var e=new Image,n=new Promise((function(n,r){e.addEventListener("load",(function(){n(e)})),e.addEventListener("error",(function(){r(new Error("Failed to load dataset part ".concat(t,".png.")))}))}));return e.src="".concat(this.dataset.url,"/").concat(t,".png"),n}},{key:"decodeImage_",value:function(t){var e=this.gl;e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.drawBuffers([e.COLOR_ATTACHMENT0]);var n=new Uint8Array(t.width*t.height*4);return e.readPixels(0,0,t.width,t.height,e.RGBA,e.UNSIGNED_BYTE,n),8===this.dataset.precision?n:16===this.dataset.precision?new Uint16Array(n.buffer):new Uint32Array(n.buffer)}},{key:"mergeImagesToTile_",value:function(t){var e;if(4===t.length){e=new Uint32Array(this.dataset.width*this.dataset.height*4);for(var n=0;n<t[0].length;n++)e[4*n]=t[0][n],e[4*n+1]=t[1][n],e[4*n+2]=t[2][n],e[4*n+3]=t[3][n]}else if(2===t.length){e=new Uint16Array(this.dataset.width*this.dataset.height*4);for(var r=0;r<t[0].length;r+=2)e[2*r]=t[0][r],e[2*r+1]=t[0][r+1],e[2*r+2]=t[1][r],e[2*r+3]=t[1][r+1]}else e=t[0];return e}},{key:"load",value:function(t){for(var e=this,n=32/this.dataset.precision,r=Math.ceil(this.dataset.features/n),i=0,o=this.dataset.precision/8,a=Math.ceil(this.dataset.features/4),s=a-1,u=r%o,l={},c=[],h=[],f=0;f<a;f++)c.push(new Promise((function(t,e){h.push({resolve:t,reject:e})})));var p=function(t,n,r){if(l[t]||(l[t]=t===s?Array(u).fill(void 0):Array(o).fill(void 0)),l[t][n]=r,l[t].every((function(t){return void 0!==t}))){var i=e.mergeImagesToTile_(l[t]);h[t].resolve([i,t]),delete l[t]}},d=function t(){if(i<r){var n=Math.floor(i/o),a=i%o;e.fetchImage_(i).then(e.decodeImage_.bind(e)).then(p.bind(e,n,a)).then(t).catch(h[n].reject),i+=1}};for(t=Math.min(t,r);t--;)d();return c}}])&&Vc(e.prototype,n),r&&Vc(e,r),t}();function Hc(t){return function(t){if(Array.isArray(t))return Kc(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Kc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kc(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const Yc={template:'\n        <div class="visualization" ref="map">\n            <div v-if="!ready" class="loading-overlay">\n                <div v-if="error" class="alert alert-primary" v-text="errorMessage"></div>\n                <loading-indicator v-else :size="120" :progress="loaded"></loading-indicator>\n            </div>\n            <color-scale v-show="ready" ref="colorScale"></color-scale>\n        </div>\n    ',props:{dataset:{required:!0,type:Object}},components:{loadingIndicator:Gc,colorScale:Wc},data:function(){return{loaded:0,ready:!1,initialAlphaScaling:.1,error:null,overlayGrayscale:!0}},computed:{extent:function(){return[0,0,this.dataset.width,this.dataset.height]},hasOverlay:function(){return this.dataset.overlay},errorMessage:function(){return this.error?this.error.message?this.error.message:this.error:""}},methods:{fetchImages:function(){var t=this,e=new Xc(this.dataset),n=0,r=e.load(3).map((function(e){return e.then((function(e){var n;(n=t.handler).storeTile.apply(n,Hc(e))})).then((function(){n+=1,t.loaded=n/r.length}))}));return Promise.all(r)},initializeCanvas:function(){var t=document.createElement("canvas");return t.width=this.dataset.width,t.height=this.dataset.height,t},initializeWebgl:function(t){this.handler=new g({canvas:t,width:this.dataset.width,height:this.dataset.height,depth:this.dataset.features,precision:this.dataset.precision,reservedUnits:4}),window.addEventListener("beforeunload",this.handler.destruct.bind(this.handler))},initializeOpenLayers:function(t){var e=this,n=new Ar({code:"image",units:"pixels",extent:this.extent});if(this.canvasSource=new al({canvas:t,projection:n,imageExtent:this.extent}),this.imageLayer=new qa({source:this.canvasSource,extent:this.extent}),this.imageLayer.on("prerender",(function(t){t.context.imageSmoothingEnabled=!1})),this.imageLayer.on("postrender",(function(t){t.context.imageSmoothingEnabled=!0})),this.markerFeature=new Hl(new ao([0,0])),this.markerLayer=new Iu({visible:!1,source:new Vl({features:[this.markerFeature]}),style:[new fs({image:new os({radius:7,fill:new as({color:"white"})})}),new fs({image:new os({radius:4,fill:new as({color:"#fc6600"})})})]}),this.map=new Da({target:this.$refs.map,layers:[this.imageLayer,this.markerLayer],view:new Oo({projection:n})}),this.hasOverlay){var r=new ml({opacity:1-this.initialAlphaScaling});r.on("change:opacity",this.updateAlphaScaling),this.map.addControl(r);var i=new Tl;i.on("showcolor",(function(){e.overlayGrayscale=!1})),i.on("showgrayscale",(function(){e.overlayGrayscale=!0})),this.map.addControl(i),this.overlayLayer=new qa({source:new qu({url:"".concat(this.dataset.url,"/overlay.jpg"),projection:n,imageExtent:this.extent}),extent:this.extent,visible:!1}),this.overlayLayer.on("prerender",(function(t){t.context.imageSmoothingEnabled=!1,e.overlayGrayscale&&(t.context.filter="grayscale(100%)")})),this.overlayLayer.on("postrender",(function(t){t.context.imageSmoothingEnabled=!0,t.context.filter="none"})),this.map.getLayers().insertAt(0,this.overlayLayer)}this.map.getView().fit(this.extent,{padding:[10,10,10,10]})},initializePrograms:function(){this.similarityProgram=new cc(this.dataset),this.stretchIntensityProgram=new yc(this.dataset),this.colorMapProgram=new Cc,this.hasOverlay&&this.colorMapProgram.setAlphaScaling(this.initialAlphaScaling),this.pixelVectorProgram=new kc(this.dataset),this.singleFeatureProgram=new Uc(this.dataset),this.handler.addProgram(this.similarityProgram),this.handler.addProgram(this.stretchIntensityProgram),this.handler.addProgram(this.colorMapProgram),this.handler.addProgram(this.pixelVectorProgram),this.handler.addProgram(this.singleFeatureProgram),this.stretchIntensityProgram.link(this.similarityProgram),this.colorMapProgram.link(this.stretchIntensityProgram)},renderSimilarity:function(){this.handler.render([this.similarityProgram,this.stretchIntensityProgram,this.colorMapProgram]).then(this.map.render.bind(this.map)).then(this.updateSimilarityColorScale)},renderPixelVector:function(){return this.handler.render([this.pixelVectorProgram])},renderSingleFeature:function(){this.handler.render([this.singleFeatureProgram,this.stretchIntensityProgram,this.colorMapProgram]).then(this.map.render.bind(this.map)).then(this.updateFeatureColorScale)},emitHover:function(){this.$emit("hover",this.pixelVectorProgram.getPixelVector())},emitSelect:function(){this.$emit("select",this.pixelVectorProgram.getPixelVector().slice())},emitUnselect:function(){this.$emit("select",[])},updateFeatureColorScale:function(){this.$refs.colorScale.updateStretching(this.singleFeatureProgram.getIntensityStats())},updateSimilarityColorScale:function(){this.$refs.colorScale.updateStretching(this.similarityProgram.getIntensityStats())},updateMousePosition:function(t){if(Y(this.extent,t.coordinate)){var e=this.similarityProgram.getMousePosition(),n=t.coordinate.map(Math.floor);this.similarityProgram.setMousePosition(n),this.pixelVectorProgram.setMousePosition(n),e[0]===n[0]&&e[1]===n[1]||(this.renderSimilarity(),this.renderPixelVector().then(this.emitHover))}},updateMarkerPosition:function(t){if(Y(this.extent,t.coordinate))if(this.map.hasFeatureAtPixel(t.pixel))this.markerLayer.setVisible(!1),this.emitUnselect();else{this.markerLayer.setVisible(!0),this.markerFeature.getGeometry().setCoordinates(t.coordinate);var e=this.pixelVectorProgram.getMousePosition(),n=t.coordinate.map(Math.floor);this.pixelVectorProgram.setMousePosition(n),e[0]===n[0]&&e[1]===n[1]||this.renderPixelVector().then(this.emitSelect)}},setReady:function(){this.ready=!0},showFeature:function(t){this.ready&&(null===t?(this.stretchIntensityProgram.link(this.similarityProgram),this.renderSimilarity()):(this.singleFeatureProgram.setFeatureIndex(t),this.stretchIntensityProgram.link(this.singleFeatureProgram),this.renderSingleFeature()))},updateAlphaScaling:function(t){var e=1-t.target.get("opacity");this.colorMapProgram.setAlphaScaling(e),this.renderSimilarity()}},watch:{overlayGrayscale:function(){this.map.render()}},mounted:function(){var t=this;try{var e=this.initializeCanvas();this.initializeOpenLayers(e),this.initializeWebgl(e),this.initializePrograms(),this.fetchImages().then(this.renderSimilarity).then(this.setReady).then((function(){t.overlayLayer&&t.overlayLayer.setVisible(!0),t.map.on("pointermove",t.updateMousePosition),t.map.on("click",t.updateMarkerPosition)})).catch((function(e){t.error=new Error("The dataset could not be loaded. ".concat(e.message))}))}catch(t){this.error=new Error("The dataset could not be loaded. ".concat(t.message))}}},Zc={template:'\n        <div class="intensity-list">\n            <span v-show="hasHoveredFeature" class="hovered-feature" v-text="hoveredFeature"></span>\n            <canvas ref="canvas"></canvas>\n        </div>\n    ',props:{dataset:{required:!0,type:Object}},components:{},data:function(){return{canvasSize:[0,0],hasReference:!1,hoveredFeature:null}},computed:{barHeight:function(){return this.canvasSize[1]/this.dataset.features},hasHoveredFeature:function(){return null!==this.hoveredFeature}},methods:{updatePixelVector:function(t){this.pixelVector=t,this.draw()},updateReferencePixelVector:function(t){this.referencePixelVector=t,this.hasReference=t.length>0,this.draw()},draw:function(){this.canvas.width=this.canvasSize[0],this.canvas.height=this.canvasSize[1],null!==this.hoveredFeature&&(this.ctx.fillStyle="#212529",this.ctx.fillRect(0,this.barHeight*this.hoveredFeature,this.canvas.width,this.barHeight)),this.hasReference?this.drawWithReference():this.drawWithoutReference()},drawWithoutReference:function(){this.ctx.fillStyle="white",this.fillPath(this.canvas.width,0,this.canvas.width,this.canvas.height,this.pixelVector,-1)},drawWithReference:function(){var t=this.canvas.width/2;this.ctx.fillStyle="white",this.fillPath(t,0,t,this.canvas.height,this.pixelVector,-1),this.ctx.fillStyle="#fc6600",this.fillPath(t,0,t,this.canvas.height,this.referencePixelVector,1)},fillPath:function(t,e,n,r,i,o){var a=this.barHeight,s=0,u=this.ctx;u.beginPath(),u.moveTo(t,e);for(var l=0;l<i.length;l++)s=n*i[l],u.lineTo(t+o*s,e+l*a),u.lineTo(t+o*s,e+(l+1)*a);u.lineTo(t,e+r),u.fill()},updateCanvasSize:function(){this.canvasSize=[this.$el.clientWidth,this.$el.clientHeight]},updateHoveredFeature:function(t){var e=t.target.getBoundingClientRect();this.hoveredFeature=Math.floor(this.dataset.features*(t.clientY-e.top)/t.target.height)},resetHoveredFeature:function(){this.hoveredFeature=null}},watch:{canvasSize:function(){this.draw()},hoveredFeature:function(t){this.draw(),this.$emit("hover",t)}},created:function(){this.pixelVector=new Uint8Array([]),this.referencePixelVector=new Uint8Array([])},mounted:function(){var t=this;this.canvas=this.$refs.canvas,this.ctx=this.canvas.getContext("2d"),window.addEventListener("resize",(function(){t.$nextTick(t.updateCanvasSize)})),this.$nextTick(this.updateCanvasSize),this.canvas.addEventListener("pointermove",this.updateHoveredFeature),this.canvas.addEventListener("pointerleave",this.resetHoveredFeature)}};var qc,Jc,Qc;function th(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(147),Jc="show-container",Qc=new Vue({data:{dataset:window.DATASET},components:(qc={visualization:Yc},th(qc,"visualization",Yc),th(qc,"pixelVectorDisplay",Zc),qc),methods:{updateHoverPixelVector:function(t){this.$refs.pixelVectorDisplay.updatePixelVector(t)},updateSelectPixelVector:function(t){this.$refs.pixelVectorDisplay.updateReferencePixelVector(t)},updateHoveredFeature:function(t){this.$refs.visualization.showFeature(t)}},created:function(){},mounted:function(){}}),window.addEventListener("load",(function(){var t=document.getElementById(Jc);t&&Qc.$mount(t)}))},147:(t,e,n)=>{window.Vue=n(538).Z,window.Vue.use(n(104))},67:()=>{},582:function(t){t.exports=function(){"use strict";function t(t,r,i,o,a){!function t(n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=r-i+1,l=Math.log(s),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);t(n,r,Math.max(i,Math.floor(r-u*c/s+h)),Math.min(o,Math.floor(r+(s-u)*c/s+h)),a)}var f=n[r],p=i,d=o;for(e(n,i,r),a(n[o],f)>0&&e(n,i,o);p<d;){for(e(n,p,d),p++,d--;a(n[p],f)<0;)p++;for(;a(n[d],f)>0;)d--}0===a(n[i],f)?e(n,i,d):e(n,++d,o),d<=r&&(i=d+1),r<=d&&(o=d-1)}}(t,r,i||0,o||t.length-1,a||n)}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function o(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,r,i){i||(i=d(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<n;o++){var a=t.children[o];s(i,t.leaf?r(a):a)}return i}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(e,n,r,i,o){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=i)){var s=n+Math.ceil((r-n)/i/2)*i;t(e,s,n,r,o),a.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var e=this.data,n=[];if(!p(t,e))return n;for(var r=this.toBBox,i=[];e;){for(var o=0;o<e.children.length;o++){var a=e.children[o],s=e.leaf?r(a):a;p(t,s)&&(e.leaf?n.push(a):f(t,s)?this._all(a,n):i.push(a))}e=i.pop()}return n},r.prototype.collides=function(t){var e=this.data;if(!p(t,e))return!1;for(var n=[];e;){for(var r=0;r<e.children.length;r++){var i=e.children[r],o=e.leaf?this.toBBox(i):i;if(p(t,o)){if(e.leaf||f(t,o))return!0;n.push(i)}}e=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=d([]),this},r.prototype.remove=function(t,e){if(!t)return this;for(var n,r,o,a=this.data,s=this.toBBox(t),u=[],l=[];a||u.length;){if(a||(a=u.pop(),r=u[u.length-1],n=l.pop(),o=!0),a.leaf){var c=i(t,a.children,e);if(-1!==c)return a.children.splice(c,1),u.push(a),this._condense(u),this}o||a.leaf||!f(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(u.push(a),l.push(n),n=0,r=a,a=a.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,e){return t.minX-e.minX},r.prototype.compareMinY=function(t,e){return t.minY-e.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},r.prototype._build=function(t,e,n,r){var i,a=n-e+1,s=this._maxEntries;if(a<=s)return o(i=d(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),(i=d([])).leaf=!1,i.height=r;var u=Math.ceil(a/s),l=u*Math.ceil(Math.sqrt(s));v(t,e,n,l,this.compareMinX);for(var c=e;c<=n;c+=l){var h=Math.min(c+l-1,n);v(t,c,h,u,this.compareMinY);for(var f=c;f<=h;f+=u){var p=Math.min(f+u-1,h);i.children.push(this._build(t,f,p,r-1))}}return o(i,this.toBBox),i},r.prototype._chooseSubtree=function(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,a=void 0,s=0;s<e.children.length;s++){var u=e.children[s],l=c(u),h=(f=t,p=u,(Math.max(p.maxX,f.maxX)-Math.min(p.minX,f.minX))*(Math.max(p.maxY,f.maxY)-Math.min(p.minY,f.minY))-l);h<o?(o=h,i=l<i?l:i,a=u):h===o&&l<i&&(i=l,a=u)}e=a||e.children[0]}var f,p;return e},r.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),s(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},r.prototype._split=function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var a=this._chooseSplitIndex(n,i,r),s=d(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,o(n,this.toBBox),o(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,e,n){for(var r,i,o,s,u,l,h,f=1/0,p=1/0,d=e;d<=n-e;d++){var v=a(t,0,d,this.toBBox),g=a(t,d,n,this.toBBox),_=(i=v,o=g,s=void 0,u=void 0,l=void 0,h=void 0,s=Math.max(i.minX,o.minX),u=Math.max(i.minY,o.minY),l=Math.min(i.maxX,o.maxX),h=Math.min(i.maxY,o.maxY),Math.max(0,l-s)*Math.max(0,h-u)),y=c(v)+c(g);_<f?(f=_,r=d,p=y<p?y:p):_===f&&y<p&&(p=y,r=d)}return r||n-e},r.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:u,i=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var i=this.toBBox,o=a(t,0,e,i),u=a(t,n-e,n,i),l=h(o)+h(u),c=e;c<n-e;c++){var f=t.children[c];s(o,t.leaf?i(f):f),l+=h(o)}for(var p=n-e-1;p>=e;p--){var d=t.children[p];s(u,t.leaf?i(d):d),l+=h(u)}return l},r.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)s(e[r],t)},r.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},r}()},104:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>H,Url:()=>I,Http:()=>G,Resource:()=>W});function r(t){this.state=2,this.value=void 0,this.deferred=[];var e=this;try{t((function(t){e.resolve(t)}),(function(t){e.reject(t)}))}catch(t){e.reject(t)}}r.reject=function(t){return new r((function(e,n){n(t)}))},r.resolve=function(t){return new r((function(e,n){e(t)}))},r.all=function(t){return new r((function(e,n){var i=0,o=[];function a(n){return function(r){o[n]=r,(i+=1)===t.length&&e(o)}}0===t.length&&e(o);for(var s=0;s<t.length;s+=1)r.resolve(t[s]).then(a(s),n)}))},r.race=function(t){return new r((function(e,n){for(var i=0;i<t.length;i+=1)r.resolve(t[i]).then(e,n)}))};var i=r.prototype;function o(t,e){this.promise=t instanceof Promise?t:new Promise(t.bind(e)),this.context=e}i.resolve=function(t){var e=this;if(2===e.state){if(t===e)throw new TypeError("Promise settled with itself.");var n=!1;try{var r=t&&t.then;if(null!==t&&"object"==typeof t&&"function"==typeof r)return void r.call(t,(function(t){n||e.resolve(t),n=!0}),(function(t){n||e.reject(t),n=!0}))}catch(t){return void(n||e.reject(t))}e.state=0,e.value=t,e.notify()}},i.reject=function(t){var e=this;if(2===e.state){if(t===e)throw new TypeError("Promise settled with itself.");e.state=1,e.value=t,e.notify()}},i.notify=function(){var t,e=this;s((function(){if(2!==e.state)for(;e.deferred.length;){var t=e.deferred.shift(),n=t[0],r=t[1],i=t[2],o=t[3];try{0===e.state?i("function"==typeof n?n.call(void 0,e.value):e.value):1===e.state&&("function"==typeof r?i(r.call(void 0,e.value)):o(e.value))}catch(t){o(t)}}}),t)},i.then=function(t,e){var n=this;return new r((function(r,i){n.deferred.push([t,e,r,i]),n.notify()}))},i.catch=function(t){return this.then(void 0,t)},"undefined"==typeof Promise&&(window.Promise=r),o.all=function(t,e){return new o(Promise.all(t),e)},o.resolve=function(t,e){return new o(Promise.resolve(t),e)},o.reject=function(t,e){return new o(Promise.reject(t),e)},o.race=function(t,e){return new o(Promise.race(t),e)};var a=o.prototype;a.bind=function(t){return this.context=t,this},a.then=function(t,e){return t&&t.bind&&this.context&&(t=t.bind(this.context)),e&&e.bind&&this.context&&(e=e.bind(this.context)),new o(this.promise.then(t,e),this.context)},a.catch=function(t){return t&&t.bind&&this.context&&(t=t.bind(this.context)),new o(this.promise.catch(t),this.context)},a.finally=function(t){return this.then((function(e){return t.call(this),e}),(function(e){return t.call(this),Promise.reject(e)}))};var s,u={}.hasOwnProperty,l=[].slice,c=!1,h="undefined"!=typeof window;function f(t){return t?t.replace(/^\s*|\s*$/g,""):""}function p(t){return t?t.toLowerCase():""}var d=Array.isArray;function v(t){return"string"==typeof t}function g(t){return"function"==typeof t}function _(t){return null!==t&&"object"==typeof t}function y(t){return _(t)&&Object.getPrototypeOf(t)==Object.prototype}function m(t,e,n){var r=o.resolve(t);return arguments.length<2?r:r.then(e,n)}function x(t,e,n){return g(n=n||{})&&(n=n.call(e)),S(t.bind({$vm:e,$options:n}),t,{$options:n})}function b(t,e){var n,r;if(d(t))for(n=0;n<t.length;n++)e.call(t[n],t[n],n);else if(_(t))for(r in t)u.call(t,r)&&e.call(t[r],t[r],r);return t}var w=Object.assign||function(t){var e=l.call(arguments,1);return e.forEach((function(e){E(t,e)})),t};function S(t){var e=l.call(arguments,1);return e.forEach((function(e){E(t,e,!0)})),t}function E(t,e,n){for(var r in e)n&&(y(e[r])||d(e[r]))?(y(e[r])&&!y(t[r])&&(t[r]={}),d(e[r])&&!d(t[r])&&(t[r]=[]),E(t[r],e[r],n)):void 0!==e[r]&&(t[r]=e[r])}function C(t,e,n){var r=function(t){var e=["+","#",".","/",";","?","&"],n=[];return{vars:n,expand:function(r){return t.replace(/\{([^{}]+)\}|([^{}]+)/g,(function(t,i,o){if(i){var a=null,s=[];if(-1!==e.indexOf(i.charAt(0))&&(a=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach((function(t){var e=/([^:*]*)(?::(\d+)|(\*))?/.exec(t);s.push.apply(s,function(t,e,n,r){var i=t[n],o=[];if(O(i)&&""!==i)if("string"==typeof i||"number"==typeof i||"boolean"==typeof i)i=i.toString(),r&&"*"!==r&&(i=i.substring(0,parseInt(r,10))),o.push(P(e,i,T(e)?n:null));else if("*"===r)Array.isArray(i)?i.filter(O).forEach((function(t){o.push(P(e,t,T(e)?n:null))})):Object.keys(i).forEach((function(t){O(i[t])&&o.push(P(e,i[t],t))}));else{var a=[];Array.isArray(i)?i.filter(O).forEach((function(t){a.push(P(e,t))})):Object.keys(i).forEach((function(t){O(i[t])&&(a.push(encodeURIComponent(t)),a.push(P(e,i[t].toString())))})),T(e)?o.push(encodeURIComponent(n)+"="+a.join(",")):0!==a.length&&o.push(a.join(","))}else";"===e?o.push(encodeURIComponent(n)):""!==i||"&"!==e&&"?"!==e?""===i&&o.push(""):o.push(encodeURIComponent(n)+"=");return o}(r,a,e[1],e[2]||e[3])),n.push(e[1])})),a&&"+"!==a){var u=",";return"?"===a?u="&":"#"!==a&&(u=a),(0!==s.length?a:"")+s.join(u)}return s.join(",")}return R(o)}))}}}(t),i=r.expand(e);return n&&n.push.apply(n,r.vars),i}function O(t){return null!=t}function T(t){return";"===t||"&"===t||"?"===t}function P(t,e,n){return e="+"===t||"#"===t?R(e):encodeURIComponent(e),n?encodeURIComponent(n)+"="+e:e}function R(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map((function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t)),t})).join("")}function I(t,e){var n,r=this||{},i=t;return v(t)&&(i={url:t,params:e}),i=S({},I.options,r.$options,i),I.transforms.forEach((function(t){v(t)&&(t=I.transform[t]),g(t)&&(n=function(t,e,n){return function(r){return t.call(n,r,e)}}(t,n,r.$vm))})),n(i)}function A(t,e,n){var r,i=d(e),o=y(e);b(e,(function(e,a){r=_(e)||d(e),n&&(a=n+"["+(o||r?a:"")+"]"),!n&&i?t.add(e.name,e.value):r?A(t,e,a):t.add(a,e)}))}function k(t){return new o((function(e){var n=new XDomainRequest,r=function(r){var i=r.type,o=0;"load"===i?o=200:"error"===i&&(o=500),e(t.respondWith(n.responseText,{status:o}))};t.abort=function(){return n.abort()},n.open(t.method,t.getUrl()),t.timeout&&(n.timeout=t.timeout),n.onload=r,n.onabort=r,n.onerror=r,n.ontimeout=r,n.onprogress=function(){},n.send(t.getBody())}))}I.options={url:"",root:null,params:{}},I.transform={template:function(t){var e=[],n=C(t.url,t.params,e);return e.forEach((function(e){delete t.params[e]})),n},query:function(t,e){var n=Object.keys(I.options.params),r={},i=e(t);return b(t.params,(function(t,e){-1===n.indexOf(e)&&(r[e]=t)})),(r=I.params(r))&&(i+=(-1==i.indexOf("?")?"?":"&")+r),i},root:function(t,e){var n,r,i=e(t);return v(t.root)&&!/^(https?:)?\//.test(i)&&(n=t.root,r="/",i=(n&&void 0===r?n.replace(/\s+$/,""):n&&r?n.replace(new RegExp("["+r+"]+$"),""):n)+"/"+i),i}},I.transforms=["template","query","root"],I.params=function(t){var e=[],n=encodeURIComponent;return e.add=function(t,e){g(e)&&(e=e()),null===e&&(e=""),this.push(n(t)+"="+n(e))},A(e,t),e.join("&").replace(/%20/g,"+")},I.parse=function(t){var e=document.createElement("a");return document.documentMode&&(e.href=t,t=e.href),e.href=t,{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",port:e.port,host:e.host,hostname:e.hostname,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):""}};var M=h&&"withCredentials"in new XMLHttpRequest;function L(t){return new o((function(e){var n,r,i=t.jsonp||"callback",o=t.jsonpCallback||"_jsonp"+Math.random().toString(36).substr(2),a=null;n=function(n){var i=n.type,s=0;"load"===i&&null!==a?s=200:"error"===i&&(s=500),s&&window[o]&&(delete window[o],document.body.removeChild(r)),e(t.respondWith(a,{status:s}))},window[o]=function(t){a=JSON.stringify(t)},t.abort=function(){n({type:"abort"})},t.params[i]=o,t.timeout&&setTimeout(t.abort,t.timeout),(r=document.createElement("script")).src=t.getUrl(),r.type="text/javascript",r.async=!0,r.onload=n,r.onerror=n,document.body.appendChild(r)}))}function F(t){return new o((function(e){var n=new XMLHttpRequest,r=function(r){var i=t.respondWith("response"in n?n.response:n.responseText,{status:1223===n.status?204:n.status,statusText:1223===n.status?"No Content":f(n.statusText)});b(f(n.getAllResponseHeaders()).split("\n"),(function(t){i.headers.append(t.slice(0,t.indexOf(":")),t.slice(t.indexOf(":")+1))})),e(i)};t.abort=function(){return n.abort()},n.open(t.method,t.getUrl(),!0),t.timeout&&(n.timeout=t.timeout),t.responseType&&"responseType"in n&&(n.responseType=t.responseType),(t.withCredentials||t.credentials)&&(n.withCredentials=!0),t.crossOrigin||t.headers.set("X-Requested-With","XMLHttpRequest"),g(t.progress)&&"GET"===t.method&&n.addEventListener("progress",t.progress),g(t.downloadProgress)&&n.addEventListener("progress",t.downloadProgress),g(t.progress)&&/^(POST|PUT)$/i.test(t.method)&&n.upload.addEventListener("progress",t.progress),g(t.uploadProgress)&&n.upload&&n.upload.addEventListener("progress",t.uploadProgress),t.headers.forEach((function(t,e){n.setRequestHeader(e,t)})),n.onload=r,n.onabort=r,n.onerror=r,n.ontimeout=r,n.send(t.getBody())}))}function D(t){var e=n(608);return new o((function(n){var r,i=t.getUrl(),o=t.getBody(),a=t.method,s={};t.headers.forEach((function(t,e){s[e]=t})),e(i,{body:o,method:a,headers:s}).then(r=function(e){var r=t.respondWith(e.body,{status:e.statusCode,statusText:f(e.statusMessage)});b(e.headers,(function(t,e){r.headers.set(e,t)})),n(r)},(function(t){return r(t.response)}))}))}function j(t){return(t.client||(h?F:D))(t)}var N=function(){function t(t){var e=this;this.map={},b(t,(function(t,n){return e.append(n,t)}))}var e=t.prototype;return e.has=function(t){return null!==$(this.map,t)},e.get=function(t){var e=this.map[$(this.map,t)];return e?e.join():null},e.getAll=function(t){return this.map[$(this.map,t)]||[]},e.set=function(t,e){this.map[function(t){if(/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return f(t)}($(this.map,t)||t)]=[f(e)]},e.append=function(t,e){var n=this.map[$(this.map,t)];n?n.push(f(e)):this.set(t,e)},e.delete=function(t){delete this.map[$(this.map,t)]},e.deleteAll=function(){this.map={}},e.forEach=function(t,e){var n=this;b(this.map,(function(r,i){b(r,(function(r){return t.call(e,r,i,n)}))}))},t}();function $(t,e){return Object.keys(t).reduce((function(t,n){return p(e)===p(n)?n:t}),null)}var z=function(){function t(t,e){var n,r=e.url,i=e.headers,a=e.status,s=e.statusText;this.url=r,this.ok=a>=200&&a<300,this.status=a||0,this.statusText=s||"",this.headers=new N(i),this.body=t,v(t)?this.bodyText=t:(n=t,"undefined"!=typeof Blob&&n instanceof Blob&&(this.bodyBlob=t,function(t){return 0===t.type.indexOf("text")||-1!==t.type.indexOf("json")}(t)&&(this.bodyText=function(t){return new o((function(e){var n=new FileReader;n.readAsText(t),n.onload=function(){e(n.result)}}))}(t))))}var e=t.prototype;return e.blob=function(){return m(this.bodyBlob)},e.text=function(){return m(this.bodyText)},e.json=function(){return m(this.text(),(function(t){return JSON.parse(t)}))},t}();Object.defineProperty(z.prototype,"data",{get:function(){return this.body},set:function(t){this.body=t}});var B=function(){function t(t){var e;this.body=null,this.params={},w(this,t,{method:(e=t.method||"GET",e?e.toUpperCase():"")}),this.headers instanceof N||(this.headers=new N(this.headers))}var e=t.prototype;return e.getUrl=function(){return I(this)},e.getBody=function(){return this.body},e.respondWith=function(t,e){return new z(t,w(e||{},{url:this.getUrl()}))},t}(),U={"Content-Type":"application/json;charset=utf-8"};function G(t){var e=this||{},n=function(t){var e=[j],n=[];function r(r){for(;e.length;){var i=e.pop();if(g(i)){var a=function(){var e=void 0,a=void 0;if(_(e=i.call(t,r,(function(t){return a=t}))||a))return{v:new o((function(r,i){n.forEach((function(n){e=m(e,(function(e){return n.call(t,e)||e}),i)})),m(e,r,i)}),t)};g(e)&&n.unshift(e)}();if("object"==typeof a)return a.v}else s="Invalid interceptor of type "+typeof i+", must be a function","undefined"!=typeof console&&c&&console.warn("[VueResource warn]: "+s)}var s}return _(t)||(t=null),r.use=function(t){e.push(t)},r}(e.$vm);return function(t){l.call(arguments,1).forEach((function(e){for(var n in e)void 0===t[n]&&(t[n]=e[n])}))}(t||{},e.$options,G.options),G.interceptors.forEach((function(t){v(t)&&(t=G.interceptor[t]),g(t)&&n.use(t)})),n(new B(t)).then((function(t){return t.ok?t:o.reject(t)}),(function(t){var e;return t instanceof Error&&(e=t,"undefined"!=typeof console&&console.error(e)),o.reject(t)}))}function W(t,e,n,r){var i=this||{},o={};return b(n=w({},W.actions,n),(function(n,a){n=S({url:t,params:w({},e)},r,n),o[a]=function(){return(i.$http||G)(V(n,arguments))}})),o}function V(t,e){var n,r=w({},t),i={};switch(e.length){case 2:i=e[0],n=e[1];break;case 1:/^(POST|PUT|PATCH)$/i.test(r.method)?n=e[0]:i=e[0];break;case 0:break;default:throw"Expected up to 2 arguments [params, body], got "+e.length+" arguments"}return r.body=n,r.params=w({},r.params,i),r}function X(t){X.installed||(!function(t){var e=t.config,n=t.nextTick;s=n,c=e.debug||!e.silent}(t),t.url=I,t.http=G,t.resource=W,t.Promise=o,Object.defineProperties(t.prototype,{$url:{get:function(){return x(t.url,this,this.$options.url)}},$http:{get:function(){return x(t.http,this,this.$options.http)}},$resource:{get:function(){return t.resource.bind(this)}},$promise:{get:function(){var e=this;return function(n){return new t.Promise(n,e)}}}}))}G.options={},G.headers={put:U,post:U,patch:U,delete:U,common:{Accept:"application/json, text/plain, */*"},custom:{}},G.interceptor={before:function(t){g(t.before)&&t.before.call(this,t)},method:function(t){t.emulateHTTP&&/^(PUT|PATCH|DELETE)$/i.test(t.method)&&(t.headers.set("X-HTTP-Method-Override",t.method),t.method="POST")},jsonp:function(t){"JSONP"==t.method&&(t.client=L)},json:function(t){var e=t.headers.get("Content-Type")||"";return _(t.body)&&0===e.indexOf("application/json")&&(t.body=JSON.stringify(t.body)),function(t){return t.bodyText?m(t.text(),(function(e){var n,r,i;if(0===(t.headers.get("Content-Type")||"").indexOf("application/json")||(r=(n=e).match(/^\s*(\[|\{)/),i={"[":/]\s*$/,"{":/}\s*$/},r&&i[r[1]].test(n)))try{t.body=JSON.parse(e)}catch(e){t.body=null}else t.body=e;return t})):t}},form:function(t){var e;e=t.body,"undefined"!=typeof FormData&&e instanceof FormData?t.headers.delete("Content-Type"):_(t.body)&&t.emulateJSON&&(t.body=I.params(t.body),t.headers.set("Content-Type","application/x-www-form-urlencoded"))},header:function(t){b(w({},G.headers.common,t.crossOrigin?{}:G.headers.custom,G.headers[p(t.method)]),(function(e,n){t.headers.has(n)||t.headers.set(n,e)}))},cors:function(t){if(h){var e=I.parse(location.href),n=I.parse(t.getUrl());n.protocol===e.protocol&&n.host===e.host||(t.crossOrigin=!0,t.emulateHTTP=!1,M||(t.client=k))}}},G.interceptors=["before","method","jsonp","json","form","header","cors"],["get","delete","head","jsonp"].forEach((function(t){G[t]=function(e,n){return this(w(n||{},{url:e,method:t}))}})),["post","put","patch"].forEach((function(t){G[t]=function(e,n,r){return this(w(r||{},{url:e,method:t,body:n}))}})),W.actions={get:{method:"GET"},save:{method:"POST"},query:{method:"GET"},update:{method:"PUT"},remove:{method:"DELETE"},delete:{method:"DELETE"}},"undefined"!=typeof window&&window.Vue&&!window.Vue.resource&&window.Vue.use(X);const H=X},538:(t,e,n)=>{"use strict";n.d(e,{Z:()=>ys});var r=Object.freeze({});function i(t){return null==t}function o(t){return null!=t}function a(t){return!0===t}function s(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function u(t){return null!==t&&"object"==typeof t}var l=Object.prototype.toString;function c(t){return"[object Object]"===l.call(t)}function h(t){return"[object RegExp]"===l.call(t)}function f(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function p(t){return o(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function d(t){return null==t?"":Array.isArray(t)||c(t)&&t.toString===l?JSON.stringify(t,null,2):String(t)}function v(t){var e=parseFloat(t);return isNaN(e)?t:e}function g(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var _=g("slot,component",!0),y=g("key,ref,slot,slot-scope,is");function m(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var x=Object.prototype.hasOwnProperty;function b(t,e){return x.call(t,e)}function w(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var S=/-(\w)/g,E=w((function(t){return t.replace(S,(function(t,e){return e?e.toUpperCase():""}))})),C=w((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),O=/\B([A-Z])/g,T=w((function(t){return t.replace(O,"-$1").toLowerCase()}));var P=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function R(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function I(t,e){for(var n in e)t[n]=e[n];return t}function A(t){for(var e={},n=0;n<t.length;n++)t[n]&&I(e,t[n]);return e}function k(t,e,n){}var M=function(t,e,n){return!1},L=function(t){return t};function F(t,e){if(t===e)return!0;var n=u(t),r=u(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every((function(t,n){return F(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var a=Object.keys(t),s=Object.keys(e);return a.length===s.length&&a.every((function(n){return F(t[n],e[n])}))}catch(t){return!1}}function D(t,e){for(var n=0;n<t.length;n++)if(F(t[n],e))return n;return-1}function j(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var N="data-server-rendered",$=["component","directive","filter"],z=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],B={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:M,isReservedAttr:M,isUnknownElement:M,getTagNamespace:k,parsePlatformTagName:L,mustUseProp:M,async:!0,_lifecycleHooks:z},U=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function G(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function W(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var V=new RegExp("[^"+U.source+".$_\\d]");var X,H="__proto__"in{},K="undefined"!=typeof window,Y="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Z=Y&&WXEnvironment.platform.toLowerCase(),q=K&&window.navigator.userAgent.toLowerCase(),J=q&&/msie|trident/.test(q),Q=q&&q.indexOf("msie 9.0")>0,tt=q&&q.indexOf("edge/")>0,et=(q&&q.indexOf("android"),q&&/iphone|ipad|ipod|ios/.test(q)||"ios"===Z),nt=(q&&/chrome\/\d+/.test(q),q&&/phantomjs/.test(q),q&&q.match(/firefox\/(\d+)/)),rt={}.watch,it=!1;if(K)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){it=!0}}),window.addEventListener("test-passive",null,ot)}catch(t){}var at=function(){return void 0===X&&(X=!K&&!Y&&void 0!==n.g&&(n.g.process&&"server"===n.g.process.env.VUE_ENV)),X},st=K&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ut(t){return"function"==typeof t&&/native code/.test(t.toString())}var lt,ct="undefined"!=typeof Symbol&&ut(Symbol)&&"undefined"!=typeof Reflect&&ut(Reflect.ownKeys);lt="undefined"!=typeof Set&&ut(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ht=k,ft=0,pt=function(){this.id=ft++,this.subs=[]};pt.prototype.addSub=function(t){this.subs.push(t)},pt.prototype.removeSub=function(t){m(this.subs,t)},pt.prototype.depend=function(){pt.target&&pt.target.addDep(this)},pt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},pt.target=null;var dt=[];function vt(t){dt.push(t),pt.target=t}function gt(){dt.pop(),pt.target=dt[dt.length-1]}var _t=function(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},yt={child:{configurable:!0}};yt.child.get=function(){return this.componentInstance},Object.defineProperties(_t.prototype,yt);var mt=function(t){void 0===t&&(t="");var e=new _t;return e.text=t,e.isComment=!0,e};function xt(t){return new _t(void 0,void 0,void 0,String(t))}function bt(t){var e=new _t(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var wt=Array.prototype,St=Object.create(wt);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var e=wt[t];W(St,t,(function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&a.observeArray(i),a.dep.notify(),o}))}));var Et=Object.getOwnPropertyNames(St),Ct=!0;function Ot(t){Ct=t}var Tt=function(t){this.value=t,this.dep=new pt,this.vmCount=0,W(t,"__ob__",this),Array.isArray(t)?(H?function(t,e){t.__proto__=e}(t,St):function(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];W(t,o,e[o])}}(t,St,Et),this.observeArray(t)):this.walk(t)};function Pt(t,e){var n;if(u(t)&&!(t instanceof _t))return b(t,"__ob__")&&t.__ob__ instanceof Tt?n=t.__ob__:Ct&&!at()&&(Array.isArray(t)||c(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Tt(t)),e&&n&&n.vmCount++,n}function Rt(t,e,n,r,i){var o=new pt,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get,u=a&&a.set;s&&!u||2!==arguments.length||(n=t[e]);var l=!i&&Pt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return pt.target&&(o.depend(),l&&(l.dep.depend(),Array.isArray(e)&&kt(e))),e},set:function(e){var r=s?s.call(t):n;e===r||e!=e&&r!=r||s&&!u||(u?u.call(t,e):n=e,l=!i&&Pt(e),o.notify())}})}}function It(t,e,n){if(Array.isArray(t)&&f(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(Rt(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function At(t,e){if(Array.isArray(t)&&f(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||b(t,e)&&(delete t[e],n&&n.dep.notify())}}function kt(t){for(var e=void 0,n=0,r=t.length;n<r;n++)(e=t[n])&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&kt(e)}Tt.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Rt(t,e[n])},Tt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Pt(t[e])};var Mt=B.optionMergeStrategies;function Lt(t,e){if(!e)return t;for(var n,r,i,o=ct?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)"__ob__"!==(n=o[a])&&(r=t[n],i=e[n],b(t,n)?r!==i&&c(r)&&c(i)&&Lt(r,i):It(t,n,i));return t}function Ft(t,e,n){return n?function(){var r="function"==typeof e?e.call(n,n):e,i="function"==typeof t?t.call(n,n):t;return r?Lt(r,i):i}:e?t?function(){return Lt("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Dt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function jt(t,e,n,r){var i=Object.create(t||null);return e?I(i,e):i}Mt.data=function(t,e,n){return n?Ft(t,e,n):e&&"function"!=typeof e?t:Ft(t,e)},z.forEach((function(t){Mt[t]=Dt})),$.forEach((function(t){Mt[t+"s"]=jt})),Mt.watch=function(t,e,n,r){if(t===rt&&(t=void 0),e===rt&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var o in I(i,t),e){var a=i[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},Mt.props=Mt.methods=Mt.inject=Mt.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return I(i,t),e&&I(i,e),i},Mt.provide=Ft;var Nt=function(t,e){return void 0===e?t:e};function $t(t,e,n){if("function"==typeof e&&(e=e.options),function(t,e){var n=t.props;if(n){var r,i,o={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(i=n[r])&&(o[E(i)]={type:null});else if(c(n))for(var a in n)i=n[a],o[E(a)]=c(i)?i:{type:i};t.props=o}}(e),function(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(c(n))for(var o in n){var a=n[o];r[o]=c(a)?I({from:o},a):{from:a}}}}(e),function(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"==typeof r&&(e[n]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(t=$t(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=$t(t,e.mixins[r],n);var o,a={};for(o in t)s(o);for(o in e)b(t,o)||s(o);function s(r){var i=Mt[r]||Nt;a[r]=i(t[r],e[r],n,r)}return a}function zt(t,e,n,r){if("string"==typeof n){var i=t[e];if(b(i,n))return i[n];var o=E(n);if(b(i,o))return i[o];var a=C(o);return b(i,a)?i[a]:i[n]||i[o]||i[a]}}function Bt(t,e,n,r){var i=e[t],o=!b(n,t),a=n[t],s=Wt(Boolean,i.type);if(s>-1)if(o&&!b(i,"default"))a=!1;else if(""===a||a===T(t)){var u=Wt(String,i.type);(u<0||s<u)&&(a=!0)}if(void 0===a){a=function(t,e,n){if(!b(e,"default"))return;var r=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n])return t._props[n];return"function"==typeof r&&"Function"!==Ut(e.type)?r.call(t):r}(r,i,t);var l=Ct;Ot(!0),Pt(a),Ot(l)}return a}function Ut(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Gt(t,e){return Ut(t)===Ut(e)}function Wt(t,e){if(!Array.isArray(e))return Gt(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Gt(e[n],t))return n;return-1}function Vt(t,e,n){vt();try{if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(r,t,e,n))return}catch(t){Ht(t,r,"errorCaptured hook")}}Ht(t,e,n)}finally{gt()}}function Xt(t,e,n,r,i){var o;try{(o=n?t.apply(e,n):t.call(e))&&!o._isVue&&p(o)&&!o._handled&&(o.catch((function(t){return Vt(t,r,i+" (Promise/async)")})),o._handled=!0)}catch(t){Vt(t,r,i)}return o}function Ht(t,e,n){if(B.errorHandler)try{return B.errorHandler.call(null,t,e,n)}catch(e){e!==t&&Kt(e,null,"config.errorHandler")}Kt(t,e,n)}function Kt(t,e,n){if(!K&&!Y||"undefined"==typeof console)throw t;console.error(t)}var Yt,Zt=!1,qt=[],Jt=!1;function Qt(){Jt=!1;var t=qt.slice(0);qt.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&ut(Promise)){var te=Promise.resolve();Yt=function(){te.then(Qt),et&&setTimeout(k)},Zt=!0}else if(J||"undefined"==typeof MutationObserver||!ut(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Yt="undefined"!=typeof setImmediate&&ut(setImmediate)?function(){setImmediate(Qt)}:function(){setTimeout(Qt,0)};else{var ee=1,ne=new MutationObserver(Qt),re=document.createTextNode(String(ee));ne.observe(re,{characterData:!0}),Yt=function(){ee=(ee+1)%2,re.data=String(ee)},Zt=!0}function ie(t,e){var n;if(qt.push((function(){if(t)try{t.call(e)}catch(t){Vt(t,e,"nextTick")}else n&&n(e)})),Jt||(Jt=!0,Yt()),!t&&"undefined"!=typeof Promise)return new Promise((function(t){n=t}))}var oe=new lt;function ae(t){se(t,oe),oe.clear()}function se(t,e){var n,r,i=Array.isArray(t);if(!(!i&&!u(t)||Object.isFrozen(t)||t instanceof _t)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(i)for(n=t.length;n--;)se(t[n],e);else for(n=(r=Object.keys(t)).length;n--;)se(t[r[n]],e)}}var ue=w((function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),r="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:n,capture:r,passive:e}}));function le(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return Xt(r,null,arguments,e,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)Xt(i[o],null,t,e,"v-on handler")}return n.fns=t,n}function ce(t,e,n,r,o,s){var u,l,c,h;for(u in t)l=t[u],c=e[u],h=ue(u),i(l)||(i(c)?(i(l.fns)&&(l=t[u]=le(l,s)),a(h.once)&&(l=t[u]=o(h.name,l,h.capture)),n(h.name,l,h.capture,h.passive,h.params)):l!==c&&(c.fns=l,t[u]=c));for(u in e)i(t[u])&&r((h=ue(u)).name,e[u],h.capture)}function he(t,e,n){var r;t instanceof _t&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function u(){n.apply(this,arguments),m(r.fns,u)}i(s)?r=le([u]):o(s.fns)&&a(s.merged)?(r=s).fns.push(u):r=le([s,u]),r.merged=!0,t[e]=r}function fe(t,e,n,r,i){if(o(e)){if(b(e,n))return t[n]=e[n],i||delete e[n],!0;if(b(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function pe(t){return s(t)?[xt(t)]:Array.isArray(t)?ve(t):void 0}function de(t){return o(t)&&o(t.text)&&!1===t.isComment}function ve(t,e){var n,r,u,l,c=[];for(n=0;n<t.length;n++)i(r=t[n])||"boolean"==typeof r||(l=c[u=c.length-1],Array.isArray(r)?r.length>0&&(de((r=ve(r,(e||"")+"_"+n))[0])&&de(l)&&(c[u]=xt(l.text+r[0].text),r.shift()),c.push.apply(c,r)):s(r)?de(l)?c[u]=xt(l.text+r):""!==r&&c.push(xt(r)):de(r)&&de(l)?c[u]=xt(l.text+r.text):(a(t._isVList)&&o(r.tag)&&i(r.key)&&o(e)&&(r.key="__vlist"+e+"_"+n+"__"),c.push(r)));return c}function ge(t,e){if(t){for(var n=Object.create(null),r=ct?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){for(var a=t[o].from,s=e;s;){if(s._provided&&b(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in t[o]){var u=t[o].default;n[o]="function"==typeof u?u.call(e):u}else 0}}return n}}function _e(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,u=n[s]||(n[s]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var l in n)n[l].every(ye)&&delete n[l];return n}function ye(t){return t.isComment&&!t.asyncFactory||" "===t.text}function me(t,e,n){var i,o=Object.keys(e).length>0,a=t?!!t.$stable:!o,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&n&&n!==r&&s===n.$key&&!o&&!n.$hasNormal)return n;for(var u in i={},t)t[u]&&"$"!==u[0]&&(i[u]=xe(e,u,t[u]))}else i={};for(var l in e)l in i||(i[l]=be(e,l));return t&&Object.isExtensible(t)&&(t._normalized=i),W(i,"$stable",a),W(i,"$key",s),W(i,"$hasNormal",o),i}function xe(t,e,n){var r=function(){var t=arguments.length?n.apply(null,arguments):n({});return(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:pe(t))&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function be(t,e){return function(){return t[e]}}function we(t,e){var n,r,i,a,s;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e(t[r],r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(u(t))if(ct&&t[Symbol.iterator]){n=[];for(var l=t[Symbol.iterator](),c=l.next();!c.done;)n.push(e(c.value,n.length)),c=l.next()}else for(a=Object.keys(t),n=new Array(a.length),r=0,i=a.length;r<i;r++)s=a[r],n[r]=e(t[s],s,r);return o(n)||(n=[]),n._isVList=!0,n}function Se(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=I(I({},r),n)),i=o(n)||e):i=this.$slots[t]||e;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},i):i}function Ee(t){return zt(this.$options,"filters",t)||L}function Ce(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Oe(t,e,n,r,i){var o=B.keyCodes[e]||n;return i&&r&&!B.keyCodes[e]?Ce(i,r):o?Ce(o,t):r?T(r)!==e:void 0}function Te(t,e,n,r,i){if(n)if(u(n)){var o;Array.isArray(n)&&(n=A(n));var a=function(a){if("class"===a||"style"===a||y(a))o=t;else{var s=t.attrs&&t.attrs.type;o=r||B.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=E(a),l=T(a);u in o||l in o||(o[a]=n[a],i&&((t.on||(t.on={}))["update:"+a]=function(t){n[a]=t}))};for(var s in n)a(s)}else;return t}function Pe(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||Ie(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),r}function Re(t,e,n){return Ie(t,"__once__"+e+(n?"_"+n:""),!0),t}function Ie(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&Ae(t[r],e+"_"+r,n);else Ae(t,e,n)}function Ae(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function ke(t,e){if(e)if(c(e)){var n=t.on=t.on?I({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else;return t}function Me(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var o=t[i];Array.isArray(o)?Me(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function Le(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"==typeof r&&r&&(t[e[n]]=e[n+1])}return t}function Fe(t,e){return"string"==typeof t?e+t:t}function De(t){t._o=Re,t._n=v,t._s=d,t._l=we,t._t=Se,t._q=F,t._i=D,t._m=Pe,t._f=Ee,t._k=Oe,t._b=Te,t._v=xt,t._e=mt,t._u=Me,t._g=ke,t._d=Le,t._p=Fe}function je(t,e,n,i,o){var s,u=this,l=o.options;b(i,"_uid")?(s=Object.create(i))._original=i:(s=i,i=i._original);var c=a(l._compiled),h=!c;this.data=t,this.props=e,this.children=n,this.parent=i,this.listeners=t.on||r,this.injections=ge(l.inject,i),this.slots=function(){return u.$slots||me(t.scopedSlots,u.$slots=_e(n,i)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return me(t.scopedSlots,this.slots())}}),c&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=me(t.scopedSlots,this.$slots)),l._scopeId?this._c=function(t,e,n,r){var o=We(s,t,e,n,r,h);return o&&!Array.isArray(o)&&(o.fnScopeId=l._scopeId,o.fnContext=i),o}:this._c=function(t,e,n,r){return We(s,t,e,n,r,h)}}function Ne(t,e,n,r,i){var o=bt(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function $e(t,e){for(var n in e)t[E(n)]=e[n]}De(je.prototype);var ze={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;ze.prepatch(n,n)}else{(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;o(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns);return new t.componentOptions.Ctor(n)}(t,en)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,i,o){0;var a=i.data.scopedSlots,s=t.$scopedSlots,u=!!(a&&!a.$stable||s!==r&&!s.$stable||a&&t.$scopedSlots.$key!==a.$key),l=!!(o||t.$options._renderChildren||u);t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i);if(t.$options._renderChildren=o,t.$attrs=i.data.attrs||r,t.$listeners=n||r,e&&t.$options.props){Ot(!1);for(var c=t._props,h=t.$options._propKeys||[],f=0;f<h.length;f++){var p=h[f],d=t.$options.props;c[p]=Bt(p,d,e,t)}Ot(!0),t.$options.propsData=e}n=n||r;var v=t.$options._parentListeners;t.$options._parentListeners=n,tn(t,n,v),l&&(t.$slots=_e(o,i.context),t.$forceUpdate());0}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e,n=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,sn(r,"mounted")),t.data.keepAlive&&(n._isMounted?((e=r)._inactive=!1,ln.push(e)):on(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?an(e,!0):e.$destroy())}},Be=Object.keys(ze);function Ue(t,e,n,s,l){if(!i(t)){var c=n.$options._base;if(u(t)&&(t=c.extend(t)),"function"==typeof t){var h;if(i(t.cid)&&void 0===(t=function(t,e){if(a(t.error)&&o(t.errorComp))return t.errorComp;if(o(t.resolved))return t.resolved;var n=He;n&&o(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n);if(a(t.loading)&&o(t.loadingComp))return t.loadingComp;if(n&&!o(t.owners)){var r=t.owners=[n],s=!0,l=null,c=null;n.$on("hook:destroyed",(function(){return m(r,n)}));var h=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==l&&(clearTimeout(l),l=null),null!==c&&(clearTimeout(c),c=null))},f=j((function(n){t.resolved=Ke(n,e),s?r.length=0:h(!0)})),d=j((function(e){o(t.errorComp)&&(t.error=!0,h(!0))})),v=t(f,d);return u(v)&&(p(v)?i(t.resolved)&&v.then(f,d):p(v.component)&&(v.component.then(f,d),o(v.error)&&(t.errorComp=Ke(v.error,e)),o(v.loading)&&(t.loadingComp=Ke(v.loading,e),0===v.delay?t.loading=!0:l=setTimeout((function(){l=null,i(t.resolved)&&i(t.error)&&(t.loading=!0,h(!1))}),v.delay||200)),o(v.timeout)&&(c=setTimeout((function(){c=null,i(t.resolved)&&d(null)}),v.timeout)))),s=!1,t.loading?t.loadingComp:t.resolved}}(h=t,c)))return function(t,e,n,r,i){var o=mt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}(h,e,n,s,l);e=e||{},Rn(t),o(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var i=e.on||(e.on={}),a=i[r],s=e.model.callback;o(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(i[r]=[s].concat(a)):i[r]=s}(t.options,e);var f=function(t,e,n){var r=e.options.props;if(!i(r)){var a={},s=t.attrs,u=t.props;if(o(s)||o(u))for(var l in r){var c=T(l);fe(a,u,l,c,!0)||fe(a,s,l,c,!1)}return a}}(e,t);if(a(t.options.functional))return function(t,e,n,i,a){var s=t.options,u={},l=s.props;if(o(l))for(var c in l)u[c]=Bt(c,l,e||r);else o(n.attrs)&&$e(u,n.attrs),o(n.props)&&$e(u,n.props);var h=new je(n,u,a,i,t),f=s.render.call(null,h._c,h);if(f instanceof _t)return Ne(f,n,h.parent,s);if(Array.isArray(f)){for(var p=pe(f)||[],d=new Array(p.length),v=0;v<p.length;v++)d[v]=Ne(p[v],n,h.parent,s);return d}}(t,f,e,n,s);var d=e.on;if(e.on=e.nativeOn,a(t.options.abstract)){var v=e.slot;e={},v&&(e.slot=v)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<Be.length;n++){var r=Be[n],i=e[r],o=ze[r];i===o||i&&i._merged||(e[r]=i?Ge(o,i):o)}}(e);var g=t.options.name||l;return new _t("vue-component-"+t.cid+(g?"-"+g:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:f,listeners:d,tag:l,children:s},h)}}}function Ge(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function We(t,e,n,r,i,l){return(Array.isArray(n)||s(n))&&(i=r,r=n,n=void 0),a(l)&&(i=2),function(t,e,n,r,i){if(o(n)&&o(n.__ob__))return mt();o(n)&&o(n.is)&&(e=n.is);if(!e)return mt();0;Array.isArray(r)&&"function"==typeof r[0]&&((n=n||{}).scopedSlots={default:r[0]},r.length=0);2===i?r=pe(r):1===i&&(r=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(r));var a,s;if("string"==typeof e){var l;s=t.$vnode&&t.$vnode.ns||B.getTagNamespace(e),a=B.isReservedTag(e)?new _t(B.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!o(l=zt(t.$options,"components",e))?new _t(e,n,r,void 0,void 0,t):Ue(l,n,t,r,e)}else a=Ue(e,n,t,r);return Array.isArray(a)?a:o(a)?(o(s)&&Ve(a,s),o(n)&&function(t){u(t.style)&&ae(t.style);u(t.class)&&ae(t.class)}(n),a):mt()}(t,e,n,r,i)}function Ve(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),o(t.children))for(var r=0,s=t.children.length;r<s;r++){var u=t.children[r];o(u.tag)&&(i(u.ns)||a(n)&&"svg"!==u.tag)&&Ve(u,e,n)}}var Xe,He=null;function Ke(t,e){return(t.__esModule||ct&&"Module"===t[Symbol.toStringTag])&&(t=t.default),u(t)?e.extend(t):t}function Ye(t){return t.isComment&&t.asyncFactory}function Ze(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(o(n)&&(o(n.componentOptions)||Ye(n)))return n}}function qe(t,e){Xe.$on(t,e)}function Je(t,e){Xe.$off(t,e)}function Qe(t,e){var n=Xe;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function tn(t,e,n){Xe=t,ce(e,n||{},qe,Je,Qe,t),Xe=void 0}var en=null;function nn(t){var e=en;return en=t,function(){en=e}}function rn(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function on(t,e){if(e){if(t._directInactive=!1,rn(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)on(t.$children[n]);sn(t,"activated")}}function an(t,e){if(!(e&&(t._directInactive=!0,rn(t))||t._inactive)){t._inactive=!0;for(var n=0;n<t.$children.length;n++)an(t.$children[n]);sn(t,"deactivated")}}function sn(t,e){vt();var n=t.$options[e],r=e+" hook";if(n)for(var i=0,o=n.length;i<o;i++)Xt(n[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),gt()}var un=[],ln=[],cn={},hn=!1,fn=!1,pn=0;var dn=0,vn=Date.now;if(K&&!J){var gn=window.performance;gn&&"function"==typeof gn.now&&vn()>document.createEvent("Event").timeStamp&&(vn=function(){return gn.now()})}function _n(){var t,e;for(dn=vn(),fn=!0,un.sort((function(t,e){return t.id-e.id})),pn=0;pn<un.length;pn++)(t=un[pn]).before&&t.before(),e=t.id,cn[e]=null,t.run();var n=ln.slice(),r=un.slice();pn=un.length=ln.length=0,cn={},hn=fn=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,on(t[e],!0)}(n),function(t){var e=t.length;for(;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&sn(r,"updated")}}(r),st&&B.devtools&&st.emit("flush")}var yn=0,mn=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++yn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new lt,this.newDepIds=new lt,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!V.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=k)),this.value=this.lazy?void 0:this.get()};mn.prototype.get=function(){var t;vt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Vt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ae(t),gt(),this.cleanupDeps()}return t},mn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},mn.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},mn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==cn[e]){if(cn[e]=!0,fn){for(var n=un.length-1;n>pn&&un[n].id>t.id;)n--;un.splice(n+1,0,t)}else un.push(t);hn||(hn=!0,ie(_n))}}(this)},mn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||u(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){Vt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},mn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},mn.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},mn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||m(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var xn={enumerable:!0,configurable:!0,get:k,set:k};function bn(t,e,n){xn.get=function(){return this[e][n]},xn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,xn)}function wn(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[];t.$parent&&Ot(!1);var o=function(o){i.push(o);var a=Bt(o,e,n,t);Rt(r,o,a),o in t||bn(t,"_props",o)};for(var a in e)o(a);Ot(!0)}(t,e.props),e.methods&&function(t,e){t.$options.props;for(var n in e)t[n]="function"!=typeof e[n]?k:P(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;c(e=t._data="function"==typeof e?function(t,e){vt();try{return t.call(e,e)}catch(t){return Vt(t,e,"data()"),{}}finally{gt()}}(e,t):e||{})||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);for(;i--;){var o=n[i];0,r&&b(r,o)||G(o)||bn(t,"_data",o)}Pt(e,!0)}(t):Pt(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),r=at();for(var i in e){var o=e[i],a="function"==typeof o?o:o.get;0,r||(n[i]=new mn(t,a||k,k,Sn)),i in t||En(t,i,o)}}(t,e.computed),e.watch&&e.watch!==rt&&function(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)Tn(t,n,r[i]);else Tn(t,n,r)}}(t,e.watch)}var Sn={lazy:!0};function En(t,e,n){var r=!at();"function"==typeof n?(xn.get=r?Cn(e):On(n),xn.set=k):(xn.get=n.get?r&&!1!==n.cache?Cn(e):On(n.get):k,xn.set=n.set||k),Object.defineProperty(t,e,xn)}function Cn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),pt.target&&e.depend(),e.value}}function On(t){return function(){return t.call(this,this)}}function Tn(t,e,n,r){return c(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}var Pn=0;function Rn(t){var e=t.options;if(t.super){var n=Rn(t.super);if(n!==t.superOptions){t.superOptions=n;var r=function(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}(t);r&&I(t.extendOptions,r),(e=t.options=$t(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function In(t){this._init(t)}function An(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=t.name||n.options.name;var a=function(t){this._init(t)};return(a.prototype=Object.create(n.prototype)).constructor=a,a.cid=e++,a.options=$t(n.options,t),a.super=n,a.options.props&&function(t){var e=t.options.props;for(var n in e)bn(t.prototype,"_props",n)}(a),a.options.computed&&function(t){var e=t.options.computed;for(var n in e)En(t.prototype,n,e[n])}(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,$.forEach((function(t){a[t]=n[t]})),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=I({},a.options),i[r]=a,a}}function kn(t){return t&&(t.Ctor.options.name||t.tag)}function Mn(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!h(t)&&t.test(e)}function Ln(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var a=n[o];if(a){var s=kn(a.componentOptions);s&&!e(s)&&Fn(n,o,r,i)}}}function Fn(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,m(n,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=Pn++,e._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=$t(Rn(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&tn(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,i=n&&n.context;t.$slots=_e(e._renderChildren,i),t.$scopedSlots=r,t._c=function(e,n,r,i){return We(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return We(t,e,n,r,i,!0)};var o=n&&n.data;Rt(t,"$attrs",o&&o.attrs||r,null,!0),Rt(t,"$listeners",e._parentListeners||r,null,!0)}(e),sn(e,"beforeCreate"),function(t){var e=ge(t.$options.inject,t);e&&(Ot(!1),Object.keys(e).forEach((function(n){Rt(t,n,e[n])})),Ot(!0))}(e),wn(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),sn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(In),function(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=It,t.prototype.$delete=At,t.prototype.$watch=function(t,e,n){var r=this;if(c(e))return Tn(r,t,e,n);(n=n||{}).user=!0;var i=new mn(r,t,e,n);if(n.immediate)try{e.call(r,i.value)}catch(t){Vt(t,r,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}(In),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var i=0,o=t.length;i<o;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var o,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;for(var s=a.length;s--;)if((o=a[s])===e||o.fn===e){a.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?R(n):n;for(var r=R(arguments,1),i='event handler for "'+t+'"',o=0,a=n.length;o<a;o++)Xt(n[o],e,r,e,i)}return e}}(In),function(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=nn(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){sn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||m(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),sn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(In),function(t){De(t.prototype),t.prototype.$nextTick=function(t){return ie(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&(e.$scopedSlots=me(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{He=e,t=r.call(e._renderProxy,e.$createElement)}catch(n){Vt(n,e,"render"),t=e._vnode}finally{He=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof _t||(t=mt()),t.parent=i,t}}(In);var Dn=[String,RegExp,Array],jn={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Dn,exclude:Dn,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Fn(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",(function(e){Ln(t,(function(t){return Mn(e,t)}))})),this.$watch("exclude",(function(e){Ln(t,(function(t){return!Mn(e,t)}))}))},render:function(){var t=this.$slots.default,e=Ze(t),n=e&&e.componentOptions;if(n){var r=kn(n),i=this.include,o=this.exclude;if(i&&(!r||!Mn(i,r))||o&&r&&Mn(o,r))return e;var a=this.cache,s=this.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;a[u]?(e.componentInstance=a[u].componentInstance,m(s,u),s.push(u)):(a[u]=e,s.push(u),this.max&&s.length>parseInt(this.max)&&Fn(a,s[0],s,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return B}};Object.defineProperty(t,"config",e),t.util={warn:ht,extend:I,mergeOptions:$t,defineReactive:Rt},t.set=It,t.delete=At,t.nextTick=ie,t.observable=function(t){return Pt(t),t},t.options=Object.create(null),$.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,I(t.options.components,jn),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=R(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=$t(this.options,t),this}}(t),An(t),function(t){$.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&c(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}(t)}(In),Object.defineProperty(In.prototype,"$isServer",{get:at}),Object.defineProperty(In.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(In,"FunctionalRenderContext",{value:je}),In.version="2.6.12";var Nn=g("style,class"),$n=g("input,textarea,option,select,progress"),zn=function(t,e,n){return"value"===n&&$n(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Bn=g("contenteditable,draggable,spellcheck"),Un=g("events,caret,typing,plaintext-only"),Gn=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Wn="http://www.w3.org/1999/xlink",Vn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Xn=function(t){return Vn(t)?t.slice(6,t.length):""},Hn=function(t){return null==t||!1===t};function Kn(t){for(var e=t.data,n=t,r=t;o(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=Yn(r.data,e));for(;o(n=n.parent);)n&&n.data&&(e=Yn(e,n.data));return function(t,e){if(o(t)||o(e))return Zn(t,qn(e));return""}(e.staticClass,e.class)}function Yn(t,e){return{staticClass:Zn(t.staticClass,e.staticClass),class:o(t.class)?[t.class,e.class]:e.class}}function Zn(t,e){return t?e?t+" "+e:t:e||""}function qn(t){return Array.isArray(t)?function(t){for(var e,n="",r=0,i=t.length;r<i;r++)o(e=qn(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):u(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var Jn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Qn=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),tr=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),er=function(t){return Qn(t)||tr(t)};function nr(t){return tr(t)?"svg":"math"===t?"math":void 0}var rr=Object.create(null);var ir=g("text,number,password,search,email,tel,url");function or(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}var ar=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(t,e){return document.createElementNS(Jn[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),sr={create:function(t,e){ur(e)},update:function(t,e){t.data.ref!==e.data.ref&&(ur(t,!0),ur(e))},destroy:function(t){ur(t,!0)}};function ur(t,e){var n=t.data.ref;if(o(n)){var r=t.context,i=t.componentInstance||t.elm,a=r.$refs;e?Array.isArray(a[n])?m(a[n],i):a[n]===i&&(a[n]=void 0):t.data.refInFor?Array.isArray(a[n])?a[n].indexOf(i)<0&&a[n].push(i):a[n]=[i]:a[n]=i}}var lr=new _t("",{},[]),cr=["create","activate","update","remove","destroy"];function hr(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&o(t.data)===o(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,r=o(n=t.data)&&o(n=n.attrs)&&n.type,i=o(n=e.data)&&o(n=n.attrs)&&n.type;return r===i||ir(r)&&ir(i)}(t,e)||a(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&i(e.asyncFactory.error))}function fr(t,e,n){var r,i,a={};for(r=e;r<=n;++r)o(i=t[r].key)&&(a[i]=r);return a}var pr={create:dr,update:dr,destroy:function(t){dr(t,lr)}};function dr(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,r,i,o=t===lr,a=e===lr,s=gr(t.data.directives,t.context),u=gr(e.data.directives,e.context),l=[],c=[];for(n in u)r=s[n],i=u[n],r?(i.oldValue=r.value,i.oldArg=r.arg,yr(i,"update",e,t),i.def&&i.def.componentUpdated&&c.push(i)):(yr(i,"bind",e,t),i.def&&i.def.inserted&&l.push(i));if(l.length){var h=function(){for(var n=0;n<l.length;n++)yr(l[n],"inserted",e,t)};o?he(e,"insert",h):h()}c.length&&he(e,"postpatch",(function(){for(var n=0;n<c.length;n++)yr(c[n],"componentUpdated",e,t)}));if(!o)for(n in s)u[n]||yr(s[n],"unbind",t,t,a)}(t,e)}var vr=Object.create(null);function gr(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++)(r=t[n]).modifiers||(r.modifiers=vr),i[_r(r)]=r,r.def=zt(e.$options,"directives",r.name);return i}function _r(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function yr(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(r){Vt(r,n.context,"directive "+t.name+" "+e+" hook")}}var mr=[sr,pr];function xr(t,e){var n=e.componentOptions;if(!(o(n)&&!1===n.Ctor.options.inheritAttrs||i(t.data.attrs)&&i(e.data.attrs))){var r,a,s=e.elm,u=t.data.attrs||{},l=e.data.attrs||{};for(r in o(l.__ob__)&&(l=e.data.attrs=I({},l)),l)a=l[r],u[r]!==a&&br(s,r,a);for(r in(J||tt)&&l.value!==u.value&&br(s,"value",l.value),u)i(l[r])&&(Vn(r)?s.removeAttributeNS(Wn,Xn(r)):Bn(r)||s.removeAttribute(r))}}function br(t,e,n){t.tagName.indexOf("-")>-1?wr(t,e,n):Gn(e)?Hn(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Bn(e)?t.setAttribute(e,function(t,e){return Hn(e)||"false"===e?"false":"contenteditable"===t&&Un(e)?e:"true"}(e,n)):Vn(e)?Hn(n)?t.removeAttributeNS(Wn,Xn(e)):t.setAttributeNS(Wn,e,n):wr(t,e,n)}function wr(t,e,n){if(Hn(n))t.removeAttribute(e);else{if(J&&!Q&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var Sr={create:xr,update:xr};function Er(t,e){var n=e.elm,r=e.data,a=t.data;if(!(i(r.staticClass)&&i(r.class)&&(i(a)||i(a.staticClass)&&i(a.class)))){var s=Kn(e),u=n._transitionClasses;o(u)&&(s=Zn(s,qn(u))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var Cr,Or,Tr,Pr,Rr,Ir,Ar={create:Er,update:Er},kr=/[\w).+\-_$\]]/;function Mr(t){var e,n,r,i,o,a=!1,s=!1,u=!1,l=!1,c=0,h=0,f=0,p=0;for(r=0;r<t.length;r++)if(n=e,e=t.charCodeAt(r),a)39===e&&92!==n&&(a=!1);else if(s)34===e&&92!==n&&(s=!1);else if(u)96===e&&92!==n&&(u=!1);else if(l)47===e&&92!==n&&(l=!1);else if(124!==e||124===t.charCodeAt(r+1)||124===t.charCodeAt(r-1)||c||h||f){switch(e){case 34:s=!0;break;case 39:a=!0;break;case 96:u=!0;break;case 40:f++;break;case 41:f--;break;case 91:h++;break;case 93:h--;break;case 123:c++;break;case 125:c--}if(47===e){for(var d=r-1,v=void 0;d>=0&&" "===(v=t.charAt(d));d--);v&&kr.test(v)||(l=!0)}}else void 0===i?(p=r+1,i=t.slice(0,r).trim()):g();function g(){(o||(o=[])).push(t.slice(p,r).trim()),p=r+1}if(void 0===i?i=t.slice(0,r).trim():0!==p&&g(),o)for(r=0;r<o.length;r++)i=Lr(i,o[r]);return i}function Lr(t,e){var n=e.indexOf("(");if(n<0)return'_f("'+e+'")('+t+")";var r=e.slice(0,n),i=e.slice(n+1);return'_f("'+r+'")('+t+(")"!==i?","+i:i)}function Fr(t,e){console.error("[Vue compiler]: "+t)}function Dr(t,e){return t?t.map((function(t){return t[e]})).filter((function(t){return t})):[]}function jr(t,e,n,r,i){(t.props||(t.props=[])).push(Xr({name:e,value:n,dynamic:i},r)),t.plain=!1}function Nr(t,e,n,r,i){(i?t.dynamicAttrs||(t.dynamicAttrs=[]):t.attrs||(t.attrs=[])).push(Xr({name:e,value:n,dynamic:i},r)),t.plain=!1}function $r(t,e,n,r){t.attrsMap[e]=n,t.attrsList.push(Xr({name:e,value:n},r))}function zr(t,e,n,r,i,o,a,s){(t.directives||(t.directives=[])).push(Xr({name:e,rawName:n,value:r,arg:i,isDynamicArg:o,modifiers:a},s)),t.plain=!1}function Br(t,e,n){return n?"_p("+e+',"'+t+'")':t+e}function Ur(t,e,n,i,o,a,s,u){var l;(i=i||r).right?u?e="("+e+")==='click'?'contextmenu':("+e+")":"click"===e&&(e="contextmenu",delete i.right):i.middle&&(u?e="("+e+")==='click'?'mouseup':("+e+")":"click"===e&&(e="mouseup")),i.capture&&(delete i.capture,e=Br("!",e,u)),i.once&&(delete i.once,e=Br("~",e,u)),i.passive&&(delete i.passive,e=Br("&",e,u)),i.native?(delete i.native,l=t.nativeEvents||(t.nativeEvents={})):l=t.events||(t.events={});var c=Xr({value:n.trim(),dynamic:u},s);i!==r&&(c.modifiers=i);var h=l[e];Array.isArray(h)?o?h.unshift(c):h.push(c):l[e]=h?o?[c,h]:[h,c]:c,t.plain=!1}function Gr(t,e,n){var r=Wr(t,":"+e)||Wr(t,"v-bind:"+e);if(null!=r)return Mr(r);if(!1!==n){var i=Wr(t,e);if(null!=i)return JSON.stringify(i)}}function Wr(t,e,n){var r;if(null!=(r=t.attrsMap[e]))for(var i=t.attrsList,o=0,a=i.length;o<a;o++)if(i[o].name===e){i.splice(o,1);break}return n&&delete t.attrsMap[e],r}function Vr(t,e){for(var n=t.attrsList,r=0,i=n.length;r<i;r++){var o=n[r];if(e.test(o.name))return n.splice(r,1),o}}function Xr(t,e){return e&&(null!=e.start&&(t.start=e.start),null!=e.end&&(t.end=e.end)),t}function Hr(t,e,n){var r=n||{},i=r.number,o="$$v",a=o;r.trim&&(a="(typeof $$v === 'string'? $$v.trim(): $$v)"),i&&(a="_n("+a+")");var s=Kr(e,a);t.model={value:"("+e+")",expression:JSON.stringify(e),callback:"function ($$v) {"+s+"}"}}function Kr(t,e){var n=function(t){if(t=t.trim(),Cr=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<Cr-1)return(Pr=t.lastIndexOf("."))>-1?{exp:t.slice(0,Pr),key:'"'+t.slice(Pr+1)+'"'}:{exp:t,key:null};Or=t,Pr=Rr=Ir=0;for(;!Zr();)qr(Tr=Yr())?Qr(Tr):91===Tr&&Jr(Tr);return{exp:t.slice(0,Rr),key:t.slice(Rr+1,Ir)}}(t);return null===n.key?t+"="+e:"$set("+n.exp+", "+n.key+", "+e+")"}function Yr(){return Or.charCodeAt(++Pr)}function Zr(){return Pr>=Cr}function qr(t){return 34===t||39===t}function Jr(t){var e=1;for(Rr=Pr;!Zr();)if(qr(t=Yr()))Qr(t);else if(91===t&&e++,93===t&&e--,0===e){Ir=Pr;break}}function Qr(t){for(var e=t;!Zr()&&(t=Yr())!==e;);}var ti,ei="__r";function ni(t,e,n){var r=ti;return function i(){var o=e.apply(null,arguments);null!==o&&oi(t,i,n,r)}}var ri=Zt&&!(nt&&Number(nt[1])<=53);function ii(t,e,n,r){if(ri){var i=dn,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}ti.addEventListener(t,e,it?{capture:n,passive:r}:n)}function oi(t,e,n,r){(r||ti).removeEventListener(t,e._wrapper||e,n)}function ai(t,e){if(!i(t.data.on)||!i(e.data.on)){var n=e.data.on||{},r=t.data.on||{};ti=e.elm,function(t){if(o(t.__r)){var e=J?"change":"input";t[e]=[].concat(t.__r,t[e]||[]),delete t.__r}o(t.__c)&&(t.change=[].concat(t.__c,t.change||[]),delete t.__c)}(n),ce(n,r,ii,oi,ni,e.context),ti=void 0}}var si,ui={create:ai,update:ai};function li(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var n,r,a=e.elm,s=t.data.domProps||{},u=e.data.domProps||{};for(n in o(u.__ob__)&&(u=e.data.domProps=I({},u)),s)n in u||(a[n]="");for(n in u){if(r=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=r;var l=i(r)?"":String(r);ci(a,l)&&(a.value=l)}else if("innerHTML"===n&&tr(a.tagName)&&i(a.innerHTML)){(si=si||document.createElement("div")).innerHTML="<svg>"+r+"</svg>";for(var c=si.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}else if(r!==s[n])try{a[n]=r}catch(t){}}}}function ci(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,r=t._vModifiers;if(o(r)){if(r.number)return v(n)!==v(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var hi={create:li,update:li},fi=w((function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach((function(t){if(t){var r=t.split(n);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function pi(t){var e=di(t.style);return t.staticStyle?I(t.staticStyle,e):e}function di(t){return Array.isArray(t)?A(t):"string"==typeof t?fi(t):t}var vi,gi=/^--/,_i=/\s*!important$/,yi=function(t,e,n){if(gi.test(e))t.style.setProperty(e,n);else if(_i.test(n))t.style.setProperty(T(e),n.replace(_i,""),"important");else{var r=xi(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},mi=["Webkit","Moz","ms"],xi=w((function(t){if(vi=vi||document.createElement("div").style,"filter"!==(t=E(t))&&t in vi)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<mi.length;n++){var r=mi[n]+e;if(r in vi)return r}}));function bi(t,e){var n=e.data,r=t.data;if(!(i(n.staticStyle)&&i(n.style)&&i(r.staticStyle)&&i(r.style))){var a,s,u=e.elm,l=r.staticStyle,c=r.normalizedStyle||r.style||{},h=l||c,f=di(e.data.style)||{};e.data.normalizedStyle=o(f.__ob__)?I({},f):f;var p=function(t,e){var n,r={};if(e)for(var i=t;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=pi(i.data))&&I(r,n);(n=pi(t.data))&&I(r,n);for(var o=t;o=o.parent;)o.data&&(n=pi(o.data))&&I(r,n);return r}(e,!0);for(s in h)i(p[s])&&yi(u,s,"");for(s in p)(a=p[s])!==h[s]&&yi(u,s,null==a?"":a)}}var wi={create:bi,update:bi},Si=/\s+/;function Ei(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Si).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Ci(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Si).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function Oi(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&I(e,Ti(t.name||"v")),I(e,t),e}return"string"==typeof t?Ti(t):void 0}}var Ti=w((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),Pi=K&&!Q,Ri="transition",Ii="animation",Ai="transition",ki="transitionend",Mi="animation",Li="animationend";Pi&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ai="WebkitTransition",ki="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Mi="WebkitAnimation",Li="webkitAnimationEnd"));var Fi=K?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Di(t){Fi((function(){Fi(t)}))}function ji(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Ei(t,e))}function Ni(t,e){t._transitionClasses&&m(t._transitionClasses,e),Ci(t,e)}function $i(t,e,n){var r=Bi(t,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===Ri?ki:Li,u=0,l=function(){t.removeEventListener(s,c),n()},c=function(e){e.target===t&&++u>=a&&l()};setTimeout((function(){u<a&&l()}),o+1),t.addEventListener(s,c)}var zi=/\b(transform|all)(,|$)/;function Bi(t,e){var n,r=window.getComputedStyle(t),i=(r[Ai+"Delay"]||"").split(", "),o=(r[Ai+"Duration"]||"").split(", "),a=Ui(i,o),s=(r[Mi+"Delay"]||"").split(", "),u=(r[Mi+"Duration"]||"").split(", "),l=Ui(s,u),c=0,h=0;return e===Ri?a>0&&(n=Ri,c=a,h=o.length):e===Ii?l>0&&(n=Ii,c=l,h=u.length):h=(n=(c=Math.max(a,l))>0?a>l?Ri:Ii:null)?n===Ri?o.length:u.length:0,{type:n,timeout:c,propCount:h,hasTransform:n===Ri&&zi.test(r[Ai+"Property"])}}function Ui(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return Gi(e)+Gi(t[n])})))}function Gi(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Wi(t,e){var n=t.elm;o(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=Oi(t.data.transition);if(!i(r)&&!o(n._enterCb)&&1===n.nodeType){for(var a=r.css,s=r.type,l=r.enterClass,c=r.enterToClass,h=r.enterActiveClass,f=r.appearClass,p=r.appearToClass,d=r.appearActiveClass,g=r.beforeEnter,_=r.enter,y=r.afterEnter,m=r.enterCancelled,x=r.beforeAppear,b=r.appear,w=r.afterAppear,S=r.appearCancelled,E=r.duration,C=en,O=en.$vnode;O&&O.parent;)C=O.context,O=O.parent;var T=!C._isMounted||!t.isRootInsert;if(!T||b||""===b){var P=T&&f?f:l,R=T&&d?d:h,I=T&&p?p:c,A=T&&x||g,k=T&&"function"==typeof b?b:_,M=T&&w||y,L=T&&S||m,F=v(u(E)?E.enter:E);0;var D=!1!==a&&!Q,N=Hi(k),$=n._enterCb=j((function(){D&&(Ni(n,I),Ni(n,R)),$.cancelled?(D&&Ni(n,P),L&&L(n)):M&&M(n),n._enterCb=null}));t.data.show||he(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),k&&k(n,$)})),A&&A(n),D&&(ji(n,P),ji(n,R),Di((function(){Ni(n,P),$.cancelled||(ji(n,I),N||(Xi(F)?setTimeout($,F):$i(n,s,$)))}))),t.data.show&&(e&&e(),k&&k(n,$)),D||N||$()}}}function Vi(t,e){var n=t.elm;o(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=Oi(t.data.transition);if(i(r)||1!==n.nodeType)return e();if(!o(n._leaveCb)){var a=r.css,s=r.type,l=r.leaveClass,c=r.leaveToClass,h=r.leaveActiveClass,f=r.beforeLeave,p=r.leave,d=r.afterLeave,g=r.leaveCancelled,_=r.delayLeave,y=r.duration,m=!1!==a&&!Q,x=Hi(p),b=v(u(y)?y.leave:y);0;var w=n._leaveCb=j((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),m&&(Ni(n,c),Ni(n,h)),w.cancelled?(m&&Ni(n,l),g&&g(n)):(e(),d&&d(n)),n._leaveCb=null}));_?_(S):S()}function S(){w.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),f&&f(n),m&&(ji(n,l),ji(n,h),Di((function(){Ni(n,l),w.cancelled||(ji(n,c),x||(Xi(b)?setTimeout(w,b):$i(n,s,w)))}))),p&&p(n,w),m||x||w())}}function Xi(t){return"number"==typeof t&&!isNaN(t)}function Hi(t){if(i(t))return!1;var e=t.fns;return o(e)?Hi(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Ki(t,e){!0!==e.data.show&&Wi(e)}var Yi=function(t){var e,n,r={},u=t.modules,l=t.nodeOps;for(e=0;e<cr.length;++e)for(r[cr[e]]=[],n=0;n<u.length;++n)o(u[n][cr[e]])&&r[cr[e]].push(u[n][cr[e]]);function c(t){var e=l.parentNode(t);o(e)&&l.removeChild(e,t)}function h(t,e,n,i,s,u,c){if(o(t.elm)&&o(u)&&(t=u[c]=bt(t)),t.isRootInsert=!s,!function(t,e,n,i){var s=t.data;if(o(s)){var u=o(t.componentInstance)&&s.keepAlive;if(o(s=s.hook)&&o(s=s.init)&&s(t,!1),o(t.componentInstance))return f(t,e),p(n,t.elm,i),a(u)&&function(t,e,n,i){var a,s=t;for(;s.componentInstance;)if(o(a=(s=s.componentInstance._vnode).data)&&o(a=a.transition)){for(a=0;a<r.activate.length;++a)r.activate[a](lr,s);e.push(s);break}p(n,t.elm,i)}(t,e,n,i),!0}}(t,e,n,i)){var h=t.data,v=t.children,g=t.tag;o(g)?(t.elm=t.ns?l.createElementNS(t.ns,g):l.createElement(g,t),y(t),d(t,v,e),o(h)&&_(t,e),p(n,t.elm,i)):a(t.isComment)?(t.elm=l.createComment(t.text),p(n,t.elm,i)):(t.elm=l.createTextNode(t.text),p(n,t.elm,i))}}function f(t,e){o(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,v(t)?(_(t,e),y(t)):(ur(t),e.push(t))}function p(t,e,n){o(t)&&(o(n)?l.parentNode(n)===t&&l.insertBefore(t,e,n):l.appendChild(t,e))}function d(t,e,n){if(Array.isArray(e)){0;for(var r=0;r<e.length;++r)h(e[r],n,t.elm,null,!0,e,r)}else s(t.text)&&l.appendChild(t.elm,l.createTextNode(String(t.text)))}function v(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return o(t.tag)}function _(t,n){for(var i=0;i<r.create.length;++i)r.create[i](lr,t);o(e=t.data.hook)&&(o(e.create)&&e.create(lr,t),o(e.insert)&&n.push(t))}function y(t){var e;if(o(e=t.fnScopeId))l.setStyleScope(t.elm,e);else for(var n=t;n;)o(e=n.context)&&o(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e),n=n.parent;o(e=en)&&e!==t.context&&e!==t.fnContext&&o(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e)}function m(t,e,n,r,i,o){for(;r<=i;++r)h(n[r],o,t,e,!1,n,r)}function x(t){var e,n,i=t.data;if(o(i))for(o(e=i.hook)&&o(e=e.destroy)&&e(t),e=0;e<r.destroy.length;++e)r.destroy[e](t);if(o(e=t.children))for(n=0;n<t.children.length;++n)x(t.children[n])}function b(t,e,n){for(;e<=n;++e){var r=t[e];o(r)&&(o(r.tag)?(w(r),x(r)):c(r.elm))}}function w(t,e){if(o(e)||o(t.data)){var n,i=r.remove.length+1;for(o(e)?e.listeners+=i:e=function(t,e){function n(){0==--n.listeners&&c(t)}return n.listeners=e,n}(t.elm,i),o(n=t.componentInstance)&&o(n=n._vnode)&&o(n.data)&&w(n,e),n=0;n<r.remove.length;++n)r.remove[n](t,e);o(n=t.data.hook)&&o(n=n.remove)?n(t,e):e()}else c(t.elm)}function S(t,e,n,r){for(var i=n;i<r;i++){var a=e[i];if(o(a)&&hr(t,a))return i}}function E(t,e,n,s,u,c){if(t!==e){o(e.elm)&&o(s)&&(e=s[u]=bt(e));var f=e.elm=t.elm;if(a(t.isAsyncPlaceholder))o(e.asyncFactory.resolved)?T(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(a(e.isStatic)&&a(t.isStatic)&&e.key===t.key&&(a(e.isCloned)||a(e.isOnce)))e.componentInstance=t.componentInstance;else{var p,d=e.data;o(d)&&o(p=d.hook)&&o(p=p.prepatch)&&p(t,e);var g=t.children,_=e.children;if(o(d)&&v(e)){for(p=0;p<r.update.length;++p)r.update[p](t,e);o(p=d.hook)&&o(p=p.update)&&p(t,e)}i(e.text)?o(g)&&o(_)?g!==_&&function(t,e,n,r,a){var s,u,c,f=0,p=0,d=e.length-1,v=e[0],g=e[d],_=n.length-1,y=n[0],x=n[_],w=!a;for(;f<=d&&p<=_;)i(v)?v=e[++f]:i(g)?g=e[--d]:hr(v,y)?(E(v,y,r,n,p),v=e[++f],y=n[++p]):hr(g,x)?(E(g,x,r,n,_),g=e[--d],x=n[--_]):hr(v,x)?(E(v,x,r,n,_),w&&l.insertBefore(t,v.elm,l.nextSibling(g.elm)),v=e[++f],x=n[--_]):hr(g,y)?(E(g,y,r,n,p),w&&l.insertBefore(t,g.elm,v.elm),g=e[--d],y=n[++p]):(i(s)&&(s=fr(e,f,d)),i(u=o(y.key)?s[y.key]:S(y,e,f,d))?h(y,r,t,v.elm,!1,n,p):hr(c=e[u],y)?(E(c,y,r,n,p),e[u]=void 0,w&&l.insertBefore(t,c.elm,v.elm)):h(y,r,t,v.elm,!1,n,p),y=n[++p]);f>d?m(t,i(n[_+1])?null:n[_+1].elm,n,p,_,r):p>_&&b(e,f,d)}(f,g,_,n,c):o(_)?(o(t.text)&&l.setTextContent(f,""),m(f,null,_,0,_.length-1,n)):o(g)?b(g,0,g.length-1):o(t.text)&&l.setTextContent(f,""):t.text!==e.text&&l.setTextContent(f,e.text),o(d)&&o(p=d.hook)&&o(p=p.postpatch)&&p(t,e)}}}function C(t,e,n){if(a(n)&&o(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var O=g("attrs,class,staticClass,staticStyle,key");function T(t,e,n,r){var i,s=e.tag,u=e.data,l=e.children;if(r=r||u&&u.pre,e.elm=t,a(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(u)&&(o(i=u.hook)&&o(i=i.init)&&i(e,!0),o(i=e.componentInstance)))return f(e,n),!0;if(o(s)){if(o(l))if(t.hasChildNodes())if(o(i=u)&&o(i=i.domProps)&&o(i=i.innerHTML)){if(i!==t.innerHTML)return!1}else{for(var c=!0,h=t.firstChild,p=0;p<l.length;p++){if(!h||!T(h,l[p],n,r)){c=!1;break}h=h.nextSibling}if(!c||h)return!1}else d(e,l,n);if(o(u)){var v=!1;for(var g in u)if(!O(g)){v=!0,_(e,n);break}!v&&u.class&&ae(u.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,s){if(!i(e)){var u,c=!1,f=[];if(i(t))c=!0,h(e,f);else{var p=o(t.nodeType);if(!p&&hr(t,e))E(t,e,f,null,null,s);else{if(p){if(1===t.nodeType&&t.hasAttribute(N)&&(t.removeAttribute(N),n=!0),a(n)&&T(t,e,f))return C(e,f,!0),t;u=t,t=new _t(l.tagName(u).toLowerCase(),{},[],void 0,u)}var d=t.elm,g=l.parentNode(d);if(h(e,f,d._leaveCb?null:g,l.nextSibling(d)),o(e.parent))for(var _=e.parent,y=v(e);_;){for(var m=0;m<r.destroy.length;++m)r.destroy[m](_);if(_.elm=e.elm,y){for(var w=0;w<r.create.length;++w)r.create[w](lr,_);var S=_.data.hook.insert;if(S.merged)for(var O=1;O<S.fns.length;O++)S.fns[O]()}else ur(_);_=_.parent}o(g)?b([t],0,0):o(t.tag)&&x(t)}}return C(e,f,c),e.elm}o(t)&&x(t)}}({nodeOps:ar,modules:[Sr,Ar,ui,hi,wi,K?{create:Ki,activate:Ki,remove:function(t,e){!0!==t.data.show?Vi(t,e):e()}}:{}].concat(mr)});Q&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&ro(t,"input")}));var Zi={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?he(n,"postpatch",(function(){Zi.componentUpdated(t,e,n)})):qi(t,e,n.context),t._vOptions=[].map.call(t.options,to)):("textarea"===n.tag||ir(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",eo),t.addEventListener("compositionend",no),t.addEventListener("change",no),Q&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){qi(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,to);if(i.some((function(t,e){return!F(t,r[e])})))(t.multiple?e.value.some((function(t){return Qi(t,i)})):e.value!==e.oldValue&&Qi(e.value,i))&&ro(t,"change")}}};function qi(t,e,n){Ji(t,e,n),(J||tt)&&setTimeout((function(){Ji(t,e,n)}),0)}function Ji(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,u=t.options.length;s<u;s++)if(a=t.options[s],i)o=D(r,to(a))>-1,a.selected!==o&&(a.selected=o);else if(F(to(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function Qi(t,e){return e.every((function(e){return!F(e,t)}))}function to(t){return"_value"in t?t._value:t.value}function eo(t){t.target.composing=!0}function no(t){t.target.composing&&(t.target.composing=!1,ro(t.target,"input"))}function ro(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function io(t){return!t.componentInstance||t.data&&t.data.transition?t:io(t.componentInstance._vnode)}var oo={model:Zi,show:{bind:function(t,e,n){var r=e.value,i=(n=io(n)).data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,Wi(n,(function(){t.style.display=o}))):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&((n=io(n)).data&&n.data.transition?(n.data.show=!0,r?Wi(n,(function(){t.style.display=t.__vOriginalDisplay})):Vi(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}}},ao={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function so(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?so(Ze(e.children)):t}function uo(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[E(o)]=i[o];return e}function lo(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var co=function(t){return t.tag||Ye(t)},ho=function(t){return"show"===t.name},fo={name:"transition",props:ao,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(co)).length){0;var r=this.mode;0;var i=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return i;var o=so(i);if(!o)return i;if(this._leaving)return lo(t,i);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var u=(o.data||(o.data={})).transition=uo(this),l=this._vnode,c=so(l);if(o.data.directives&&o.data.directives.some(ho)&&(o.data.show=!0),c&&c.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(o,c)&&!Ye(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){var h=c.data.transition=I({},u);if("out-in"===r)return this._leaving=!0,he(h,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),lo(t,i);if("in-out"===r){if(Ye(o))return l;var f,p=function(){f()};he(u,"afterEnter",p),he(u,"enterCancelled",p),he(h,"delayLeave",(function(t){f=t}))}}return i}}},po=I({tag:String,moveClass:String},ao);function vo(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function go(t){t.data.newPos=t.elm.getBoundingClientRect()}function _o(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}delete po.mode;var yo={Transition:fo,TransitionGroup:{props:po,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=nn(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=uo(this),s=0;s<i.length;s++){var u=i[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),n[u.key]=u,(u.data||(u.data={})).transition=a;else;}if(r){for(var l=[],c=[],h=0;h<r.length;h++){var f=r[h];f.data.transition=a,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?l.push(f):c.push(f)}this.kept=t(e,null,l),this.removed=c}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(vo),t.forEach(go),t.forEach(_o),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;ji(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(ki,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(ki,t),n._moveCb=null,Ni(n,e))})}})))},methods:{hasMove:function(t,e){if(!Pi)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){Ci(n,t)})),Ei(n,e),n.style.display="none",this.$el.appendChild(n);var r=Bi(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};In.config.mustUseProp=zn,In.config.isReservedTag=er,In.config.isReservedAttr=Nn,In.config.getTagNamespace=nr,In.config.isUnknownElement=function(t){if(!K)return!0;if(er(t))return!1;if(t=t.toLowerCase(),null!=rr[t])return rr[t];var e=document.createElement(t);return t.indexOf("-")>-1?rr[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:rr[t]=/HTMLUnknownElement/.test(e.toString())},I(In.options.directives,oo),I(In.options.components,yo),In.prototype.__patch__=K?Yi:k,In.prototype.$mount=function(t,e){return function(t,e,n){var r;return t.$el=e,t.$options.render||(t.$options.render=mt),sn(t,"beforeMount"),r=function(){t._update(t._render(),n)},new mn(t,r,k,{before:function(){t._isMounted&&!t._isDestroyed&&sn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,sn(t,"mounted")),t}(this,t=t&&K?or(t):void 0,e)},K&&setTimeout((function(){B.devtools&&st&&st.emit("init",In)}),0);var mo=/\{\{((?:.|\r?\n)+?)\}\}/g,xo=/[-.*+?^${}()|[\]\/\\]/g,bo=w((function(t){var e=t[0].replace(xo,"\\$&"),n=t[1].replace(xo,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")}));var wo={staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var n=Wr(t,"class");n&&(t.staticClass=JSON.stringify(n));var r=Gr(t,"class",!1);r&&(t.classBinding=r)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}};var So,Eo={staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var n=Wr(t,"style");n&&(t.staticStyle=JSON.stringify(fi(n)));var r=Gr(t,"style",!1);r&&(t.styleBinding=r)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}},Co=function(t){return(So=So||document.createElement("div")).innerHTML=t,So.textContent},Oo=g("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),To=g("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),Po=g("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Ro=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Io=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Ao="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+U.source+"]*",ko="((?:"+Ao+"\\:)?"+Ao+")",Mo=new RegExp("^<"+ko),Lo=/^\s*(\/?)>/,Fo=new RegExp("^<\\/"+ko+"[^>]*>"),Do=/^<!DOCTYPE [^>]+>/i,jo=/^<!\--/,No=/^<!\[/,$o=g("script,style,textarea",!0),zo={},Bo={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},Uo=/&(?:lt|gt|quot|amp|#39);/g,Go=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,Wo=g("pre,textarea",!0),Vo=function(t,e){return t&&Wo(t)&&"\n"===e[0]};function Xo(t,e){var n=e?Go:Uo;return t.replace(n,(function(t){return Bo[t]}))}var Ho,Ko,Yo,Zo,qo,Jo,Qo,ta,ea=/^@|^v-on:/,na=/^v-|^@|^:|^#/,ra=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,ia=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,oa=/^\(|\)$/g,aa=/^\[.*\]$/,sa=/:(.*)$/,ua=/^:|^\.|^v-bind:/,la=/\.[^.\]]+(?=[^\]]*$)/g,ca=/^v-slot(:|$)|^#/,ha=/[\r\n]/,fa=/\s+/g,pa=w(Co),da="_empty_";function va(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:wa(e),rawAttrsMap:{},parent:n,children:[]}}function ga(t,e){Ho=e.warn||Fr,Jo=e.isPreTag||M,Qo=e.mustUseProp||M,ta=e.getTagNamespace||M;var n=e.isReservedTag||M;(function(t){return!!t.component||!n(t.tag)}),Yo=Dr(e.modules,"transformNode"),Zo=Dr(e.modules,"preTransformNode"),qo=Dr(e.modules,"postTransformNode"),Ko=e.delimiters;var r,i,o=[],a=!1!==e.preserveWhitespace,s=e.whitespace,u=!1,l=!1;function c(t){if(h(t),u||t.processed||(t=_a(t,e)),o.length||t===r||r.if&&(t.elseif||t.else)&&ma(r,{exp:t.elseif,block:t}),i&&!t.forbidden)if(t.elseif||t.else)a=t,(s=function(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];t.pop()}}(i.children))&&s.if&&ma(s,{exp:a.elseif,block:a});else{if(t.slotScope){var n=t.slotTarget||'"default"';(i.scopedSlots||(i.scopedSlots={}))[n]=t}i.children.push(t),t.parent=i}var a,s;t.children=t.children.filter((function(t){return!t.slotScope})),h(t),t.pre&&(u=!1),Jo(t.tag)&&(l=!1);for(var c=0;c<qo.length;c++)qo[c](t,e)}function h(t){if(!l)for(var e;(e=t.children[t.children.length-1])&&3===e.type&&" "===e.text;)t.children.pop()}return function(t,e){for(var n,r,i=[],o=e.expectHTML,a=e.isUnaryTag||M,s=e.canBeLeftOpenTag||M,u=0;t;){if(n=t,r&&$o(r)){var l=0,c=r.toLowerCase(),h=zo[c]||(zo[c]=new RegExp("([\\s\\S]*?)(</"+c+"[^>]*>)","i")),f=t.replace(h,(function(t,n,r){return l=r.length,$o(c)||"noscript"===c||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Vo(c,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""}));u+=t.length-f.length,t=f,O(c,u-l,u)}else{var p=t.indexOf("<");if(0===p){if(jo.test(t)){var d=t.indexOf("--\x3e");if(d>=0){e.shouldKeepComment&&e.comment(t.substring(4,d),u,u+d+3),S(d+3);continue}}if(No.test(t)){var v=t.indexOf("]>");if(v>=0){S(v+2);continue}}var g=t.match(Do);if(g){S(g[0].length);continue}var _=t.match(Fo);if(_){var y=u;S(_[0].length),O(_[1],y,u);continue}var m=E();if(m){C(m),Vo(m.tagName,t)&&S(1);continue}}var x=void 0,b=void 0,w=void 0;if(p>=0){for(b=t.slice(p);!(Fo.test(b)||Mo.test(b)||jo.test(b)||No.test(b)||(w=b.indexOf("<",1))<0);)p+=w,b=t.slice(p);x=t.substring(0,p)}p<0&&(x=t),x&&S(x.length),e.chars&&x&&e.chars(x,u-x.length,u)}if(t===n){e.chars&&e.chars(t);break}}function S(e){u+=e,t=t.substring(e)}function E(){var e=t.match(Mo);if(e){var n,r,i={tagName:e[1],attrs:[],start:u};for(S(e[0].length);!(n=t.match(Lo))&&(r=t.match(Io)||t.match(Ro));)r.start=u,S(r[0].length),r.end=u,i.attrs.push(r);if(n)return i.unarySlash=n[1],S(n[0].length),i.end=u,i}}function C(t){var n=t.tagName,u=t.unarySlash;o&&("p"===r&&Po(n)&&O(r),s(n)&&r===n&&O(n));for(var l=a(n)||!!u,c=t.attrs.length,h=new Array(c),f=0;f<c;f++){var p=t.attrs[f],d=p[3]||p[4]||p[5]||"",v="a"===n&&"href"===p[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;h[f]={name:p[1],value:Xo(d,v)}}l||(i.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:h,start:t.start,end:t.end}),r=n),e.start&&e.start(n,h,l,t.start,t.end)}function O(t,n,o){var a,s;if(null==n&&(n=u),null==o&&(o=u),t)for(s=t.toLowerCase(),a=i.length-1;a>=0&&i[a].lowerCasedTag!==s;a--);else a=0;if(a>=0){for(var l=i.length-1;l>=a;l--)e.end&&e.end(i[l].tag,n,o);i.length=a,r=a&&i[a-1].tag}else"br"===s?e.start&&e.start(t,[],!0,n,o):"p"===s&&(e.start&&e.start(t,[],!1,n,o),e.end&&e.end(t,n,o))}O()}(t,{warn:Ho,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,outputSourceRange:e.outputSourceRange,start:function(t,n,a,s,h){var f=i&&i.ns||ta(t);J&&"svg"===f&&(n=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];Sa.test(r.name)||(r.name=r.name.replace(Ea,""),e.push(r))}return e}(n));var p,d=va(t,n,i);f&&(d.ns=f),"style"!==(p=d).tag&&("script"!==p.tag||p.attrsMap.type&&"text/javascript"!==p.attrsMap.type)||at()||(d.forbidden=!0);for(var v=0;v<Zo.length;v++)d=Zo[v](d,e)||d;u||(!function(t){null!=Wr(t,"v-pre")&&(t.pre=!0)}(d),d.pre&&(u=!0)),Jo(d.tag)&&(l=!0),u?function(t){var e=t.attrsList,n=e.length;if(n)for(var r=t.attrs=new Array(n),i=0;i<n;i++)r[i]={name:e[i].name,value:JSON.stringify(e[i].value)},null!=e[i].start&&(r[i].start=e[i].start,r[i].end=e[i].end);else t.pre||(t.plain=!0)}(d):d.processed||(ya(d),function(t){var e=Wr(t,"v-if");if(e)t.if=e,ma(t,{exp:e,block:t});else{null!=Wr(t,"v-else")&&(t.else=!0);var n=Wr(t,"v-else-if");n&&(t.elseif=n)}}(d),function(t){null!=Wr(t,"v-once")&&(t.once=!0)}(d)),r||(r=d),a?c(d):(i=d,o.push(d))},end:function(t,e,n){var r=o[o.length-1];o.length-=1,i=o[o.length-1],c(r)},chars:function(t,e,n){if(i&&(!J||"textarea"!==i.tag||i.attrsMap.placeholder!==t)){var r,o,c,h=i.children;if(t=l||t.trim()?"script"===(r=i).tag||"style"===r.tag?t:pa(t):h.length?s?"condense"===s&&ha.test(t)?"":" ":a?" ":"":"")l||"condense"!==s||(t=t.replace(fa," ")),!u&&" "!==t&&(o=function(t,e){var n=e?bo(e):mo;if(n.test(t)){for(var r,i,o,a=[],s=[],u=n.lastIndex=0;r=n.exec(t);){(i=r.index)>u&&(s.push(o=t.slice(u,i)),a.push(JSON.stringify(o)));var l=Mr(r[1].trim());a.push("_s("+l+")"),s.push({"@binding":l}),u=i+r[0].length}return u<t.length&&(s.push(o=t.slice(u)),a.push(JSON.stringify(o))),{expression:a.join("+"),tokens:s}}}(t,Ko))?c={type:2,expression:o.expression,tokens:o.tokens,text:t}:" "===t&&h.length&&" "===h[h.length-1].text||(c={type:3,text:t}),c&&h.push(c)}},comment:function(t,e,n){if(i){var r={type:3,text:t,isComment:!0};0,i.children.push(r)}}}),r}function _a(t,e){var n;!function(t){var e=Gr(t,"key");if(e){t.key=e}}(t),t.plain=!t.key&&!t.scopedSlots&&!t.attrsList.length,function(t){var e=Gr(t,"ref");e&&(t.ref=e,t.refInFor=function(t){var e=t;for(;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(t))}(t),function(t){var e;"template"===t.tag?(e=Wr(t,"scope"),t.slotScope=e||Wr(t,"slot-scope")):(e=Wr(t,"slot-scope"))&&(t.slotScope=e);var n=Gr(t,"slot");n&&(t.slotTarget='""'===n?'"default"':n,t.slotTargetDynamic=!(!t.attrsMap[":slot"]&&!t.attrsMap["v-bind:slot"]),"template"===t.tag||t.slotScope||Nr(t,"slot",n,function(t,e){return t.rawAttrsMap[":"+e]||t.rawAttrsMap["v-bind:"+e]||t.rawAttrsMap[e]}(t,"slot")));if("template"===t.tag){var r=Vr(t,ca);if(r){0;var i=xa(r),o=i.name,a=i.dynamic;t.slotTarget=o,t.slotTargetDynamic=a,t.slotScope=r.value||da}}else{var s=Vr(t,ca);if(s){0;var u=t.scopedSlots||(t.scopedSlots={}),l=xa(s),c=l.name,h=l.dynamic,f=u[c]=va("template",[],t);f.slotTarget=c,f.slotTargetDynamic=h,f.children=t.children.filter((function(t){if(!t.slotScope)return t.parent=f,!0})),f.slotScope=s.value||da,t.children=[],t.plain=!1}}}(t),"slot"===(n=t).tag&&(n.slotName=Gr(n,"name")),function(t){var e;(e=Gr(t,"is"))&&(t.component=e);null!=Wr(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var r=0;r<Yo.length;r++)t=Yo[r](t,e)||t;return function(t){var e,n,r,i,o,a,s,u,l=t.attrsList;for(e=0,n=l.length;e<n;e++){if(r=i=l[e].name,o=l[e].value,na.test(r))if(t.hasBindings=!0,(a=ba(r.replace(na,"")))&&(r=r.replace(la,"")),ua.test(r))r=r.replace(ua,""),o=Mr(o),(u=aa.test(r))&&(r=r.slice(1,-1)),a&&(a.prop&&!u&&"innerHtml"===(r=E(r))&&(r="innerHTML"),a.camel&&!u&&(r=E(r)),a.sync&&(s=Kr(o,"$event"),u?Ur(t,'"update:"+('+r+")",s,null,!1,0,l[e],!0):(Ur(t,"update:"+E(r),s,null,!1,0,l[e]),T(r)!==E(r)&&Ur(t,"update:"+T(r),s,null,!1,0,l[e])))),a&&a.prop||!t.component&&Qo(t.tag,t.attrsMap.type,r)?jr(t,r,o,l[e],u):Nr(t,r,o,l[e],u);else if(ea.test(r))r=r.replace(ea,""),(u=aa.test(r))&&(r=r.slice(1,-1)),Ur(t,r,o,a,!1,0,l[e],u);else{var c=(r=r.replace(na,"")).match(sa),h=c&&c[1];u=!1,h&&(r=r.slice(0,-(h.length+1)),aa.test(h)&&(h=h.slice(1,-1),u=!0)),zr(t,r,i,o,h,u,a,l[e])}else Nr(t,r,JSON.stringify(o),l[e]),!t.component&&"muted"===r&&Qo(t.tag,t.attrsMap.type,r)&&jr(t,r,"true",l[e])}}(t),t}function ya(t){var e;if(e=Wr(t,"v-for")){var n=function(t){var e=t.match(ra);if(!e)return;var n={};n.for=e[2].trim();var r=e[1].trim().replace(oa,""),i=r.match(ia);i?(n.alias=r.replace(ia,"").trim(),n.iterator1=i[1].trim(),i[2]&&(n.iterator2=i[2].trim())):n.alias=r;return n}(e);n&&I(t,n)}}function ma(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function xa(t){var e=t.name.replace(ca,"");return e||"#"!==t.name[0]&&(e="default"),aa.test(e)?{name:e.slice(1,-1),dynamic:!0}:{name:'"'+e+'"',dynamic:!1}}function ba(t){var e=t.match(la);if(e){var n={};return e.forEach((function(t){n[t.slice(1)]=!0})),n}}function wa(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n].name]=t[n].value;return e}var Sa=/^xmlns:NS\d+/,Ea=/^NS\d+:/;function Ca(t){return va(t.tag,t.attrsList.slice(),t.parent)}var Oa=[wo,Eo,{preTransformNode:function(t,e){if("input"===t.tag){var n,r=t.attrsMap;if(!r["v-model"])return;if((r[":type"]||r["v-bind:type"])&&(n=Gr(t,"type")),r.type||n||!r["v-bind"]||(n="("+r["v-bind"]+").type"),n){var i=Wr(t,"v-if",!0),o=i?"&&("+i+")":"",a=null!=Wr(t,"v-else",!0),s=Wr(t,"v-else-if",!0),u=Ca(t);ya(u),$r(u,"type","checkbox"),_a(u,e),u.processed=!0,u.if="("+n+")==='checkbox'"+o,ma(u,{exp:u.if,block:u});var l=Ca(t);Wr(l,"v-for",!0),$r(l,"type","radio"),_a(l,e),ma(u,{exp:"("+n+")==='radio'"+o,block:l});var c=Ca(t);return Wr(c,"v-for",!0),$r(c,":type",n),_a(c,e),ma(u,{exp:i,block:c}),a?u.else=!0:s&&(u.elseif=s),u}}}}];var Ta,Pa,Ra={expectHTML:!0,modules:Oa,directives:{model:function(t,e,n){n;var r=e.value,i=e.modifiers,o=t.tag,a=t.attrsMap.type;if(t.component)return Hr(t,r,i),!1;if("select"===o)!function(t,e,n){var r='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(n&&n.number?"_n(val)":"val")+"});";r=r+" "+Kr(e,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),Ur(t,"change",r,null,!0)}(t,r,i);else if("input"===o&&"checkbox"===a)!function(t,e,n){var r=n&&n.number,i=Gr(t,"value")||"null",o=Gr(t,"true-value")||"true",a=Gr(t,"false-value")||"false";jr(t,"checked","Array.isArray("+e+")?_i("+e+","+i+")>-1"+("true"===o?":("+e+")":":_q("+e+","+o+")")),Ur(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+a+");if(Array.isArray($$a)){var $$v="+(r?"_n("+i+")":i)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Kr(e,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Kr(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Kr(e,"$$c")+"}",null,!0)}(t,r,i);else if("input"===o&&"radio"===a)!function(t,e,n){var r=n&&n.number,i=Gr(t,"value")||"null";jr(t,"checked","_q("+e+","+(i=r?"_n("+i+")":i)+")"),Ur(t,"change",Kr(e,i),null,!0)}(t,r,i);else if("input"===o||"textarea"===o)!function(t,e,n){var r=t.attrsMap.type;0;var i=n||{},o=i.lazy,a=i.number,s=i.trim,u=!o&&"range"!==r,l=o?"change":"range"===r?ei:"input",c="$event.target.value";s&&(c="$event.target.value.trim()");a&&(c="_n("+c+")");var h=Kr(e,c);u&&(h="if($event.target.composing)return;"+h);jr(t,"value","("+e+")"),Ur(t,l,h,null,!0),(s||a)&&Ur(t,"blur","$forceUpdate()")}(t,r,i);else{if(!B.isReservedTag(o))return Hr(t,r,i),!1}return!0},text:function(t,e){e.value&&jr(t,"textContent","_s("+e.value+")",e)},html:function(t,e){e.value&&jr(t,"innerHTML","_s("+e.value+")",e)}},isPreTag:function(t){return"pre"===t},isUnaryTag:Oo,mustUseProp:zn,canBeLeftOpenTag:To,isReservedTag:er,getTagNamespace:nr,staticKeys:function(t){return t.reduce((function(t,e){return t.concat(e.staticKeys||[])}),[]).join(",")}(Oa)},Ia=w((function(t){return g("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(t?","+t:""))}));function Aa(t,e){t&&(Ta=Ia(e.staticKeys||""),Pa=e.isReservedTag||M,ka(t),Ma(t,!1))}function ka(t){if(t.static=function(t){if(2===t.type)return!1;if(3===t.type)return!0;return!(!t.pre&&(t.hasBindings||t.if||t.for||_(t.tag)||!Pa(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(Ta)))}(t),1===t.type){if(!Pa(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var e=0,n=t.children.length;e<n;e++){var r=t.children[e];ka(r),r.static||(t.static=!1)}if(t.ifConditions)for(var i=1,o=t.ifConditions.length;i<o;i++){var a=t.ifConditions[i].block;ka(a),a.static||(t.static=!1)}}}function Ma(t,e){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=e),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var n=0,r=t.children.length;n<r;n++)Ma(t.children[n],e||!!t.for);if(t.ifConditions)for(var i=1,o=t.ifConditions.length;i<o;i++)Ma(t.ifConditions[i].block,e)}}var La=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,Fa=/\([^)]*?\);*$/,Da=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,ja={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Na={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},$a=function(t){return"if("+t+")return null;"},za={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:$a("$event.target !== $event.currentTarget"),ctrl:$a("!$event.ctrlKey"),shift:$a("!$event.shiftKey"),alt:$a("!$event.altKey"),meta:$a("!$event.metaKey"),left:$a("'button' in $event && $event.button !== 0"),middle:$a("'button' in $event && $event.button !== 1"),right:$a("'button' in $event && $event.button !== 2")};function Ba(t,e){var n=e?"nativeOn:":"on:",r="",i="";for(var o in t){var a=Ua(t[o]);t[o]&&t[o].dynamic?i+=o+","+a+",":r+='"'+o+'":'+a+","}return r="{"+r.slice(0,-1)+"}",i?n+"_d("+r+",["+i.slice(0,-1)+"])":n+r}function Ua(t){if(!t)return"function(){}";if(Array.isArray(t))return"["+t.map((function(t){return Ua(t)})).join(",")+"]";var e=Da.test(t.value),n=La.test(t.value),r=Da.test(t.value.replace(Fa,""));if(t.modifiers){var i="",o="",a=[];for(var s in t.modifiers)if(za[s])o+=za[s],ja[s]&&a.push(s);else if("exact"===s){var u=t.modifiers;o+=$a(["ctrl","shift","alt","meta"].filter((function(t){return!u[t]})).map((function(t){return"$event."+t+"Key"})).join("||"))}else a.push(s);return a.length&&(i+=function(t){return"if(!$event.type.indexOf('key')&&"+t.map(Ga).join("&&")+")return null;"}(a)),o&&(i+=o),"function($event){"+i+(e?"return "+t.value+"($event)":n?"return ("+t.value+")($event)":r?"return "+t.value:t.value)+"}"}return e||n?t.value:"function($event){"+(r?"return "+t.value:t.value)+"}"}function Ga(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=ja[t],r=Na[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(r)+")"}var Wa={on:function(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}},bind:function(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}},cloak:k},Va=function(t){this.options=t,this.warn=t.warn||Fr,this.transforms=Dr(t.modules,"transformCode"),this.dataGenFns=Dr(t.modules,"genData"),this.directives=I(I({},Wa),t.directives);var e=t.isReservedTag||M;this.maybeComponent=function(t){return!!t.component||!e(t.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function Xa(t,e){var n=new Va(e);return{render:"with(this){return "+(t?Ha(t,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function Ha(t,e){if(t.parent&&(t.pre=t.pre||t.parent.pre),t.staticRoot&&!t.staticProcessed)return Ka(t,e);if(t.once&&!t.onceProcessed)return Ya(t,e);if(t.for&&!t.forProcessed)return Ja(t,e);if(t.if&&!t.ifProcessed)return Za(t,e);if("template"!==t.tag||t.slotTarget||e.pre){if("slot"===t.tag)return function(t,e){var n=t.slotName||'"default"',r=ns(t,e),i="_t("+n+(r?","+r:""),o=t.attrs||t.dynamicAttrs?os((t.attrs||[]).concat(t.dynamicAttrs||[]).map((function(t){return{name:E(t.name),value:t.value,dynamic:t.dynamic}}))):null,a=t.attrsMap["v-bind"];!o&&!a||r||(i+=",null");o&&(i+=","+o);a&&(i+=(o?"":",null")+","+a);return i+")"}(t,e);var n;if(t.component)n=function(t,e,n){var r=e.inlineTemplate?null:ns(e,n,!0);return"_c("+t+","+Qa(e,n)+(r?","+r:"")+")"}(t.component,t,e);else{var r;(!t.plain||t.pre&&e.maybeComponent(t))&&(r=Qa(t,e));var i=t.inlineTemplate?null:ns(t,e,!0);n="_c('"+t.tag+"'"+(r?","+r:"")+(i?","+i:"")+")"}for(var o=0;o<e.transforms.length;o++)n=e.transforms[o](t,n);return n}return ns(t,e)||"void 0"}function Ka(t,e){t.staticProcessed=!0;var n=e.pre;return t.pre&&(e.pre=t.pre),e.staticRenderFns.push("with(this){return "+Ha(t,e)+"}"),e.pre=n,"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function Ya(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return Za(t,e);if(t.staticInFor){for(var n="",r=t.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+Ha(t,e)+","+e.onceId+++","+n+")":Ha(t,e)}return Ka(t,e)}function Za(t,e,n,r){return t.ifProcessed=!0,qa(t.ifConditions.slice(),e,n,r)}function qa(t,e,n,r){if(!t.length)return r||"_e()";var i=t.shift();return i.exp?"("+i.exp+")?"+o(i.block)+":"+qa(t,e,n,r):""+o(i.block);function o(t){return n?n(t,e):t.once?Ya(t,e):Ha(t,e)}}function Ja(t,e,n,r){var i=t.for,o=t.alias,a=t.iterator1?","+t.iterator1:"",s=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,(r||"_l")+"(("+i+"),function("+o+a+s+"){return "+(n||Ha)(t,e)+"})"}function Qa(t,e){var n="{",r=function(t,e){var n=t.directives;if(!n)return;var r,i,o,a,s="directives:[",u=!1;for(r=0,i=n.length;r<i;r++){o=n[r],a=!0;var l=e.directives[o.name];l&&(a=!!l(t,o,e.warn)),a&&(u=!0,s+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?",arg:"+(o.isDynamicArg?o.arg:'"'+o.arg+'"'):"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}if(u)return s.slice(0,-1)+"]"}(t,e);r&&(n+=r+","),t.key&&(n+="key:"+t.key+","),t.ref&&(n+="ref:"+t.ref+","),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'+t.tag+'",');for(var i=0;i<e.dataGenFns.length;i++)n+=e.dataGenFns[i](t);if(t.attrs&&(n+="attrs:"+os(t.attrs)+","),t.props&&(n+="domProps:"+os(t.props)+","),t.events&&(n+=Ba(t.events,!1)+","),t.nativeEvents&&(n+=Ba(t.nativeEvents,!0)+","),t.slotTarget&&!t.slotScope&&(n+="slot:"+t.slotTarget+","),t.scopedSlots&&(n+=function(t,e,n){var r=t.for||Object.keys(e).some((function(t){var n=e[t];return n.slotTargetDynamic||n.if||n.for||ts(n)})),i=!!t.if;if(!r)for(var o=t.parent;o;){if(o.slotScope&&o.slotScope!==da||o.for){r=!0;break}o.if&&(i=!0),o=o.parent}var a=Object.keys(e).map((function(t){return es(e[t],n)})).join(",");return"scopedSlots:_u(["+a+"]"+(r?",null,true":"")+(!r&&i?",null,false,"+function(t){var e=5381,n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e>>>0}(a):"")+")"}(t,t.scopedSlots,e)+","),t.model&&(n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var o=function(t,e){var n=t.children[0];0;if(n&&1===n.type){var r=Xa(n,e.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map((function(t){return"function(){"+t+"}"})).join(",")+"]}"}}(t,e);o&&(n+=o+",")}return n=n.replace(/,$/,"")+"}",t.dynamicAttrs&&(n="_b("+n+',"'+t.tag+'",'+os(t.dynamicAttrs)+")"),t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function ts(t){return 1===t.type&&("slot"===t.tag||t.children.some(ts))}function es(t,e){var n=t.attrsMap["slot-scope"];if(t.if&&!t.ifProcessed&&!n)return Za(t,e,es,"null");if(t.for&&!t.forProcessed)return Ja(t,e,es);var r=t.slotScope===da?"":String(t.slotScope),i="function("+r+"){return "+("template"===t.tag?t.if&&n?"("+t.if+")?"+(ns(t,e)||"undefined")+":undefined":ns(t,e)||"undefined":Ha(t,e))+"}",o=r?"":",proxy:true";return"{key:"+(t.slotTarget||'"default"')+",fn:"+i+o+"}"}function ns(t,e,n,r,i){var o=t.children;if(o.length){var a=o[0];if(1===o.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag){var s=n?e.maybeComponent(a)?",1":",0":"";return""+(r||Ha)(a,e)+s}var u=n?function(t,e){for(var n=0,r=0;r<t.length;r++){var i=t[r];if(1===i.type){if(rs(i)||i.ifConditions&&i.ifConditions.some((function(t){return rs(t.block)}))){n=2;break}(e(i)||i.ifConditions&&i.ifConditions.some((function(t){return e(t.block)})))&&(n=1)}}return n}(o,e.maybeComponent):0,l=i||is;return"["+o.map((function(t){return l(t,e)})).join(",")+"]"+(u?","+u:"")}}function rs(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function is(t,e){return 1===t.type?Ha(t,e):3===t.type&&t.isComment?function(t){return"_e("+JSON.stringify(t.text)+")"}(t):function(t){return"_v("+(2===t.type?t.expression:as(JSON.stringify(t.text)))+")"}(t)}function os(t){for(var e="",n="",r=0;r<t.length;r++){var i=t[r],o=as(i.value);i.dynamic?n+=i.name+","+o+",":e+='"'+i.name+'":'+o+","}return e="{"+e.slice(0,-1)+"}",n?"_d("+e+",["+n.slice(0,-1)+"])":e}function as(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");function ss(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),k}}function us(t){var e=Object.create(null);return function(n,r,i){(r=I({},r)).warn;delete r.warn;var o=r.delimiters?String(r.delimiters)+n:n;if(e[o])return e[o];var a=t(n,r);var s={},u=[];return s.render=ss(a.render,u),s.staticRenderFns=a.staticRenderFns.map((function(t){return ss(t,u)})),e[o]=s}}var ls,cs,hs=(ls=function(t,e){var n=ga(t.trim(),e);!1!==e.optimize&&Aa(n,e);var r=Xa(n,e);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}},function(t){function e(e,n){var r=Object.create(t),i=[],o=[];if(n)for(var a in n.modules&&(r.modules=(t.modules||[]).concat(n.modules)),n.directives&&(r.directives=I(Object.create(t.directives||null),n.directives)),n)"modules"!==a&&"directives"!==a&&(r[a]=n[a]);r.warn=function(t,e,n){(n?o:i).push(t)};var s=ls(e.trim(),r);return s.errors=i,s.tips=o,s}return{compile:e,compileToFunctions:us(e)}})(Ra),fs=(hs.compile,hs.compileToFunctions);function ps(t){return(cs=cs||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',cs.innerHTML.indexOf("&#10;")>0}var ds=!!K&&ps(!1),vs=!!K&&ps(!0),gs=w((function(t){var e=or(t);return e&&e.innerHTML})),_s=In.prototype.$mount;In.prototype.$mount=function(t,e){if((t=t&&or(t))===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=gs(r));else{if(!r.nodeType)return this;r=r.innerHTML}else t&&(r=function(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t));if(r){0;var i=fs(r,{outputSourceRange:!1,shouldDecodeNewlines:ds,shouldDecodeNewlinesForHref:vs,delimiters:n.delimiters,comments:n.comments},this),o=i.render,a=i.staticRenderFns;n.render=o,n.staticRenderFns=a}}return _s.call(this,t,e)},In.compile=fs;const ys=In},608:()=>{}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}};return e[t].call(o.exports,o,o.exports,r),o.exports}r.m=e,t=[],r.O=(e,n,i,o)=>{if(!n){var a=1/0;for(l=0;l<t.length;l++){for(var[n,i,o]=t[l],s=!0,u=0;u<n.length;u++)(!1&o||a>=o)&&Object.keys(r.O).every((t=>r.O[t](n[u])))?n.splice(u--,1):(s=!1,o<a&&(a=o));s&&(t.splice(l--,1),e=i())}return e}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[n,i,o]},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={773:0,170:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var i,o,[a,s,u]=n,l=0;for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(u)var c=u(r);for(e&&e(n);l<a.length;l++)o=a[l],r.o(t,o)&&t[o]&&t[o][0](),t[a[l]]=0;return r.O(c)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),r.O(void 0,[170],(()=>r(509)));var i=r.O(void 0,[170],(()=>r(67)));i=r.O(i)})();